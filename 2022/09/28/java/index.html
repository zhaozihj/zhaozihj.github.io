<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="变量在Java中，静态变量和实例变量可以统称为成员变量。首先，明白什么是静态变量，什么是实例变量，他们定义的形式。静态变量也叫做类变量，独立于方法之外的变量，有static修饰。实例变量同样独立也是独立于方法之外 的变量，但没有static修饰。 运算符&lt;&lt;：是逻辑左移，右边补0，符号位和其他位一样要移动。 数学意义：在数字没有溢出的前提下，对于正数和负数，左移一位都相当于乘以2的1次">
<meta property="og:type" content="article">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/2022/09/28/java/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="变量在Java中，静态变量和实例变量可以统称为成员变量。首先，明白什么是静态变量，什么是实例变量，他们定义的形式。静态变量也叫做类变量，独立于方法之外的变量，有static修饰。实例变量同样独立也是独立于方法之外 的变量，但没有static修饰。 运算符&lt;&lt;：是逻辑左移，右边补0，符号位和其他位一样要移动。 数学意义：在数字没有溢出的前提下，对于正数和负数，左移一位都相当于乘以2的1次">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://iknow-pic.cdn.bcebos.com/9a504fc2d5628535e649906f9def76c6a6ef63d6?x-bce-process=image/resize,m_lfit,w_600,h_800,limit_1/quality,q_85/format,f_auto">
<meta property="og:image" content="https://ask.qcloudimg.com/http-save/yehe-1105332/ai4ygp7agk.jpeg?imageView2/2/w/1620">
<meta property="og:image" content="https://ask.qcloudimg.com/http-save/yehe-1105332/p51hv0wn5m.jpeg?imageView2/2/w/1620">
<meta property="og:image" content="https://ask.qcloudimg.com/http-save/yehe-1105332/m566xmurge.jpeg?imageView2/2/w/1620">
<meta property="og:image" content="https://ask.qcloudimg.com/http-save/yehe-1105332/vsrxkvfxc7.jpeg?imageView2/2/w/1620">
<meta property="og:image" content="https://ask.qcloudimg.com/http-save/yehe-1105332/6rndhfu6hx.jpeg?imageView2/2/w/1620">
<meta property="og:image" content="https://ask.qcloudimg.com/http-save/yehe-1105332/g05rshfvbw.jpeg?imageView2/2/w/1620">
<meta property="og:image" content="https://ask.qcloudimg.com/http-save/yehe-1105332/kuvpbmm5zx.jpeg?imageView2/2/w/1620">
<meta property="og:image" content="https://img-blog.csdnimg.cn/f6fcbe7172c64aa7988bd48e76fd10e5.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAc2lsZW50X3NvbHctdHlwZQ==,size_7,color_FFFFFF,t_70,g_se,x_16#pic_center">
<meta property="og:image" content="https://img-blog.csdnimg.cn/709b1d9e84d64a2aa8e3ca2404f5f405.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAc2lsZW50X3NvbHctdHlwZQ==,size_7,color_FFFFFF,t_70,g_se,x_16#pic_center">
<meta property="og:image" content="https://img-blog.csdnimg.cn/6a74c8512aad473393e6242595fcd98a.png#pic_center">
<meta property="og:image" content="c:\Users#%E8%B5%B5%E6%A2%93%E7%9A%93&\AppData\Roaming\Typora\typora-user-images\image-20220502173211818.png">
<meta property="og:image" content="c:\Users#%E8%B5%B5%E6%A2%93%E7%9A%93&\AppData\Roaming\Typora\typora-user-images\image-20220613180744555.png">
<meta property="og:image" content="c:\Users#%E8%B5%B5%E6%A2%93%E7%9A%93&\AppData\Roaming\Typora\typora-user-images\image-20220812101529560.png">
<meta property="og:image" content="c:\Users#%E8%B5%B5%E6%A2%93%E7%9A%93&\AppData\Roaming\Typora\typora-user-images\image-20220614165454798.png">
<meta property="og:image" content="c:\Users#%E8%B5%B5%E6%A2%93%E7%9A%93&\AppData\Roaming\Typora\typora-user-images\image-20220614165920339.png">
<meta property="og:image" content="e:\%E4%B8%B4%E6%97%B6\20190218\snipaste_20190218_141555.png">
<meta property="og:image" content="c:\Users#%E8%B5%B5%E6%A2%93%E7%9A%93&\AppData\Roaming\Typora\typora-user-images\image-20220627195256296.png">
<meta property="og:image" content="c:\Users#%E8%B5%B5%E6%A2%93%E7%9A%93&\AppData\Roaming\Typora\typora-user-images\image-20220615163131796.png">
<meta property="og:image" content="c:\Users#%E8%B5%B5%E6%A2%93%E7%9A%93&\AppData\Roaming\Typora\typora-user-images\image-20220615163444672.png">
<meta property="og:image" content="c:\Users#%E8%B5%B5%E6%A2%93%E7%9A%93&\AppData\Roaming\Typora\typora-user-images\image-20220629161901489.png">
<meta property="og:image" content="c:\Users#%E8%B5%B5%E6%A2%93%E7%9A%93&\AppData\Roaming\Typora\typora-user-images\image-20220629161813100.png">
<meta property="og:image" content="c:\Users#%E8%B5%B5%E6%A2%93%E7%9A%93&\AppData\Roaming\Typora\typora-user-images\image-20220630092834626.png">
<meta property="og:image" content="c:\Users#%E8%B5%B5%E6%A2%93%E7%9A%93&\AppData\Roaming\Typora\typora-user-images\image-20220630172509475.png">
<meta property="og:image" content="c:\Users#%E8%B5%B5%E6%A2%93%E7%9A%93&\AppData\Roaming\Typora\typora-user-images\image-20220630194653667.png">
<meta property="og:image" content="c:\Users#%E8%B5%B5%E6%A2%93%E7%9A%93&\AppData\Roaming\Typora\typora-user-images\image-20220701111555045.png">
<meta property="og:image" content="c:\Users#%E8%B5%B5%E6%A2%93%E7%9A%93&\AppData\Roaming\Typora\typora-user-images\image-20220701201821452.png">
<meta property="og:image" content="c:\Users#%E8%B5%B5%E6%A2%93%E7%9A%93&\AppData\Roaming\Typora\typora-user-images\image-20220701202244844.png">
<meta property="og:image" content="c:\Users#%E8%B5%B5%E6%A2%93%E7%9A%93&\AppData\Roaming\Typora\typora-user-images\image-20220702095304289.png">
<meta property="og:image" content="c:\Users#%E8%B5%B5%E6%A2%93%E7%9A%93&\AppData\Roaming\Typora\typora-user-images\image-20220704100010536.png">
<meta property="og:image" content="c:\Users#%E8%B5%B5%E6%A2%93%E7%9A%93&\AppData\Roaming\Typora\typora-user-images\image-20220704095925383.png">
<meta property="og:image" content="c:\Users#%E8%B5%B5%E6%A2%93%E7%9A%93&\AppData\Roaming\Typora\typora-user-images\image-20220704105709084.png">
<meta property="og:image" content="c:\Users#%E8%B5%B5%E6%A2%93%E7%9A%93&\AppData\Roaming\Typora\typora-user-images\image-20220704145056423.png">
<meta property="og:image" content="c:\Users#%E8%B5%B5%E6%A2%93%E7%9A%93&\AppData\Roaming\Typora\typora-user-images\image-20220704144914060.png">
<meta property="og:image" content="c:\Users#%E8%B5%B5%E6%A2%93%E7%9A%93&\AppData\Roaming\Typora\typora-user-images\image-20220704153420537.png">
<meta property="og:image" content="c:\Users#%E8%B5%B5%E6%A2%93%E7%9A%93&\AppData\Roaming\Typora\typora-user-images\image-20220927113944650.png">
<meta property="og:image" content="c:\Users#%E8%B5%B5%E6%A2%93%E7%9A%93&\AppData\Roaming\Typora\typora-user-images\image-20220927115032333.png">
<meta property="og:image" content="c:\Users#%E8%B5%B5%E6%A2%93%E7%9A%93&\AppData\Roaming\Typora\typora-user-images\image-20220927121211719.png">
<meta property="article:published_time" content="2022-09-28T08:04:47.856Z">
<meta property="article:modified_time" content="2022-09-28T08:10:48.686Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://iknow-pic.cdn.bcebos.com/9a504fc2d5628535e649906f9def76c6a6ef63d6?x-bce-process=image/resize,m_lfit,w_600,h_800,limit_1/quality,q_85/format,f_auto">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-java" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/09/28/java/" class="article-date">
  <time class="dt-published" datetime="2022-09-28T08:04:47.856Z" itemprop="datePublished">2022-09-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h3><p>在Java中，<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=%E9%9D%99%E6%80%81%E5%8F%98%E9%87%8F&spm=1001.2101.3001.7020">静态变量</a>和实例变量可以统称为成员变量。首先，明白什么是静态变量，什么是实例变量，他们定义的形式。静态变量也叫做类变量，独立于方法之外的变量，有static修饰。实例变量同样独立也是独立于方法之外 的变量，但没有static修饰。</p>
<h2 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h2><p>&lt;&lt;：是逻辑左移，右边补0，符号位和其他位一样要移动。</p>
<p>数学意义：在数字没有溢出的前提下，对于正数和负数，左移一位都相当于乘以2的1次方，左移n位就相当于乘以2的n次方。</p>
<p>计算：3 &lt;&lt; 2</p>
<p>3 &lt;&lt; 2，则是将数字3左移2位</p>
<p>1、首先把3转换为二进制数字0000 0000 0000 0000 0000 0000 0000 0011</p>
<p>2、然后把该数字高位（左侧）的两个零移出，其他的数字都朝左平移2位，最后在低位（右侧）的两个空位补零。</p>
<p>3、则得到的最终结果是0000 0000 0000 0000 0000 0000 0000 1100，则转换为十进制是12。<img src="https://iknow-pic.cdn.bcebos.com/9a504fc2d5628535e649906f9def76c6a6ef63d6?x-bce-process=image/resize,m_lfit,w_600,h_800,limit_1/quality,q_85/format,f_auto" alt="img"></p>
<blockquote>
<blockquote>
<p>（右移运算符）</p>
</blockquote>
</blockquote>
<p><img src="https://ask.qcloudimg.com/http-save/yehe-1105332/ai4ygp7agk.jpeg?imageView2/2/w/1620" alt="img"></p>
<p>位运算符</p>
<blockquote>
<p>凡位运算符都是把值先转换成二进制再进行后续的处理，5的二进制位是0000 0101，右移两位就是把101左移后为0000 0001，正数左边第一位补0，负数补1，等于除于2的n次方，结果为1   ，<strong>只保留了结果的整数部分</strong></p>
</blockquote>
<p>&amp;（按位与）</p>
<blockquote>
<p><img src="https://ask.qcloudimg.com/http-save/yehe-1105332/p51hv0wn5m.jpeg?imageView2/2/w/1620" alt="img"></p>
</blockquote>
<p>位运算符</p>
<blockquote>
<p>&amp;按位与的运算规则是将两边的数转换为二进制位，然后运算最终值，运算规则即(两个为真才为真)1&amp;1&#x3D;1 , 1&amp;0&#x3D;0 , 0&amp;1&#x3D;0 , 0&amp;0&#x3D;0</p>
<p>3的二进制位是0000 0011 ， 5的二进制位是0000 0101 ， 那么就是011 &amp; 101，由按位与运算规则得知，001 &amp; 101等于0000 0001，最终值为1</p>
<p>7的二进制位是0000 0111，那就是111 &amp; 101等于101，也就是0000 0101，故值为5</p>
</blockquote>
<p>|（按位或）</p>
<p><img src="https://ask.qcloudimg.com/http-save/yehe-1105332/m566xmurge.jpeg?imageView2/2/w/1620" alt="img"></p>
<p>位运算符</p>
<blockquote>
<p>|按位或和&amp;按位与计算方式都是转换二进制再计算，不同的是运算规则(一个为真即为真)1|0 &#x3D; 1 , 1|1 &#x3D; 1 , 0|0 &#x3D; 0 , 0|1 &#x3D; 1</p>
<p>6的二进制位0000 0110 , 2的二进制位0000 0010 , 110|010为110，最终值0000 0110，故6|2等于6</p>
</blockquote>
<p>^（异或运算符）</p>
<p><img src="https://ask.qcloudimg.com/http-save/yehe-1105332/vsrxkvfxc7.jpeg?imageView2/2/w/1620" alt="img"></p>
<p>位运算符</p>
<blockquote>
<p>^异或运算符顾名思义，异就是不同，其运算规则为1^0 &#x3D; 1 , 1^1 &#x3D; 0 , 0^1 &#x3D; 1 , 0^0 &#x3D; 0</p>
<p>5的二进制位是0000 0101 ， 9的二进制位是0000 1001，也就是0101 ^ 1001,结果为1100 , 00001100的十进制位是12</p>
</blockquote>
<p>~（取反运算符）</p>
<p><img src="https://ask.qcloudimg.com/http-save/yehe-1105332/6rndhfu6hx.jpeg?imageView2/2/w/1620" alt="img"></p>
<p>位运算符</p>
<blockquote>
<p>取反就是1为0,0为1,5的二进制位是0000 0101，取反后为1111 1010，值为-6</p>
</blockquote>
<blockquote>
<blockquote>
<blockquote>
<p>（无符号右移运算符）</p>
</blockquote>
</blockquote>
</blockquote>
<p><img src="https://ask.qcloudimg.com/http-save/yehe-1105332/g05rshfvbw.jpeg?imageView2/2/w/1620" alt="img"></p>
<p>正数无符号右移</p>
<p>无符号右移运算符和右移运算符的主要区别在于负数的计算，因为无符号右移是高位补0，移多少位补多少个0。</p>
<p>15的二进制位是0000 1111 ， 右移2位0000 0011，结果为3</p>
<p><img src="https://ask.qcloudimg.com/http-save/yehe-1105332/kuvpbmm5zx.jpeg?imageView2/2/w/1620" alt="img"></p>
<p>负数无符号右移</p>
<p>-6的二进制是6的二进制取反再加1,6的二进制也就是0000 0000 0000 0000 0000 0000 0000 0110，取反后加1为1111 1111 1111 1111 1111 1111 1111 1010，右移三位0001 1111 1111 1111 1111 1111 1111 1111</p>
<p>二进制正值转负值</p>
<p>a.最高位改成1<br>    b.除了最高位，其他位<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=%E5%8F%96%E5%8F%8D&spm=1001.2101.3001.7020">取反</a><br>    c.结果+1<br>    d.得到的结果就是对应的负值</p>
<h3 id="java-lang包"><a href="#java-lang包" class="headerlink" title="java.lang包"></a>java.lang包</h3><p>java.lang包是java语言的核心，它提供了java中的基础类。包括基本Object类、Class类、String类、基本类型的包装类、基本的数学类等等最基本的类。我们介绍一下Java 8中的java.lang包。主要类如下图：</p>
<p>类 由   域(变量) 方法  组成</p>
<p>常量叫做直接量</p>
<h3 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h3><p>基本数据类型:整形:短整型，整形，长整型，字节型<br>空数组<br>引用数据类型:类，接口，数组</p>
<p>字符’       ‘<br>字符串”  “</p>
<p>一个字节八比特，一个byte八位</p>
<p>byte 1字节     short2字节    int  4字节    long 8字节 float  4字节 double  8字节 char 2字节  boolean  1位</p>
<h2 id="类方法与实例方法的区别"><a href="#类方法与实例方法的区别" class="headerlink" title="类方法与实例方法的区别"></a>类方法与实例方法的区别</h2><h3 id="定义："><a href="#定义：" class="headerlink" title="定义："></a>定义：</h3><p>类方法：static修饰的方法<br>实例方法：由类创建实例调用</p>
<p>对象变量:指类中不加static的成员变量</p>
<h3 id="区别："><a href="#区别：" class="headerlink" title="区别："></a>区别：</h3><ol>
<li>类方法中不能引用对象变量；实例方法可以引用对象变量，也可以引用类变量。<img src="https://img-blog.csdnimg.cn/f6fcbe7172c64aa7988bd48e76fd10e5.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAc2lsZW50X3NvbHctdHlwZQ==,size_7,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="在这里插入图片描述"></li>
<li>类方法不能直接调用实例方法；实例方法可以直接调用类方法<img src="https://img-blog.csdnimg.cn/709b1d9e84d64a2aa8e3ca2404f5f405.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAc2lsZW50X3NvbHctdHlwZQ==,size_7,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="在这里插入图片描述"></li>
<li>类方法中不能使用super、this关键字；实例方法可以使用。<img src="https://img-blog.csdnimg.cn/6a74c8512aad473393e6242595fcd98a.png#pic_center" alt="在这里插入图片描述"></li>
<li>类方法不能被覆盖。</li>
</ol>
<p>5.实例方法不能通过类名调用，当类的字节码文件被加载到内存时，类的实例方法不会被分配入口地址，当该类创建对象后，类中的实例方法才分配入口地址，从而实例方法可以被类创建的任何对象调用执行。</p>
<p>6.类方法可以通过类名调用，类方法在该类被加载到内存时，就分配了相应的入口地址。从而类方法不仅可以被类创建的任何对象调用执行，也可以直接通过类名调用。类方法的入口地址直到程序退出时才被取消。</p>
<p>类名.方法名()</p>
<p><img src="C:\Users#赵梓皓&\AppData\Roaming\Typora\typora-user-images\image-20220502173211818.png" alt="image-20220502173211818"></p>
<p>子类中出现和父类相同的方法，就是覆盖，子类的对象就无法访问父类的那个被覆盖的方法，覆盖方法和被覆盖的方法要么都是类方法，要么都是实例方法，不能一个是类方法，一个是实例方法</p>
<p>private方法不支持重写</p>
<p>如果父类方法是private，即使子类中定义一个与父类private方法相同的方法名，相同的参数列表依然不是重写，只是在子类里重新定义了一个新的方法</p>
<h3 id="标识符"><a href="#标识符" class="headerlink" title="标识符"></a>标识符</h3><p>标识符命名规则：<br>1，只能由字母数字，_或$<br>2.必须以字母，_或$开头<br>3.大小写敏感，无长度限制<br>4，不能是java的关键字和保留字</p>
<p>标识符规则<br>标识符常量用大写字母，变量用小写字母开始，类以大写字母开始<br>标识符不能与关键字同名<br>标识符最好见名知义</p>
<h2 id="super关键字"><a href="#super关键字" class="headerlink" title="super关键字"></a>super关键字</h2><p>在子类方法中调用父类中被覆盖的方法，则可以使用super（被覆盖的是实例方法），或者父类类名来调用父类中被覆盖的函数（被覆盖的是类方法）</p>
<h2 id="继承和多态"><a href="#继承和多态" class="headerlink" title="继承和多态"></a>继承和多态</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Hello;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Hello</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> String s;</span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> a;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">Hello</span><span class="params">()</span> &#123;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">Hello</span><span class="params">(String s,<span class="type">int</span> a)</span> &#123;</span><br><span class="line">		<span class="built_in">this</span>.s=s;</span><br><span class="line">		<span class="built_in">this</span>.a=a;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">print</span><span class="params">()</span> &#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;123&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">print2</span><span class="params">()</span> &#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;1234&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		Hello a=<span class="keyword">new</span> <span class="title class_">Hello</span>();</span><br><span class="line">		Hello b=<span class="keyword">new</span> <span class="title class_">Hello</span>(<span class="string">&quot;as&quot;</span>,<span class="number">1</span>);</span><br><span class="line">		System.out.print(b.s);</span><br><span class="line">		System.out.print(a.s);</span><br><span class="line">		Hello c=<span class="keyword">new</span> <span class="title class_">Hello</span>();</span><br><span class="line">		Hello d=<span class="keyword">new</span> <span class="title class_">Hell</span>();</span><br><span class="line">		c.print();</span><br><span class="line">		d.print();</span><br><span class="line">		d.print2();</span><br><span class="line">		((Hell)d).print3();</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Hell</span> <span class="keyword">extends</span> <span class="title class_">Hello</span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">print</span><span class="params">()</span> &#123;</span><br><span class="line">		System.out.print(<span class="string">&quot;234&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">print3</span><span class="params">()</span> &#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;12345&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">		</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>静态初始化块，和初始化块</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Hello;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Hello</span> &#123;</span><br><span class="line">	<span class="keyword">static</span> <span class="type">int</span> a;</span><br><span class="line">	<span class="type">int</span> b;</span><br><span class="line">	<span class="keyword">static</span>&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;静态初始化块&quot;</span>);</span><br><span class="line">		a=<span class="number">6</span>;</span><br><span class="line">		<span class="comment">// b=2;这个地方会报错</span></span><br><span class="line">	&#125;</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="type">int</span> b=<span class="number">6</span>;</span><br><span class="line">		<span class="keyword">if</span> (b&gt;<span class="number">4</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;lss&quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println(a);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;第二个构造器&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">Hello</span><span class="params">()</span> &#123;</span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">&quot;构造器&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		</span><br><span class="line">		Hello a=<span class="keyword">new</span> <span class="title class_">Hello</span>();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>数字转字符串	</p>
<p>String b&#x3D;5+””;</p>
<p>equals和&#x3D;&#x3D;的使用</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Hello;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">	<span class="keyword">private</span> String name;</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">Person</span><span class="params">(String name)</span> &#123;</span><br><span class="line">		<span class="built_in">this</span>.name=name;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Hello</span> &#123;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		Person p=<span class="keyword">new</span> <span class="title class_">Person</span> (<span class="string">&quot;123&quot;</span>);</span><br><span class="line">		System.out.println(p.toString());</span><br><span class="line">		System.out.println(p); </span><br><span class="line">		System.out.println(p+<span class="string">&quot;123&quot;</span>);</span><br><span class="line">		<span class="type">int</span> <span class="variable">it</span> <span class="operator">=</span><span class="number">65</span>;</span><br><span class="line">		<span class="type">float</span> fl=<span class="number">65.0f</span>;</span><br><span class="line">		<span class="type">char</span> ch=<span class="string">&#x27;A&#x27;</span>;</span><br><span class="line">		<span class="keyword">if</span>(it==fl) &#123;</span><br><span class="line">			System.out.print(<span class="string">&quot;相等&quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(ch==it) &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;相等&quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		Hello a=<span class="keyword">new</span> <span class="title class_">Hello</span>();</span><br><span class="line">		Hello b=<span class="keyword">new</span> <span class="title class_">Hello</span>();</span><br><span class="line">		<span class="keyword">if</span>(a==b) &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;相等&quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;不相等&quot;</span>);		</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(a.equals(b)) &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;相等&quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;不相等&quot;</span>);		</span><br><span class="line">		&#125;</span><br><span class="line">		String H=<span class="string">&quot;123&quot;</span>;</span><br><span class="line">		String G=<span class="string">&quot;345&quot;</span>;</span><br><span class="line">		String I=<span class="string">&quot;123345&quot;</span>;</span><br><span class="line">		String T=H+G;</span><br><span class="line">		String R=<span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;123&quot;</span>);</span><br><span class="line">		<span class="keyword">if</span>(H==R) &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;相等1&quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(T==I) &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;相等2&quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(H.equals(R)) &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;相等1&quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(T.equals(I)) &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;相等2&quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">O:12:&quot;Road_is_Long&quot;:2:&#123;s:6:&quot;string&quot;;O:13:&quot;Make_a_Change&quot;:1:&#123;s:6:&quot;effort&quot;;O:13:&quot;Try_Work_Hard&quot;:1:&#123;s:3:&quot;var&quot;;s:52:&quot;php://filter/convert.base64-encode/resource=flag.php&quot;;&#125;&#125;s:4:&quot;page&quot;;O:12:&quot;Road_is_Long&quot;:2:&#123;s:6:&quot;string&quot;;N;s:4:&quot;page&quot;;N;&#125;&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">O:12:&quot;Road_is_Long&quot;:2:&#123;s:6:&quot;string&quot;;N;s:4:&quot;page&quot;;O:12:&quot;Road_is_Long&quot;:2:&#123;s:6:&quot;string&quot;;O:13:&quot;Make_a_Change&quot;:1:&#123;s:6:&quot;effort&quot;;O:13:&quot;Try_Work_Hard&quot;:1:&#123;s:3:&quot;var&quot;;s:52:&quot;php://filter/convert.base64-encode/resource=flag.php&quot;;&#125;&#125;s:4:&quot;page&quot;;s:3:&quot;aaa&quot;;&#125;&#125;</span><br></pre></td></tr></table></figure>

<h2 id="final的使用"><a href="#final的使用" class="headerlink" title="final的使用"></a>final的使用</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Hello;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">	<span class="keyword">private</span> String name;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> a=<span class="number">1</span>;</span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> c=<span class="number">1</span>;</span><br><span class="line">	<span class="keyword">final</span> <span class="keyword">static</span> <span class="type">int</span> d;</span><br><span class="line">	<span class="keyword">static</span>&#123;</span><br><span class="line">		a=<span class="number">2</span>;</span><br><span class="line">		<span class="comment">//b=2;</span></span><br><span class="line">		d=<span class="number">1</span>;</span><br><span class="line">		</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">Person</span><span class="params">(String name)</span> &#123;</span><br><span class="line">		<span class="built_in">this</span>.name=name;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">print</span><span class="params">()</span> &#123;</span><br><span class="line">	<span class="keyword">final</span> <span class="type">int</span> h=<span class="number">1</span>;</span><br><span class="line">	<span class="comment">//public int y=1;</span></span><br><span class="line">	<span class="type">int</span> x=<span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">print1</span><span class="params">(<span class="keyword">final</span> <span class="type">int</span> i)</span> &#123;</span><br><span class="line">		 <span class="keyword">final</span> <span class="type">int</span> a=<span class="number">1</span>;</span><br><span class="line">		 <span class="comment">//i=1;</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Hello</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span>&#123;</span><br><span class="line">		</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">(String name)</span> &#123;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		Person b=<span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;1&quot;</span>);</span><br><span class="line">		System.out.println(b.a);</span><br><span class="line">		System.out.println(Person.a);</span><br><span class="line">		<span class="keyword">final</span> <span class="type">int</span>[] iArr= &#123;<span class="number">5</span>,<span class="number">6</span>,<span class="number">12</span>,<span class="number">9</span>&#125;;</span><br><span class="line">		iArr[<span class="number">2</span>]=<span class="number">10</span>;</span><br><span class="line">		<span class="comment">//iArr=null;</span></span><br><span class="line">        <span class="keyword">final</span> Person p=<span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;1&quot;</span>);</span><br><span class="line">        p.a=<span class="number">123</span>;</span><br><span class="line">        String str2=<span class="string">&quot;java&quot;</span>;</span><br><span class="line">        String str3=<span class="string">&quot;com&quot;</span>;</span><br><span class="line">        <span class="keyword">final</span> String str=<span class="string">&quot;java&quot;</span>;</span><br><span class="line">        <span class="keyword">final</span> String str1=<span class="string">&quot;com&quot;</span>;</span><br><span class="line">        String s1=<span class="string">&quot;javacom&quot;</span>;</span><br><span class="line">        System.out.println(str+str1==s1);</span><br><span class="line">        System.out.println(str2+str3==s1);</span><br><span class="line">        </span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="有关强制类型转换"><a href="#有关强制类型转换" class="headerlink" title="有关强制类型转换"></a>有关强制类型转换</h2><p><strong>基本类型之间的转换只能在数值类型之间间进行，这里所说的数值类型包括整数型，字符型和浮点型，但数值类型和字符串类型和布尔类型是不能进行类型转换的</strong></p>
<p>总结：父类引用可以指向子类对象，子类引用不能指向父类对象。把子类对象直接赋给父类引用叫做向上转型，向上转型不用强制转型，如Father f1&#x3D;new Son()，把指向子类对象的父类引用赋给子类引用叫做向下转型，要强制转型，如Son s1 &#x3D; (Son)f1。向上转型会丢失子类特有的方法，但是子类overriding父类的方法，子类方法有效。 </p>
<p>   <strong>将一种类型的数据赋给另外一种类型变量时，满足下列两种要求将执行自动类型转换：1.两种类型是兼容的；2.目的类型的范围比来源类型大。</strong>  </p>
<p>   <strong>数据值类型按照范围从小到大为：byte，short，char，int，long，float，double</strong></p>
<p>   例如int类型比所有byte合法类型大，因此不要求显式强制类型转换。对于数字类型，整型和浮点型都是彼此兼容的，但是数字类型和字符类型和布尔类型是不兼容的，字符类型和布尔类型也不是互相兼容的。</p>
<p>   自动类型转换不能满足所有的转换需求，比如int型变量赋值给byte型变量，这种转换不会自动进行，因为byte型比int型范围小。为了完成两种不兼容类型转换，需要用到强制类型转换。</p>
<p>   目标类型指定了要转换成为的类型。例如果将int型转为byte型，int型取值范围大于byte型，它的值将堆byte型范围进行取模。而把浮点型赋值给整数型，就会出现截断，截取掉小数部分。从其他数值类型转换为char类型时，必须进行强制转换<strong>。将char类型转换为其他数值类型时，除了byte、short必须强制转换之外，int、long、float、double都不用强制转换。</strong></p>
<p><strong><a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2&spm=1001.2101.3001.7020">类型转换</a>都是小范围向大范围转换的，大范围往小范围转化需要用到强制转换，转换后的值会有所损失。</strong></p>
<h2 id="String-与其他数据类型的转换"><a href="#String-与其他数据类型的转换" class="headerlink" title="String 与其他数据类型的转换"></a>String 与其他数据类型的转换</h2><p><strong>String  to  int</strong>     </p>
<p>int i&#x3D;Integer.parseInt(str);</p>
<p><strong>int to String</strong></p>
<p>String s&#x3D;String.valueOf(i);</p>
<p><strong>String to Array</strong></p>
<p>char []a&#x3D;str.toCharArray();</p>
<p>char []a&#x3D;str.getChars(0,str.length,anArray,0);</p>
<p><strong>Array toString</strong></p>
<p>String str&#x3D;new String(anArray);</p>
<p><strong>char to String</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">   char b=&#x27;2&#x27;;</span><br><span class="line">String a=String.valueOf(b);</span><br><span class="line">   System.out.println(a);</span><br></pre></td></tr></table></figure>

<p><strong>String to char</strong></p>
<p>charAt()和toCharArray()</p>
<h1 id="java的Big数字类"><a href="#java的Big数字类" class="headerlink" title="java的Big数字类"></a>java的Big数字类</h1><h2 id="java的BigDecimal类"><a href="#java的BigDecimal类" class="headerlink" title="java的BigDecimal类"></a>java的BigDecimal类</h2><p>方法声明<br>public BigDecimal add (BigDecinal value) 加法运算</p>
<p>public BigDecimal subtract (BigDecimal value)减法运算</p>
<p>public BigDecimal multiply(BigDecimal value)乘法运算</p>
<p>public BigDecimal divide (BigDecimal value)除法运算</p>
<p>精确的计算小数之间的加减乘除</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">import java.math.BigDecimal;</span><br><span class="line">import java.util.Scanner;</span><br><span class="line">public class Main&#123;</span><br><span class="line">    public static void main(String []args)&#123;</span><br><span class="line">        Scanner in=new Scanner(System.in);</span><br><span class="line">        while(in.hasNext())&#123;</span><br><span class="line">            String a=in.next();</span><br><span class="line">            String b=in.next();</span><br><span class="line">            BigDecimal a1=new BigDecimal(a);</span><br><span class="line">            BigDecimal a2=new BigDecimal(b);</span><br><span class="line">            System.out.println(a2.add(a1));//求两个相加</span><br><span class="line">            System.out.println(a2.multiply(a1));//求两个的乘积</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="java的BigInteger类"><a href="#java的BigInteger类" class="headerlink" title="java的BigInteger类"></a>java的BigInteger类</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.math.BigInteger;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span>&#123;</span><br><span class="line">        BigInteger a=<span class="keyword">new</span> <span class="title class_">BigInteger</span>(<span class="string">&quot;0&quot;</span>);</span><br><span class="line">        Scanner in=<span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">      <span class="keyword">while</span>(in.hasNext()) &#123;</span><br><span class="line">    	  </span><br><span class="line"></span><br><span class="line">    	  String key=in.nextLine();</span><br><span class="line">    	  <span class="keyword">if</span>(key.equalsIgnoreCase(<span class="string">&quot;e&quot;</span>))</span><br><span class="line">    	  &#123;</span><br><span class="line">    		  <span class="keyword">break</span>;</span><br><span class="line">    	  &#125;</span><br><span class="line">                  a=a.add(<span class="keyword">new</span> <span class="title class_">BigInteger</span>(key));<span class="comment">//求相加</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">      System.out.println(a);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>一.BigInteger简介</p>
<p>BigInteger类所在的包</p>
<p>java中可以使用BigInteger操作大整数，也可以转换进制。如果在操作的时候一个整型数据已经超过了整数的最大类型长度long的话，则此数据就无法装入，所以，此时要使用BigInteger类进行操作。这些大数都会以字符串的形式传入。</p>
<p>二.BigInteger类常用方法</p>
<p>1.BigInteger(String value)：构造方法，将value字符串变成BigInteger类型数据。</p>
<p>2.BigInteger add(BigInteger value)：加法，求两个BigInteger类型数据的和。</p>
<p>3.BigInteger subtract(BigInteger value)：减法，求两个BigInteger类型数据的差。</p>
<p>4.BigInteger multiply(BigInteger value)：乘法，求两个BigInteger类型数据的积。</p>
<p>5.BigInteger divide(BigInteger divisor)：除法，求两个BigInteger类型数据的商。</p>
<p>6.BigInteger modInverse(BigInteger m)：求模，求BigInteger类型数据对m求模。</p>
<p>7.BigInteger remainder(BigInteger divisor)：求余数，求BigInteger类型数据除以divisor的余数。</p>
<p>8.BigInteger max(BigInteger value)：最大数，求两个BigInteger类型数据的最大值。</p>
<p>9.BigInteger min(BigInteger value)：最小数，求两个BigInteger类型数据的最小值。</p>
<p>10.BigInteger gcd(BigInteger value)：最大公约数，求两个BigInteger类型数据的最大公约数。</p>
<p>11.BigInteger abs()：绝对值，求BigInteger类型数据的绝对值。</p>
<p>12.BigInteger negate()：相反数，求BigInteger类型数据的相反数。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"> <span class="type">BigInteger</span> <span class="variable">a</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BigInteger</span>(<span class="string">&quot;15&quot;</span>);</span><br><span class="line"><span class="type">BigInteger</span> <span class="variable">b</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BigInteger</span>(<span class="string">&quot;10&quot;</span>);</span><br><span class="line"><span class="type">BigInteger</span> <span class="variable">c</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BigInteger</span>(<span class="string">&quot;-10&quot;</span>);</span><br><span class="line"><span class="type">BigInteger</span> <span class="variable">d</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BigInteger</span>(<span class="string">&quot;2&quot;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">BigInteger</span> <span class="variable">add_result</span> <span class="operator">=</span> a.add(b);</span><br><span class="line"><span class="type">BigInteger</span> <span class="variable">subtract_result</span> <span class="operator">=</span> a.subtract(b);</span><br><span class="line"><span class="type">BigInteger</span> <span class="variable">multiply_result</span> <span class="operator">=</span> a.multiply(b);</span><br><span class="line"><span class="type">BigInteger</span> <span class="variable">divide_result</span> <span class="operator">=</span> a.divide(b);</span><br><span class="line"><span class="type">BigInteger</span> <span class="variable">modinverse_result</span> <span class="operator">=</span> a.modInverse(d);</span><br><span class="line"><span class="type">BigInteger</span> <span class="variable">remainder_result</span> <span class="operator">=</span> a.remainder(b);</span><br><span class="line"><span class="type">BigInteger</span> <span class="variable">max_result</span> <span class="operator">=</span> a.max(b);</span><br><span class="line"><span class="type">BigInteger</span> <span class="variable">min_result</span> <span class="operator">=</span> a.min(b);</span><br><span class="line"><span class="type">BigInteger</span> <span class="variable">gcd_result</span> <span class="operator">=</span> a.gcd(b);</span><br><span class="line"><span class="type">BigInteger</span> <span class="variable">abs_result</span> <span class="operator">=</span> c.abs();</span><br><span class="line"><span class="type">BigInteger</span> <span class="variable">negate_result</span> <span class="operator">=</span> a.negate();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Log.d(<span class="string">&quot;TAG&quot;</span>, <span class="string">&quot;15+10=&quot;</span> + add_result);</span><br><span class="line">Log.d(<span class="string">&quot;TAG&quot;</span>, <span class="string">&quot;15-10=&quot;</span> + subtract_result);</span><br><span class="line">Log.d(<span class="string">&quot;TAG&quot;</span>, <span class="string">&quot;15*10=&quot;</span> + multiply_result);</span><br><span class="line">Log.d(<span class="string">&quot;TAG&quot;</span>, <span class="string">&quot;15/10=&quot;</span> + divide_result);</span><br><span class="line">Log.d(<span class="string">&quot;TAG&quot;</span>, <span class="string">&quot;15对2求模=&quot;</span> + modinverse_result);</span><br><span class="line">Log.d(<span class="string">&quot;TAG&quot;</span>, <span class="string">&quot;15/10余数=&quot;</span> + remainder_result);</span><br><span class="line">Log.d(<span class="string">&quot;TAG&quot;</span>, <span class="string">&quot;15和10最大数=&quot;</span> + max_result);</span><br><span class="line">Log.d(<span class="string">&quot;TAG&quot;</span>, <span class="string">&quot;15和10最小数=&quot;</span> + min_result);</span><br><span class="line">Log.d(<span class="string">&quot;TAG&quot;</span>, <span class="string">&quot;15和10最大公约数=：&quot;</span> + gcd_result);</span><br><span class="line">Log.d(<span class="string">&quot;TAG&quot;</span>, <span class="string">&quot;-10的绝对值=&quot;</span> + abs_result);</span><br><span class="line">Log.d(<span class="string">&quot;TAG&quot;</span>, <span class="string">&quot;15的相反数=&quot;</span> + negate_result);</span><br></pre></td></tr></table></figure>




<h1 id="Java-String类"><a href="#Java-String类" class="headerlink" title="Java String类"></a>Java String类</h1><h3 id="总序"><a href="#总序" class="headerlink" title="总序"></a>总序</h3><p>java中的字符串分为两类，字符串常量和字符串变量</p>
<p>字符串常量：包括直接字符串常量和String类的对象；字符串常量的值一旦创建不会再改动</p>
<p>字符串变量：指的是StringBuffer类的对象，创建之后允许对其进行修改</p>
<p>字符串文本</p>
<ol>
<li></li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">String str1=<span class="string">&quot;java&quot;</span>; 相当于    </span><br><span class="line"></span><br><span class="line">   <span class="type">char</span> cstr[]= &#123;<span class="string">&#x27;J&#x27;</span>,<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;v&#x27;</span>,<span class="string">&#x27;a&#x27;</span>&#125;;</span><br><span class="line">      String str=<span class="keyword">new</span> <span class="title class_">String</span>(cstr);</span><br><span class="line">      System.out.println(str);</span><br><span class="line"></span><br><span class="line">把字符数组转变为字符串的一个方法</span><br></pre></td></tr></table></figure>

<p>2.String str1&#x3D;new String(“hello”);</p>
<p>3.使用数组方式</p>
<p>char str[]&#x3D;{‘h’,’e’,’l’,’l’,’0’};</p>
<p>String str[]&#x3D;{“hello”,”word”,”!”}</p>
<h3 id="String类的构造方法"><a href="#String类的构造方法" class="headerlink" title="String类的构造方法"></a>String类的构造方法</h3><p><img src="C:\Users#赵梓皓&\AppData\Roaming\Typora\typora-user-images\image-20220613180744555.png" alt="image-20220613180744555"></p>
<p>例子</p>
<p>n在String类提供的构造方法中，可以由字符数组、字节数组以及字符串缓冲区来构成字符串，如下面的代码所示。</p>
<p> char cDeomo[]&#x3D; {‘2’,’3’,’4’,’5’};<br>    char cDeomo1[]&#x3D; {‘1’,’2’,’3’,’4’,’5’};<br>    String strDemo1&#x3D;new String(cDeomo);<br>    String strDemo2&#x3D;new String(cDeomo1,1,4);&#x2F;&#x2F;从cDeomo1的下标1元素到下标为4的元素<br>    System.out.println(strDemo1);<br>   System.out.println(strDemo2);</p>
<p>利用上面的两个构造方法生成的字符串实例的内容均为“2345”。</p>
<p>n下面例子说明如何利用字节数组生成字符串：</p>
<p>byte cDemo[]&#x3D; {66,67,68};<br>byte cDemo1[]&#x3D; {65,66,67,68};<br>String strDemo1&#x3D;new String(cDemo);<br>String strDemo2&#x3D;new String(cDemo1,1,3);&#x2F;&#x2F;从下标1到下标3      都包括刚开始第一个下标的那个字符<br>System.out.println(strDemo1);<br>System.out.println(strDemo2);&#x2F;&#x2F;会把数字转换为unicode编码的字符</p>
<p>利用上面的两个构造方法生成的字符串实例的内容均为”BCD”</p>
<h3 id="length方法"><a href="#length方法" class="headerlink" title="length方法"></a>length方法</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">String str=&quot;java&quot;;</span><br><span class="line">System.out.println(str.length());</span><br><span class="line"></span><br><span class="line">获取字符串长度</span><br></pre></td></tr></table></figure>

<h3 id="getChars方法"><a href="#getChars方法" class="headerlink" title="getChars方法"></a>getChars方法</h3><p>public void getChars(int start,int end,char c[],int offset)</p>
<p>​     该方法的作用是将当前<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=%E5%AD%97%E7%AC%A6%E4%B8%B2&spm=1001.2101.3001.7020">字符串</a>从start到end-1位置上的字符复制到字符数组c中，并从c的offset处开始存放</p>
<p>就是将字符串从下标为start到下标为end-1的字符从c字符数组的offset下标处开始存放</p>
<p>String str&#x3D;”java”;<br>char dstch[]&#x3D;new char[20];<br>int n&#x3D;str.length();<br>str.getChars(0, n, dstch, 0);<br>System.out.println(dstch);          都包括第一个下标开始的那个字符</p>
<h3 id="compareTo方法"><a href="#compareTo方法" class="headerlink" title="compareTo方法"></a>compareTo方法</h3><p><strong>String类是默认实现的comparable接口的compareTo方法</strong></p>
<p>用于字符串比较</p>
<p>  int compareTo(String str)</p>
<p>例如:字符串A和字符串B进行比较,如果A大于B,返回大于0的值;如果A等于B,返回0; 如果A小于B,返回小于0的值。</p>
<p>​    A.compareTo(B);</p>
<p> 即参与比较的两个字符串如果首字符相同，则比较下一个字符，直到有不同的为止，返回该不同的字符的ASCII码差值；</p>
<p>是A字符串字符的ascii编码减去B字符串字符的ascii编码</p>
<p> 如果两个字符串不一样长，可以参与比较的字符又完全一样，则返回两个字符串的长度差值</p>
<p>String str&#x3D;”abcde”;<br>System.out.println(str.compareTo(“boy”));<br>System.out.println(str.compareTo(“aba”));<br>System.out.println(str.compareTo(“abcdefghi”));</p>
<p>运行结果</p>
<p>-1<br>2<br>-4</p>
<p>使用例子</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compareTo</span><span class="params">(Student o1)</span> &#123;</span><br><span class="line">	<span class="keyword">if</span>(o1.getScore()==<span class="built_in">this</span>.getScore()) &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="built_in">this</span>.id.compareTo(o1.id);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> o1.getScore()-<span class="built_in">this</span>.getScore();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>先按成绩降序排序，当成绩相同的时候按照id来自然排序</p>
<h3 id="concat方法"><a href="#concat方法" class="headerlink" title="concat方法"></a>concat方法</h3><p>n将调用该方法的字符串与指定字符串连接，返回新的字符串。</p>
<p>String str1&#x3D;”java”;<br>String str2&#x3D;”world”;<br>String str3;<br>str3&#x3D;str1.concat(str2);<br>System.out.println(str3);&#x2F;&#x2F;javaworld</p>
<h3 id="substring方法"><a href="#substring方法" class="headerlink" title="substring方法"></a>substring方法</h3><p>n用于提取调用方法的字符串中的子串。</p>
<p>  String substring (int begin, int end)；</p>
<p>  <strong>提取从begin到end-1处的字符。就是第二个参数是下标减一</strong></p>
<p>String str1&#x3D;”java”,str2&#x3D;”world”,str3;<br>str3&#x3D;str1.concat(str2);<br>System.out.println(str3.substring(0,3)+” “+str3.substring(4,9));</p>
<p>运行结果：jav world</p>
<p>当substring方法只有一个参数的时候</p>
<p>它是此字符串的一个子字符串。该子字符串从指定索引处的字符开始，直到此字符串末尾。</p>
<p>String str1&#x3D;”java”,str2&#x3D;”world”,str3;<br>str3&#x3D;str1.concat(str2);<br>System.out.println(str3.substring(2));</p>
<p>运行结果：vaworld         包括这个第一个下标开始的那个字符</p>
<h3 id="replace方法"><a href="#replace方法" class="headerlink" title="replace方法"></a>replace方法</h3><p>返回一个新字符串</p>
<p>n用于替换调用方法在字符串中的某个<strong>字符</strong>，返回替换后的新字符串。</p>
<p>String replace(char oldChar, char newChar)；</p>
<p>String str1&#x3D;”java world”,str3;<br>str3&#x3D;str1.replace(‘a’,’b’);<br>System.out.println(str3);</p>
<p>运行结果：</p>
<p>jbvb world</p>
<h3 id="trim方法"><a href="#trim方法" class="headerlink" title="trim方法"></a>trim方法</h3><p>返回一个新字符串</p>
<p>npublic String trim()</p>
<p>  一个字符串s 通过调用方法trim()得到一个字符串对象,该字符串对象是s去掉前后空格后的字符串。</p>
<p>  如下面的代码所示：</p>
<p>String s&#x3D;”I mist theep “;<br>String temp&#x3D;s.replace(‘t’, ‘s’);<br>String a&#x3D;” i am a student “;<br>String tema&#x3D;s.trim();<br>System.out.println(temp);<br>System.out.println(tema);</p>
<h3 id="indexOf方法"><a href="#indexOf方法" class="headerlink" title="indexOf方法"></a>indexOf方法</h3><p>indexOf, lastIndexOf: 这两个方法用于对字符串建立索引，返回字符串的位置；</p>
<p>  int indexOf(String str)；&#x2F;&#x2F;这个是返回第一个遇到的索引，两个都是返回匹配的字符串的第一个字符的索引值</p>
<p>  int lastIndexOf(String str);&#x2F;&#x2F;这个是返回从最后开始遇到的索引</p>
<p>String str1&#x3D;”java world or”;<br>String str2&#x3D;”or”;<br>int v1&#x3D;str1.indexOf(str2);<br>int v2&#x3D;str1.lastIndexOf(str2);<br>System.out.println(v1+” “+v2);</p>
<p>运行结果：6 11</p>
<h3 id="equals方法"><a href="#equals方法" class="headerlink" title="equals方法"></a>equals方法</h3><p>在String类中equals()定义如下：</p>
<p>  public boolean equals(String s)</p>
<p>  该方法用来比较当前字符串对象的实体是否与参数指定的字符串s的实体是否相同。例如</p>
<p>  String tom&#x3D;new String( “we are students”);</p>
<p>  String boy&#x3D;new String( “We are students”);</p>
<p>  String jerry&#x3D; new String(“we are students”);</p>
<p>  tom.equals(boy)的值是false，tom.equals(jerry)的值是true</p>
<p>而且字符串之间进行比较不能够用&#x3D;&#x3D;，因为&#x3D;&#x3D;是比较两个字符串的地址是否相同，而equals是比较两个字符串的内容是否是相等的</p>
<p>&#x3D;&#x3D;比较引用，<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=equals&spm=1001.2101.3001.7020">equals</a> 比较值</p>
<p>1、java中<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=%E5%AD%97%E7%AC%A6%E4%B8%B2&spm=1001.2101.3001.7020">字符串</a>的比较：&#x3D;&#x3D;</p>
<p>我们经常习惯性的写上if(str1&#x3D;&#x3D;str2)，这种写法在java中可能会带来问题</p>
<p> example1:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">String a=&quot;abc&quot;;String b=&quot;abc&quot;</span><br></pre></td></tr></table></figure>

<p>那么a&#x3D;&#x3D;b将返回true。因为在java中字符串的值是不可改变的，相同的字符串在<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=%E5%86%85%E5%AD%98&spm=1001.2101.3001.7020">内存</a>中只会存</p>
<p> 一份，所以a和b指向的是同一个对象；</p>
<p>example2：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">String a=new String(&quot;abc&quot;); String b=new String(&quot;abc&quot;);</span><br></pre></td></tr></table></figure>

<p> 那么a&#x3D;&#x3D;b将返回false，此时a和b指向不同的对象。</p>
<p> 2、用equals方法比较的是字符串的内容是否相同，</p>
<p>example：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">String a=new String(&quot;abc&quot;); </span><br><span class="line">String b=new String(&quot;abc&quot;);</span><br><span class="line"> a.equals(b);</span><br></pre></td></tr></table></figure>

<p>将返回true。</p>
<h3 id="equalsIgnoreCase-方法"><a href="#equalsIgnoreCase-方法" class="headerlink" title="equalsIgnoreCase()方法"></a>equalsIgnoreCase()方法</h3><p>n在String类中equalsIgnoreCase ()定义如下：</p>
<p>  <strong>public</strong> <strong>boolean</strong> <strong>equalsIgnoreCase</strong><strong>(String s)</strong></p>
<p>  字符串对象调用比较当前字符串对象是否与参数指定的字符串s 相同,比较时忽略大小写。例如：</p>
<p>String tom&#x3D;new String(“ABC”);<br>String Jerry&#x3D;new String(“abc”);<br>System.out.println(tom.equals(Jerry));</p>
<p>   tom.equalsIgnoreCase(Jerry)的值是true。</p>
<h3 id="split方法"><a href="#split方法" class="headerlink" title="split方法"></a>split方法</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">public String[] split(String regex, int limit)</span><br></pre></td></tr></table></figure>

<p>根据第一个参数的字符串将字符串分割为第二个参数的份数变成字符串数组</p>
<p>第一个参数一定是一个字符串用双引号</p>
<p> String [] c&#x3D;b[i].split(“：”);用冒号将字符串分割为字符串数组</p>
<p>Integer.parseInt将字符串转换为数字</p>
<h3 id="startsWith方法"><a href="#startsWith方法" class="headerlink" title="startsWith方法"></a>startsWith方法</h3><ul>
<li><strong>prefix</strong> – 前缀。</li>
<li><strong>toffset</strong> – 字符串中开始查找的位置。</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">public boolean startsWith(String prefix, int toffset)</span><br><span class="line"></span><br><span class="line">或</span><br><span class="line"></span><br><span class="line">public boolean startsWith(String prefix)</span><br></pre></td></tr></table></figure>

<p><img src="C:\Users#赵梓皓&\AppData\Roaming\Typora\typora-user-images\image-20220812101529560.png" alt="image-20220812101529560"></p>
<h3 id="toUpperCase"><a href="#toUpperCase" class="headerlink" title="toUpperCase()"></a>toUpperCase()</h3><p>String cc &#x3D; “aBc123”.toUpperCase(); 结果就是：ABC123</p>
<h1 id="Java中StringBuffer类"><a href="#Java中StringBuffer类" class="headerlink" title="Java中StringBuffer类"></a>Java中StringBuffer类</h1><h3 id="构造方法"><a href="#构造方法" class="headerlink" title="构造方法"></a>构造方法</h3><p>StringBuffer中提供了三种构造方法</p>
<p>   public StringBuffer() </p>
<p>   构造一个不包含字符的字符串缓冲区，其初始的容量设为 16 个字符。</p>
<p>   public StringBuffer(int) </p>
<p>  构造一个不包含字符的字符串缓冲区，其初始容量由参数设定。 </p>
<p>   public StringBuffer(String) </p>
<p>  构造一个字符串缓冲区，来表示和字符串参数相同的字符序列。 字符串缓冲区的初始容量为16加上字符串参数的长度。</p>
<h3 id="capacity方法"><a href="#capacity方法" class="headerlink" title="capacity方法"></a>capacity方法</h3><p>n用来计算StringBuffer的容量，返回容量大小的整型值。</p>
<p>StringBuffer sb&#x3D;new StringBuffer(100);<br>int x&#x3D;sb.capacity();<br>System.out.println(x);</p>
<p>运算结果：100</p>
<p>容量是一开始那个有的那个，而不是有内容的，可以是空的默认值</p>
<h3 id="append方法"><a href="#append方法" class="headerlink" title="append方法"></a>append方法</h3><p>n将指定的字符串的内容连接到StringBuffer对象中内容的后边，并返回连接后的的StringBuffer对象。</p>
<p>  StringBuffer append(String str);</p>
<p>StringBuffer sb1&#x3D;new StringBuffer(“Hello”);<br>StringBuffer sb2&#x3D;new StringBuffer(“all”);<br>String str&#x3D;”_good”;<br>sb2&#x3D;sb1.append(str);<br>System.out.println(sb2);</p>
<p>运行结果：Hello_good</p>
<h3 id="insert方法"><a href="#insert方法" class="headerlink" title="insert方法"></a>insert方法</h3><p>n将指定的字符ch插入到StringBuffer对象的offset处，并返回修改后的StringBuffer对象。</p>
<p>  StringBuffer insert（int offset, char ch）</p>
<pre><code>    StringBuffer sb1=new StringBuffer(&quot;Hello&quot;);
    char c=&#39;2&#39;;
    StringBuffer sb2=new StringBuffer(100);
    sb2=sb1.insert(1,c);
    System.out.println(sb2);
</code></pre>
<p>insert的第一个参数是要插入的字符的下标</p>
<h3 id="delete方法"><a href="#delete方法" class="headerlink" title="delete方法"></a>delete方法</h3><p>n将StringBuffer对象中的一部分内容删掉，并将删除后的StringBuffer对象返回。</p>
<p>  StringBuffer delete(int start, int end);</p>
<p>  从start 删除到 end-1；</p>
<p>StringBuffer sb1&#x3D;new StringBuffer(“Hello”);<br>StringBuffer sb2&#x3D;new StringBuffer(100);<br>sb2&#x3D;sb1.delete(1, 3);<br>System.out.println(sb2);</p>
<p>运行结果：Hlo</p>
<h3 id="reverse方法"><a href="#reverse方法" class="headerlink" title="reverse方法"></a>reverse方法</h3><p>n将StringBuffer中的内容颠倒过来；</p>
<p>  StringBuffer reverse();</p>
<p>StringBuffer sb1&#x3D;new StringBuffer(“Hello”);<br>sb1&#x3D;sb1.reverse();<br>System.out.println(sb1);</p>
<p>结果为：olleH</p>
<h1 id="java中数组"><a href="#java中数组" class="headerlink" title="java中数组"></a>java中数组</h1><h3 id="数组的声明"><a href="#数组的声明" class="headerlink" title="数组的声明"></a>数组的声明</h3><p>需要提供数组元素的类型和数组的维数。</p>
<p>例如： int[] k;    &#x2F;&#x2F;int型一维数组</p>
<p>​        String s[];</p>
<h3 id="数组声明注意"><a href="#数组声明注意" class="headerlink" title="数组声明注意"></a>数组声明注意</h3><p>test</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Main;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Main</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> arr[]= &#123;<span class="number">1</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>&#125;;</span><br><span class="line">    <span class="type">int</span> arr2[]= &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>&#125;;</span><br><span class="line">    arr=arr2;<span class="comment">//arr 也变成1,2,3,4</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;arr.length;i++)</span><br><span class="line">    &#123;</span><br><span class="line">    	System.out.println(arr[i]);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">   arr[<span class="number">0</span>]=<span class="number">100</span>;</span><br><span class="line">   System.out.println(arr2[<span class="number">0</span>]);<span class="comment">//说明arr=arr2之后两个数组指向同一个内存地址</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="创建数组对象"><a href="#创建数组对象" class="headerlink" title="创建数组对象"></a>创建数组对象</h3><p>使用关键字new；</p>
<p>例如：new int [5];</p>
<p>​       new String [6][5]; &#x2F;&#x2F;创建String 型二维数组</p>
<p>创建后，需要将相应类型的数组引用指向该对象，才能对数组对象进行操作。</p>
<p>  例如：int[] k;    &#x2F;&#x2F;int型一维数组</p>
<p>​        String[][] s;</p>
<p>​        k&#x3D;new int [5];</p>
<p>​        s&#x3D;new String[6][5];</p>
<h3 id="枚举初始化"><a href="#枚举初始化" class="headerlink" title="枚举初始化"></a>枚举初始化</h3><p>例子：TestArray.java</p>
<p>循环初始化：TestArray.java</p>
<p>枚举初始化：</p>
<p>  例如： int[] i&#x3D;{1,3,5,7,9};</p>
<p>​        int[] i&#x3D;new int[]{1,3,5,7,9};</p>
<h3 id="数组排序"><a href="#数组排序" class="headerlink" title="数组排序"></a>数组排序</h3><p>整个数组排序</p>
<p>  public static void sort (int[] a)；</p>
<p>对指定的数组区间进行排序</p>
<p>  public static void sort (int[] a, int fromIndex, int toIndex)；这个第二个参数是最后一个下标减一</p>
<p>int a[]&#x3D; {1,2,3,5,4};<br>Arrays.sort(a);<br>for(int i:a)<br>{<br>    System.out.println(i);}<br>    }</p>
<h3 id="查找指定元素"><a href="#查找指定元素" class="headerlink" title="查找指定元素"></a>查找指定元素</h3><p>nJava中也提供binarySearch方法来帮助开发人员进行查找操作，该方法格式如下所示。</p>
<p>  public static int binarySearch(int[ ] a,int key)；</p>
<p>方法的object[]参数是要查找的数组，key参数为要查找的key值。</p>
<p>方法的返回值有几种：</p>
<p>1.找到的情况下：如果key在数组中，则返回搜索值的索引。</p>
<p>2.找不到的情况下：</p>
<p> [1] 搜索值不是数组元素，且在数组范围内，从1开始计数，得“ - 插入点索引值”；<br> [2] 搜索值是数组元素，从0开始计数，得搜索值的索引值；<br> [3] 搜索值不是数组元素，且大于数组内元素，索引值为 – (length + 1);<br> [4] 搜索值不是数组元素，且小于数组内元素，索引值为 – 1。</p>
<p>这个binarySearch方法必须是按照从小到大的顺序排的元素才能够算是key在数组中，如果有小的数跟在最后面就是找不到的情况下的第一种情况</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">   <span class="type">int</span> a[] = <span class="keyword">new</span> <span class="title class_">int</span>[] &#123;<span class="number">1</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">9</span>&#125;;  </span><br><span class="line">        <span class="type">int</span> <span class="variable">x1</span> <span class="operator">=</span> Arrays.binarySearch(a, <span class="number">5</span>);  </span><br><span class="line">        <span class="type">int</span> <span class="variable">x2</span> <span class="operator">=</span> Arrays.binarySearch(a, <span class="number">4</span>);  </span><br><span class="line">        <span class="type">int</span> <span class="variable">x3</span> <span class="operator">=</span> Arrays.binarySearch(a, <span class="number">0</span>);  </span><br><span class="line">        <span class="type">int</span> <span class="variable">x4</span> <span class="operator">=</span> Arrays.binarySearch(a, <span class="number">10</span>);</span><br><span class="line">x1=-<span class="number">4</span>      x2=<span class="number">2</span>    x3=-<span class="number">1</span>    x4=-<span class="number">7</span>结果</span><br></pre></td></tr></table></figure>



<h3 id="数组利用比较器排序"><a href="#数组利用比较器排序" class="headerlink" title="数组利用比较器排序"></a>数组利用比较器排序</h3><p>注意点：这个数组必须是Integer这种对象类型的而不是int基本类型</p>
<p>同时自己设计的比较器需要实现Comparator接口，当下面例子这种形式的时候是从小到大排序</p>
<p>将第一个if返回值变为-1       第二个elseif返回值变为1就可以实现从大到小排序</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">package Main;</span><br><span class="line"></span><br><span class="line">import java.util.Arrays;</span><br><span class="line">import java.util.Comparator;</span><br><span class="line">import java.util.Scanner;</span><br><span class="line"></span><br><span class="line">class compare implements Comparator&lt;Integer&gt;&#123;</span><br><span class="line"></span><br><span class="line">	@Override</span><br><span class="line">	public int compare(Integer o1, Integer o2) &#123;</span><br><span class="line">		if(o1&gt;o2) &#123;</span><br><span class="line">			return 1;</span><br><span class="line">		&#125;</span><br><span class="line">		else if(o1&lt;o2) &#123;</span><br><span class="line">			return -1;</span><br><span class="line">		&#125;</span><br><span class="line">		else &#123;</span><br><span class="line">			return 0;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">class Main&#123;</span><br><span class="line">	public static void main(String []args) &#123;</span><br><span class="line">		Integer []a= &#123;1,3,4,2,5&#125;;//这里必须使用Integer</span><br><span class="line">		Comparator c=new compare();</span><br><span class="line">		Arrays.sort(a,c);</span><br><span class="line">for(int i:a) &#123;</span><br><span class="line">	System.out.println(i);</span><br><span class="line">&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h1 id="Java-Character类中的方法"><a href="#Java-Character类中的方法" class="headerlink" title="Java  Character类中的方法"></a>Java  Character类中的方法</h1><p>Character类在java.lang包下所以不需要自己去导入</p>
<h3 id="isLower-Upper-Case和to-Upper-Case方法"><a href="#isLower-Upper-Case和to-Upper-Case方法" class="headerlink" title="isLower(Upper)Case和to(Upper)Case方法"></a>isLower(Upper)Case和to(Upper)Case方法</h3><p>作用：是转大小写或者判断是否是大写或者小写</p>
<p>char cstr[]&#x3D; {‘j’,’a’,’v’,’a’};<br>System.out.println(Character.isUpperCase(cstr[0]));<br>System.out.println(Character.isLowerCase(cstr[0]));<br>cstr[1]&#x3D;Character.toUpperCase(cstr[1]);<br>System.out.println(cstr[1]);<br>cstr[1]&#x3D;Character.toLowerCase(cstr[1]);<br>System.out.println(cstr[1]);</p>
<p><strong>java.lang包下的类是默认自动导入的，character类就是在java.lang包下，以及java.lang包下的自包还是不可以被默认导入，如果用到里面的类需要自己手动导入</strong></p>
<p>转大小写的时候不会把原来的字符变为大写或小写，但可以重新赋值</p>
<h3 id="isDigit方法"><a href="#isDigit方法" class="headerlink" title="isDigit方法"></a>isDigit方法</h3><p>确定指定字符是否为数字</p>
<pre><code>Character a=&#39;2&#39;;
System.out.println(Character.isDigit(a));
</code></pre>
<p>输出的结果是true</p>
<h3 id="isLetter方法"><a href="#isLetter方法" class="headerlink" title="isLetter方法"></a>isLetter方法</h3><p> 确定指定字符是否为字母。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Character a=&#x27;a&#x27;;</span><br><span class="line">      System.out.println(Character.isLetter(a));</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>输出结果为true</p>
<h3 id="equals方法-1"><a href="#equals方法-1" class="headerlink" title="equals方法"></a>equals方法</h3><pre><code>  Character a=&#39;a&#39;;
    Character b=&#39;b&#39;;
    System.out.println(a.equals(b));
</code></pre>
<p>输出结果为faulse</p>
<p><strong>两个基本类型字符（用char定义的，或者char数组中的）之间可以直接进行&#x3D;&#x3D;，!&#x3D;之间的比较，两个Character对象字符之间不能够用&#x3D;&#x3D; !&#x3D;得用equals</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Character a=new Character(&#x27;a&#x27;);</span><br><span class="line">Character b=new Character(&#x27;a&#x27;);</span><br><span class="line">System.out.println(a==b);</span><br><span class="line">System.out.println(a.equals(b));</span><br><span class="line">结果：false</span><br><span class="line">     true</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Character a=<span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">Character b=<span class="string">&#x27;a&#x27;</span>;</span><br><span class="line"><span class="type">char</span> c=<span class="string">&#x27;a&#x27;</span>;</span><br><span class="line"><span class="type">char</span> d=<span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">System.out.println(a==b);</span><br><span class="line">System.out.println(a.equals(b));</span><br><span class="line">System.out.println(c==d);</span><br><span class="line"><span class="comment">//System.out.println(c.equals(d));</span></span><br><span class="line">结果：基本类型不能调用很多方法，可以用Character引用变量去指向基本类型</span><br><span class="line"><span class="literal">true</span></span><br><span class="line"><span class="literal">true</span></span><br><span class="line"><span class="literal">true</span></span><br></pre></td></tr></table></figure>

<h3 id="字符数组"><a href="#字符数组" class="headerlink" title="字符数组"></a>字符数组</h3><p>String str&#x3D;”java”;<br>char dstch[]&#x3D;new char[20];<br>int n&#x3D;str.length();<br>str.getChars(0, n, dstch, 0);<br>System.out.println(dstch);</p>
<p>结果：java</p>
<h1 id="java-random类的使用"><a href="#java-random类的使用" class="headerlink" title="java random类的使用"></a>java random类的使用</h1><p>random类不在java.lang包下，所以需要自己去导入</p>
<p>import java.util.Random;</p>
<h3 id="Random类的构造方法"><a href="#Random类的构造方法" class="headerlink" title="Random类的构造方法"></a>Random类的构造方法</h3><p>Random类包含两个构造方法，下面依次进行介绍：<br>（1）public Random()<br>该构造方法使用一个和当前系统时间对应的相对时间有关的数字作为种子数，然后使用这个种子数构造Random对象。<br>（2）public Random(long seed)<br>该构造方法可以通过制定一个种子数进行创建。<br>示例代码：<br>Random r &#x3D; new Random();<br>Random r1 &#x3D; new Random(10);<br>再次强调：种子数只是随机算法的起源数字，和生成的随机数字的区间无关。</p>
<p>Random有两种<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95&spm=1001.2101.3001.7020">构造方法</a>：<br>1.Random()，用于创建一个伪<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=%E9%9A%8F%E6%9C%BA%E6%95%B0&spm=1001.2101.3001.7020">随机数</a>生成器，无参构造，每次生成的随机数是不同的。<br>程序示例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Random r=<span class="keyword">new</span> <span class="title class_">Random</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">//随机生成10个[0,100)之间的数</span></span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++)&#123;</span><br><span class="line"></span><br><span class="line">System.out.println(r.nextInt(<span class="number">100</span>));</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>每次运行生成的随机数都是不同的</strong></p>
<p>2.Random(long seed)，使用一个long型的seed种子创建伪随机数生成器 ，有参构造，每次生成的随机数相同。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Random r=<span class="keyword">new</span> <span class="title class_">Random</span>(<span class="number">13</span>);     <span class="comment">//创建对象时传入种子</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//随机生成10个[0,100)之间的数</span></span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++)&#123;</span><br><span class="line"></span><br><span class="line">System.out.println(r.nextInt(<span class="number">100</span>));</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>每次运行生成的随机数都是相同的</p>
<h3 id="nextBoolan方法"><a href="#nextBoolan方法" class="headerlink" title="nextBoolan方法"></a>nextBoolan方法</h3><p>该方法的作用是生成一个随机的boolean值，生成true和false的值几率相等，也就是都是50%的几率。</p>
<pre><code>Random a=new Random();
System.out.println(a.nextBoolean());
</code></pre>
<h3 id="nextDouble方法"><a href="#nextDouble方法" class="headerlink" title="nextDouble方法"></a>nextDouble方法</h3><p>该方法的作用是生成一个随机的double值，数值介于[0,1.0)之间。</p>
<pre><code>Random a=new Random();
System.out.println(a.nextDouble());
</code></pre>
<p>也可以自己指定范围生成</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">（2）生成[0,5.0)区间的小数</span><br><span class="line">double d2 = r.nextDouble() * 5;</span><br><span class="line">因为nextDouble方法生成的数字区间是[0,1.0)，将该区间扩大5倍即是要求的区间。</span><br><span class="line">同理，生成[0,d)区间的随机小数，d为任意正的小数，则只需要将nextDouble方法的返回值乘以d即可。</span><br><span class="line">（3）生成[1,2.5)区间的小数</span><br><span class="line">double d3 = r.nextDouble() * 1.5 + 1;</span><br><span class="line">生成[1,2.5)区间的随机小数，则只需要首先生成[0,1.5)区间的随机数字，然后将生成的随机数区间加1即可。同理，生成任意非从0开始的小数区间[d1,d2)范围的随机数字(其中d1不等于0)，则只需要首先生成[0,d2-d1)区间的随机数字，然后将生成的随机数字区间加上d1即可。</span><br></pre></td></tr></table></figure>

<p>就是在原本的基础上乘以多少就可以变成原本的多少倍</p>
<h3 id="nextInt方法"><a href="#nextInt方法" class="headerlink" title="nextInt方法"></a>nextInt方法</h3><p>该方法的作用是生成一个随机的int值，该值介于int的区间，也就是-231到231-1之间。</p>
<pre><code>Random a=new Random();
System.out.println(a.nextInt());
</code></pre>
<p>同时可以自己指定生成整数的范围</p>
<p>生成[0,10)区间的整数<br>    Random a&#x3D;new Random();<br>    System.out.println(a.nextInt(10));</p>
<p>生成[0,10]区间的整数<br>  Random a&#x3D;new Random();<br>    System.out.println(a.nextInt(11));</p>
<p>生成[-3,15)区间的整数<br>    Random a&#x3D;new Random();<br>    System.out.println(a.nextInt(18)-3);</p>
<h1 id="java中Math类"><a href="#java中Math类" class="headerlink" title="java中Math类"></a>java中Math类</h1><p>不用导入包</p>
<h3 id="静态常量"><a href="#静态常量" class="headerlink" title="静态常量"></a>静态常量</h3><p>Math 类中包含 E 和 PI 两个静态常量，正如它们名字所暗示的，它们的值分别等于 e（自然对数）和 π（圆周率）。</p>
<p>调用 Math 类的 E 和 PI 两个常量，并将结果输出。代码如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(&quot;E 常量的值：&quot; + Math.E);System.out.println(&quot;PI 常量的值：&quot; + Math.PI);</span><br></pre></td></tr></table></figure>


<p>执行上述代码，输出结果如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">E 常量的值：2.718281828459045</span><br><span class="line">PI 常量的值：3.141592653589793</span><br></pre></td></tr></table></figure>

<p>System.out.println(Math.E);<br>System.out.println(Math.PI);</p>
<h3 id="求最大值、最小值和绝对值"><a href="#求最大值、最小值和绝对值" class="headerlink" title="求最大值、最小值和绝对值"></a>求最大值、最小值和绝对值</h3><p>在程序中常见的就是求最大值、最小值和绝对值问题，如果使用 Math 类提供的方法可以很容易实现。这些方法的说明如表 1 所示。</p>
<p><img src="C:\Users#赵梓皓&\AppData\Roaming\Typora\typora-user-images\image-20220614165454798.png" alt="image-20220614165454798"></p>
<p>就是比较的时候两个数字的数字类型一定要相同，这些函数只能是在两个数之间进行比较</p>
<p>求 10 和 20 的较大值、15.6 和 15 的较小值、-12 的绝对值，代码如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">纯文本复制</span><br><span class="line">public class Test02 &#123;    public static void main(String[] args) &#123;        System.out.println(&quot;10 和 20 的较大值：&quot; + Math.max(10, 20));        System.out.println(&quot;15.6 和 15 的较小值：&quot; + Math.min(15.6, 15));        System.out.println(&quot;-12 的绝对值：&quot; + Math.abs(-12));    &#125;&#125;</span><br></pre></td></tr></table></figure>

<p>该程序的运行结果如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">10和20的较大值：20</span><br><span class="line">15.6和15的较小值：15.0</span><br><span class="line">-12的绝对值：12</span><br></pre></td></tr></table></figure>

<h3 id="求整运算"><a href="#求整运算" class="headerlink" title="求整运算"></a>求整运算</h3><p>Math 类的求整方法有很多，详细说明如表 2 所示。</p>
<p><img src="C:\Users#赵梓皓&\AppData\Roaming\Typora\typora-user-images\image-20220614165920339.png" alt="image-20220614165920339"></p>
<ol>
<li>&#96;&#96;&#96;<br>import java.util.Scanner;<br>public class Test03 {<br>public static void main(String[] args) {<br>   Scanner input &#x3D; <strong>new</strong> Scanner(System.in);<br>   System.outprintln(“请输入一个数字：”);<br>   double num &#x3D; input.nextDouble();<br>   System.out.println(“大于或等于 “+ num +” 的最小整数：” + Math.ceil(num));<br>   System.out.println(“小于或等于 “+ num +” 的最大整数：” + Math.floor(num));<br>  System.out.println(“将 “+ num +” 加上 0.5 之后最接近的整数：” + Math.round(num));<br>   System.out.println(“最接近 “+num+” 的整数：” + Math.rint(num));<br>   }<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">   	Double a=1.0;</span><br><span class="line">   	    System.out.println(Math.ceil(a));</span><br><span class="line">   	    System.out.println(Math.floor(a));</span><br><span class="line">   	    System.out.println(Math.rint(a));</span><br><span class="line">   	    System.out.println(Math.round(a));//当距离两个整数一样的时候取那个小的</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># Java Scanner 类</span><br><span class="line"></span><br><span class="line">2022-01-25 14:23 更新</span><br><span class="line"></span><br><span class="line">java.util.Scanner是Java5的新特征，我们可以通过 Scanner 类来获取用户的输入。</span><br><span class="line"></span><br><span class="line">下面是创建 Scanner 对象的基本语法：</span><br><span class="line"></span><br></pre></td></tr></table></figure>
 Scanner s &#x3D; new Scanner(System.in); <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">接下来我们演示一个最简单的的数据输入，并通过 Scanner 类的 next() 与 nextLine() 方法获取输入的字符串，在读取前我们一般需要 使用 hasNext 与 hasNextLine 判断是否还有输入的数据：</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 使用 next 方法：</span><br><span class="line"></span><br></pre></td></tr></table></figure>
import java.util.Scanner;</li>
</ol>
<p>public class ScannerDemo {<br>    public static void main(String[] args) {<br>        Scanner scan &#x3D; new Scanner(System.in);<br>        &#x2F;&#x2F; 从键盘接收数据  </p>
<pre><code>    //next方式接收字符串
    System.out.println(&quot;next方式接收：&quot;);
    // 判断是否还有输入
    if(scan.hasNext())&#123;   
        String str1 = scan.next();
        System.out.println(&quot;输入的数据为：&quot;+str1);  
    &#125;  

&#125;  
</code></pre>
<p>} </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">执行以上程序输出结果为：</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>$ javac ScannerDemo.java<br>$ java ScannerDemo<br>next方式接收：<br>youj com<br>输入的数据为：youj</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">可以看到 com 字符串并未输出，接下来我们看 nextLine。</span><br><span class="line"></span><br><span class="line">### 使用 nextLine 方法：</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><code>import java.util.Scanner;  public class ScannerDemo &#123;      public static void main(String[] args) &#123;          Scanner scan = new Scanner(System.in);  	// 从键盘接收数据   		//nextLine方式接收字符串        System.out.println(&quot;nextLine方式接收：&quot;);        // 判断是否还有输入        if(scan.hasNextLine())&#123;           	String str2 = scan.nextLine();        	System.out.println(&quot;输入的数据为：&quot;+str2);          &#125;       &#125;   &#125;  </code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<p>执行以上程序输出结果为：<code>$ javac ScannerDemo.java $ java ScannerDemo nextLine方式接收： youj com 输入的数据为：youj com </code>可以看到 com 字符串输出。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### next()与nextLine()区别</span><br><span class="line"></span><br><span class="line">**next():**</span><br><span class="line"></span><br><span class="line">- 1、一定要读取到有效字符后才可以结束输入。</span><br><span class="line">- 2、对输入有效字符之前遇到的空白，next()方法会自动将其去掉。</span><br><span class="line">- 3、只有输入有效字符后才将其后面输入的空白作为分隔符或者结束符。</span><br><span class="line">- next()不能得到带有空格的字符串。</span><br><span class="line"></span><br><span class="line">**nextLine()：**</span><br><span class="line"></span><br><span class="line">- 1、以Enter为结束符,也就是说nextLine()方法返回的是输入回车之前的所有字符。</span><br><span class="line">- 2、可以获得空白。</span><br><span class="line"></span><br><span class="line">如果要输入int或float类型的数据，在Scanner类中也有支持，但是在输入之前最好先使用 hasNextXxx() 方法进行验证，再使用 nextXxx() 来读取：</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>import java.util.Scanner;  </p>
<p>public class ScannerDemo {<br>    public static void main(String[] args) {<br>        Scanner scan &#x3D; new Scanner(System.in);<br>        &#x2F;&#x2F; 从键盘接收数据<br>        int i &#x3D; 0 ;<br>        float f &#x3D; 0.0f ;<br>        System.out.print(“输入整数：”);<br>        if(scan.hasNextInt()){<br>            &#x2F;&#x2F; 判断输入的是否是整数<br>            i &#x3D; scan.nextInt() ;<br>            &#x2F;&#x2F; 接收整数<br>            System.out.println(“整数数据：” + i) ;<br>        }else{<br>            &#x2F;&#x2F; 输入错误的信息<br>            System.out.println(“输入的不是整数！”) ;<br>        }<br>        System.out.print(“输入小数：”);<br>        if(scan.hasNextFloat()){<br>            &#x2F;&#x2F; 判断输入的是否是小数<br>            f &#x3D; scan.nextFloat() ;<br>            &#x2F;&#x2F; 接收小数<br>            System.out.println(“小数数据：” + f) ;<br>        }else{<br>            &#x2F;&#x2F; 输入错误的信息<br>            System.out.println(“输入的不是小数！”) ;<br>        }<br>    }<br>} </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">执行以上程序输出结果为：</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>$ javac ScannerDemo.java<br>$ java ScannerDemo<br>输入整数：12<br>整数数据：12<br>输入小数：1.2<br>小数数据：1.2</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">一个字节八比特，一个byte八位</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## java SimpleDateFormat类</span><br><span class="line"></span><br><span class="line">**1、为什么要使用SimpleDateFormat？**</span><br><span class="line"></span><br><span class="line">在Java中，如果我们想获取当前时间，一般会使用Date类的无参构造函数，如下所示，我们获取到当前时间并输出：</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>import java.util.Date;<code> </code>public class SimpleDateFormatDemo {<code>  </code>public static void main(String[] args) {<code>    </code>Date currentTime &#x3D; <code>new` `Date();</code>    <code>System.out.println(currentTime); </code>&#x2F;&#x2F; 输出：Mon Feb 18 10:24:30 CST 2019<code>  </code>}&#96;&#96;}</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">此时我们会发现， 输出的格式并不是我们预期的格式，一般情况下，我们希望的格式都是类似于2019-02-18，2019-02-18 10:24:30，2019/02/18这样的，此时我们就需要用到java.text.SimpleDateFormat来自定义格式。</span><br><span class="line"></span><br><span class="line">**2.使用format()方法将日期转换为字符串**</span><br><span class="line"></span><br><span class="line">使用format()方法，我们可以将日期类型转换为自己自定义的字符串格式，如2019-02-18，2019/02/18，2019-02-18 10:24:30等，自定义格式如下表所示：</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">| 格式 | 释义           | 举例         |</span><br><span class="line">| ---- | -------------- | ------------ |</span><br><span class="line">| yyyy | 年             | 2019         |</span><br><span class="line">| MM   | 月             | 02           |</span><br><span class="line">| dd   | 日             | 18           |</span><br><span class="line">| HH   | 小时(24小时制) | 13，下午一点 |</span><br><span class="line">| mm   | 分钟           | 53           |</span><br><span class="line">| ss   | 秒             | 42           |</span><br><span class="line">| SSS  | 毫秒           | 629          |</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>package com.zwwhnly.springbootdemo;<code> </code>import java.text.SimpleDateFormat;<code>import java.util.Date;` `public class SimpleDateFormatDemo &#123;</code>  <code>public static void main(String[] args) &#123;</code>    <code>Date currentTime = </code>new<code> </code>Date();<code>    </code>System.out.println(currentTime);  <code>// Mon Feb 18 13:53:50 CST 2019` `    </code>SimpleDateFormat simpleDateFormat1 &#x3D; <code>new` `SimpleDateFormat(</code>“yyyy-MM-dd HH:mm:ss.SSS”<code>);</code>    <code>SimpleDateFormat simpleDateFormat2 = </code>new<code> </code>SimpleDateFormat(<code>&quot;yyyy-MM-dd&quot;</code>);<code>    </code>SimpleDateFormat simpleDateFormat3 &#x3D; <code>new` `SimpleDateFormat(</code>“yyyy&#x2F;MM&#x2F;dd”<code>);` `    </code>System.out.println(simpleDateFormat1.format(currentTime)); <code>// 输出2019-02-18 13:53:50.629</code>    <code>System.out.println(simpleDateFormat2.format(currentTime)); </code>&#x2F;&#x2F; 输出2019-02-18<code>    </code>System.out.println(simpleDateFormat3.format(currentTime)); <code>// 输出2019/02/18</code>  <code>&#125;</code>}</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">**3.使用parse()方法将字符串转换为日期**</span><br><span class="line"></span><br><span class="line">在实际开发过程中，我们经常需要将字符串转换为日期类型，以进行后续操作，此时可以使用parse()</span><br><span class="line"></span><br><span class="line">方法，但需要**注意：如果字符串与指定的格式不匹配，会报java.text.ParseException异常**。</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src="E:\临时\20190218\snipaste_20190218_141555.png" alt="snipaste_20190218_141555">package com.zwwhnly.springbootdemo;<code> </code>import java.text.ParseException;<code>import java.text.SimpleDateFormat;</code>import java.util.Date;<code> </code>public class SimpleDateFormatDemo {<code>  </code>public static void main(String[] args) {<code> </code>    <code>try` `&#123;</code>      <code>SimpleDateFormat simpleDateFormat1 = </code>new<code> </code>SimpleDateFormat(<code>&quot;yyyy-MM-dd HH:mm&quot;</code>);<code> </code>      <code>String strDate1 = </code>“2019-02-18 13:58”<code>;</code>      <code>String strDate2 = </code>“2019-02-18”<code>;` `      </code>Date date1 &#x3D; simpleDateFormat1.parse(strDate1);<code>      </code>System.out.println(date1);<code>      </code>Date date2 &#x3D; simpleDateFormat1.parse(strDate2);<code>      </code>System.out.println(date2);<code>    </code>} <code>catch` `(ParseException e) &#123;</code>      <code>e.printStackTrace();</code>    <code>&#125;</code>  <code>&#125;</code>}</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">运行结果如下图所示：</span><br><span class="line">![img](https://img.php.cn/upload/article/000/000/009/df291517b181715740e6b0e41523d70a-0.png)</span><br><span class="line">由此我们可以看到，strDate1格式匹配能正常转换为Date类型，而strDate2由于格式不匹配，抛出java.text.ParseException，正是因为如此，以上的代码才必须包括在try,catch语句中，否则IDEA会提示错误，代码也编译不通过，如下图所示：</span><br><span class="line">![img](https://img.php.cn/upload/article/000/000/009/7eb79f9f201f4ed88b9d3800e095917c-1.png)</span><br><span class="line"></span><br><span class="line">## 抽象类和接口</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">package Shape;</span><br><span class="line"></span><br><span class="line">public abstract class Shape &#123;</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(&quot;执行Shapes初始化块..&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">	private String color;</span><br><span class="line">	public abstract double calPerimeter();</span><br><span class="line">	public abstract String getType();</span><br><span class="line">	</span><br><span class="line">	public Shape() &#123;&#125;</span><br><span class="line">	public Shape(String color) &#123;</span><br><span class="line">		System.out.println(&quot;执行Shape的构造器&quot;);</span><br><span class="line">		this.color=color;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">​	</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">public interface Output&#123;</span><br><span class="line">	int MAX_CACHE_LINE=50;</span><br><span class="line">	void out();</span><br><span class="line">	void getData(String msg);</span><br><span class="line">	default void print(String...msgs) &#123;</span><br><span class="line">		for (String msg :msgs)</span><br><span class="line">		&#123;</span><br><span class="line">			System.out.println(&quot;默认的test()方法&quot;);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	default void test() &#123;</span><br><span class="line">		System.out.println(&quot;test方法&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">	static String staticTest() &#123;</span><br><span class="line">		return &quot;接口里的类方法&quot;;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">多入参方式</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>public static void main(String[] args) {<br>        System.out.println(“test1:”);<br>        test(“a”,”b”,”c”);<br>        System.out.println(“test2:”);<br>        test(new String[] {“a”, “b”, “c”});<br>    }</p>
<pre><code>/**
 * 测试方法
 * @param params 参数
 * */
 
 
public static void test(String... params)&#123;
    //遍历参数内容
    for(String temp : params)&#123;
        System.out.println(temp);
    &#125;
    System.out.println();
</code></pre>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">定义这种类型的入参必须放到最后一个才可以，也就是说int入参需要放到可变入参的前面，同时再test1处增加一个String进行测试，看一下代码。</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>public static void main(String[] args) {<br>        System.out.println(“test1:”);<br>        test(1,”a”,”b”,”c”,”d”);<br>        System.out.println(“test2:”);<br>        test(2,new String[] {“a”, “b”, “c”});<br>    }</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">​	</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 测试方法</span><br><span class="line">     * @param params 参数</span><br><span class="line">     * */</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">​    public static void test(int intParam,String... params)&#123;</span><br><span class="line">​    	System.out.println(&quot;int:&quot;+intParam);</span><br><span class="line">​        //遍历参数内容</span><br><span class="line">​        for(String temp : params)&#123;</span><br><span class="line">​            System.out.println(temp);</span><br><span class="line">​        &#125;</span><br><span class="line">​        System.out.println();</span><br><span class="line">​    &#125;</span><br><span class="line"></span><br><span class="line"># java的内部类</span><br><span class="line"></span><br><span class="line">## 非静态内部类</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>package Shape;</p>
<p>public class Shape{<br>    private String prop&#x3D;”外部类的实例变量”;<br>    private class InClass{<br>        private String prop&#x3D;”内部类的实例变量”;<br>        public void info() {<br>            String prop&#x3D;”局部变量”;<br>            System.out.println(Shape.this.prop);<br>            System.out.println(this.prop);<br>            System.out.println(prop);<br>        }<br>    }<br>    public void test() {<br>        InClass a&#x3D;new InClass();<br>        a.info();<br>    }<br>    public static void main(String[] args)<br>    {<br>        new Shape().test();<br>        }<br>    }</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">## 静态内部类</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>package Shape;</p>
<p>public class Shape{<br>    private int a&#x3D;1;<br>    private static int b&#x3D;2;<br>    static class show{</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">		private static int age=1;</span><br><span class="line">		public int c=3;</span><br><span class="line">		public void accessOuterProp() &#123;</span><br><span class="line">			//System.out.println(a);</span><br><span class="line">			System.out.println(b);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	public static void main(String[] args)</span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(show.age);</span><br><span class="line">		System.out.println(new show().c);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">## 在外部类以外使用非静态内部类</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>package Shape;</p>
<p>class Out{<br>    class In{<br>        public In(String msg){<br>            System.out.println(msg);<br>        }<br>    }<br>}<br>public class Shape{<br>    public static void main(String[] args)<br>    {<br>        Out.In in&#x3D;new Out().new In(“测试信息”);</p>
<pre><code>    &#125;
</code></pre>
<p>}</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">## 在外部类以外使用静态内部类</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>package Shape;</p>
<p>class StaticOut{<br>    static class StaticIn{<br>        public StaticIn() {<br>            System.out.println(“静态类内部的构造器”);<br>        }<br>    }<br>}<br>public class Shape{<br>    public static void main(String[] args)<br>    {<br>        StaticOut.StaticIn in&#x3D;new StaticOut.StaticIn();</p>
<pre><code>    &#125;
</code></pre>
<p>}</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">## 使用静态内部类注意事项</span><br><span class="line"></span><br><span class="line">```java</span><br><span class="line">package Shape;</span><br><span class="line"></span><br><span class="line">class StaticOut&#123;</span><br><span class="line">	private int a=1;</span><br><span class="line">	private static int h=2;</span><br><span class="line">	static class StaticIn&#123;</span><br><span class="line">		public StaticIn() &#123;</span><br><span class="line">			System.out.println(&quot;静态类内部的构造器&quot;);</span><br><span class="line">			//System.out.println(a);</span><br><span class="line">		StaticOut b= new StaticOut();</span><br><span class="line">		System.out.println(b.a);</span><br><span class="line">		System.out.println(h);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">public class Shape&#123;</span><br><span class="line">	public static void main(String[] args)</span><br><span class="line">	&#123;</span><br><span class="line">		StaticOut.StaticIn in=new StaticOut.StaticIn();</span><br><span class="line">		</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">	</span><br></pre></td></tr></table></figure>

<h2 id="匿名内部类"><a href="#匿名内部类" class="headerlink" title="匿名内部类"></a>匿名内部类</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Shape;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Product</span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="type">double</span> <span class="title function_">getPrice</span><span class="params">()</span>;</span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Shape</span>&#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> age=<span class="number">1</span>;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">(Product P)</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;购买了一个&quot;</span>+P.getName()+<span class="string">&quot;,花掉了&quot;</span>+P.getPrice());</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span></span><br><span class="line">	&#123;</span><br><span class="line">		Shape a=<span class="keyword">new</span> <span class="title class_">Shape</span>();</span><br><span class="line">		a.test(<span class="keyword">new</span> <span class="title class_">Product</span>() &#123;</span><br><span class="line">			<span class="keyword">public</span> <span class="type">double</span> <span class="title function_">getPrice</span><span class="params">()</span> &#123;</span><br><span class="line">				System.out.println(age);</span><br><span class="line">				<span class="keyword">return</span> <span class="number">567.8</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">				<span class="keyword">return</span> <span class="string">&quot;Agp显卡&quot;</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">		&#125;);</span><br><span class="line">		</span><br><span class="line">		&#125;</span><br><span class="line">&#125;</span><br><span class="line">	</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">	可以替代上面的匿名内部类</span><br><span class="line">	class product1 implements Product</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">public double getPrice()&#123;</span><br><span class="line"></span><br><span class="line">return 56.7;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public String getName()&#123;</span><br><span class="line"></span><br><span class="line">return &quot;agp显卡&quot;;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">a.test(new product1());</span><br></pre></td></tr></table></figure>

<h2 id="lambda表达式"><a href="#lambda表达式" class="headerlink" title="lambda表达式"></a>lambda表达式</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Shape;</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Eatable</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">void</span> <span class="title function_">taste</span><span class="params">()</span>;	</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Flyable</span>&#123;</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	<span class="keyword">void</span> <span class="title function_">fly</span><span class="params">(String weather)</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Addable</span>&#123;</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	<span class="type">int</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b)</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Shape</span>&#123;</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">(Eatable e)</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(e);</span><br><span class="line">		e.taste();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">drive</span><span class="params">(Flyable f)</span> &#123;</span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">&quot;我正在驾驶&quot;</span>+f);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">(Addable add)</span> &#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;5域3的和位&quot;</span>+add.add(<span class="number">5</span>,<span class="number">3</span>));</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		Shape lq=<span class="keyword">new</span> <span class="title class_">Shape</span>();</span><br><span class="line">		lq.eat(()-&gt;System.out.println(<span class="string">&quot;okok&quot;</span>));</span><br><span class="line">		lq.drive(weather-&gt;&#123;System.out.println(<span class="string">&quot;今天的天气是&quot;</span>+weather);&#125;);</span><br><span class="line">		lq.test((a,b)-&gt;a+b);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">	</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> hello;</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">like</span>&#123;</span><br><span class="line">	<span class="keyword">void</span> <span class="title function_">print</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Hello</span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span> &#123;</span><br><span class="line">		like l=()-&gt;&#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;1&quot;</span>);</span><br><span class="line">		&#125;;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="引用类方法"><a href="#引用类方法" class="headerlink" title="引用类方法"></a>引用类方法</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Shape;</span><br><span class="line"><span class="meta">@FunctionalInterface</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Converter</span>&#123;</span><br><span class="line">	Integer <span class="title function_">convert</span><span class="params">(String from)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Shape</span>&#123;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">Converter converter1=from-&gt;Integer.valueOf(from);</span><br><span class="line">Converter converter2=Integer::valueOf;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="引用特定对象的实例方法"><a href="#引用特定对象的实例方法" class="headerlink" title="引用特定对象的实例方法"></a>引用特定对象的实例方法</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Shape;</span><br><span class="line"><span class="meta">@FunctionalInterface</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Converter</span>&#123;</span><br><span class="line">	Integer <span class="title function_">convert</span><span class="params">(String from)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Shape</span>&#123;</span><br><span class="line">	Converter converter2=from-&gt;<span class="string">&quot;fkit.org&quot;</span>.indexOf(from);</span><br><span class="line">	Converter converter1=<span class="string">&quot;fkit.org&quot;</span>::indexOf;</span><br><span class="line">	<span class="type">int</span> value=converter1.convert(<span class="string">&quot;1&quot;</span>);</span><br><span class="line">	<span class="keyword">void</span> <span class="title function_">print</span><span class="params">()</span> &#123;</span><br><span class="line">	System.out.println(value);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br></pre></td></tr></table></figure>

<p>}</p>
<h2 id="引用某类对象的实例方法"><a href="#引用某类对象的实例方法" class="headerlink" title="引用某类对象的实例方法"></a>引用某类对象的实例方法</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Shape;</span><br><span class="line"><span class="meta">@FunctionalInterface</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Mytest</span>&#123;</span><br><span class="line">	String <span class="title function_">test</span><span class="params">(String a,<span class="type">int</span> b ,<span class="type">int</span> c)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Shape</span>&#123;</span><br><span class="line"><span class="type">Mytest</span> <span class="variable">mt</span> <span class="operator">=</span>(a,b,c)-&gt;a.substring(b,c);</span><br><span class="line">Mytest mt1=String::substring;</span><br><span class="line"><span class="keyword">void</span> <span class="title function_">print</span><span class="params">()</span> &#123;</span><br><span class="line">	String str=mt.test(<span class="string">&quot;java i love you&quot;</span>,<span class="number">3</span>,<span class="number">9</span>);</span><br><span class="line">	System.out.println(str);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span></span><br><span class="line">&#123;</span><br><span class="line">	Shape a=<span class="keyword">new</span> <span class="title class_">Shape</span>();</span><br><span class="line">	a.print();</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="引用构造器"><a href="#引用构造器" class="headerlink" title="引用构造器"></a>引用构造器</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Shape;</span><br><span class="line"><span class="meta">@FunctionalInterface</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">YourTest</span>&#123;</span><br><span class="line">	JFrame <span class="title function_">win</span><span class="params">(String title)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Shape</span>&#123;</span><br><span class="line">YourTest yt=(String a)-&gt;<span class="keyword">new</span> <span class="title class_">JFrame</span>(a);</span><br><span class="line">YourTest yt1=JFrame::<span class="keyword">new</span>;</span><br><span class="line"><span class="keyword">void</span> <span class="title function_">print</span><span class="params">()</span> &#123;</span><br><span class="line">	JFrame jf=yt.win(<span class="string">&quot;我的窗口&quot;</span>);</span><br><span class="line">	System.out.println(jf);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span></span><br><span class="line">&#123;</span><br><span class="line">	Shape a=<span class="keyword">new</span> <span class="title class_">Shape</span>();</span><br><span class="line">	a.print();</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Shape;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JFrame</span> &#123;</span><br><span class="line"><span class="keyword">public</span> <span class="title function_">JFrame</span><span class="params">(String a)</span>&#123;</span><br><span class="line">	System.out.println(<span class="string">&quot;a&quot;</span>);</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="枚举类"><a href="#枚举类" class="headerlink" title="枚举类"></a>枚举类</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Shape;</span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">SeasonEnum</span>&#123;</span><br><span class="line">	SPRING,SUMMER,FALL,WINTER;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Shape</span>&#123;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">judge</span><span class="params">(SeasonEnum s)</span></span><br><span class="line">&#123;</span><br><span class="line">       <span class="keyword">switch</span> (s)</span><br><span class="line">       &#123;</span><br><span class="line">       <span class="keyword">case</span> SPRING:</span><br><span class="line">    	   System.out.println(<span class="string">&quot;春天&quot;</span>);</span><br><span class="line">    	   <span class="keyword">break</span>;</span><br><span class="line">       <span class="keyword">case</span> SUMMER:</span><br><span class="line">    	   System.out.println(<span class="string">&quot;夏天&quot;</span>);</span><br><span class="line">    	   <span class="keyword">break</span>;</span><br><span class="line">       <span class="keyword">case</span> FALL:</span><br><span class="line">    	   System.out.println(<span class="string">&quot;秋天&quot;</span>);</span><br><span class="line">    	   <span class="keyword">break</span>;</span><br><span class="line">       <span class="keyword">case</span> WINTER:</span><br><span class="line">    	   System.out.println(<span class="string">&quot;冬天&quot;</span>);</span><br><span class="line">    	   <span class="keyword">break</span>;</span><br><span class="line">       </span><br><span class="line">       </span><br><span class="line"></span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">for</span> (SeasonEnum s:SeasonEnum.values())</span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(s);</span><br><span class="line">		</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">new</span> <span class="title class_">Shape</span>().judge(SeasonEnum.SPRING);</span><br><span class="line">	</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="更合理的枚举类"><a href="#更合理的枚举类" class="headerlink" title="更合理的枚举类"></a>更合理的枚举类</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">package Shape;</span><br><span class="line">enum Gender&#123;</span><br><span class="line">	MALE,FEMALE;</span><br><span class="line">	private String name;</span><br><span class="line">	public void setName(String name)</span><br><span class="line">	&#123;</span><br><span class="line">		switch (this)</span><br><span class="line">		&#123;</span><br><span class="line">		case MALE:</span><br><span class="line">			if(name.equals(&quot;男&quot;))</span><br><span class="line">			&#123;</span><br><span class="line">				this.name=name;</span><br><span class="line">			&#125;</span><br><span class="line">			else</span><br><span class="line">			&#123;</span><br><span class="line">				System.out.println(&quot;参数错误&quot;);</span><br><span class="line">			&#125;</span><br><span class="line">			break;</span><br><span class="line">		case FEMALE:</span><br><span class="line">			if(name.equals(&quot;女&quot;))</span><br><span class="line">			&#123;</span><br><span class="line">				this.name=name;</span><br><span class="line">			&#125;</span><br><span class="line">			else</span><br><span class="line">			&#123;</span><br><span class="line">				System.out.println(&quot;参数错误&quot;);</span><br><span class="line">			&#125;</span><br><span class="line">			break;</span><br><span class="line">			</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	public String getName() &#123;</span><br><span class="line">		return this.name;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public class Shape&#123;</span><br><span class="line">public static void main(String[] args)</span><br><span class="line">&#123;</span><br><span class="line">	Gender g=Gender.valueOf(&quot;FEMALE&quot;);</span><br><span class="line">	g.setName(&quot;女&quot;);</span><br><span class="line">	System.out.println(g+&quot;代表&quot;+g.getName());</span><br><span class="line">	//g.setName(&quot;男&quot;);</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="用构造器做的枚举类，更合理"><a href="#用构造器做的枚举类，更合理" class="headerlink" title="用构造器做的枚举类，更合理"></a>用构造器做的枚举类，更合理</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Shape;</span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">Gender</span>&#123;</span><br><span class="line">	MALE(<span class="string">&quot;男&quot;</span>),FEMALE(<span class="string">&quot;女&quot;</span>);</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">final</span> String name;</span><br><span class="line">	<span class="keyword">private</span> <span class="title function_">Gender</span><span class="params">(String name)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">this</span>.name=name;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">		<span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span></span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="built_in">this</span>.name;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Shape</span>&#123;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span></span><br><span class="line">&#123;</span><br><span class="line">	Gender g=Gender.valueOf(<span class="string">&quot;FEMALE&quot;</span>);</span><br><span class="line">	System.out.println(g.getName());</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="实现接口的枚举类，不同的枚举值重写的函数还不一样"><a href="#实现接口的枚举类，不同的枚举值重写的函数还不一样" class="headerlink" title="实现接口的枚举类，不同的枚举值重写的函数还不一样"></a>实现接口的枚举类，不同的枚举值重写的函数还不一样</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Shape;</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">GenderDesc</span></span><br><span class="line">&#123;</span><br><span class="line">     <span class="keyword">void</span> <span class="title function_">info</span><span class="params">()</span>;	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">Gender</span> <span class="keyword">implements</span> <span class="title class_">GenderDesc</span></span><br><span class="line">&#123;</span><br><span class="line">MALE(<span class="string">&quot;男&quot;</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">info</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">System.out.println(<span class="string">&quot;这个枚举值代表男性&quot;</span>);	</span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line">FEMALE(<span class="string">&quot;女&quot;</span>)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">info</span><span class="params">()</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;这个枚举值代表女性&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">final</span> String name;</span><br><span class="line"><span class="keyword">private</span> <span class="title function_">Gender</span><span class="params">(String name)</span> &#123;</span><br><span class="line">	<span class="built_in">this</span>.name=name;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Shape</span>&#123;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span></span><br><span class="line">&#123;</span><br><span class="line">	Gender g=Gender.valueOf(<span class="string">&quot;FEMALE&quot;</span>);</span><br><span class="line">	g.info();</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">这个是包含抽象方法的枚举类</span><br><span class="line">在对枚举值实例化的时候也是进行了一个方法的重写，类似于匿名内部类，创建了一个Gender子类的实例</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> Shape;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">Gender</span></span><br><span class="line">&#123;</span><br><span class="line">PLUS</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span> <span class="type">double</span> <span class="title function_">eval</span><span class="params">(<span class="type">double</span> x, <span class="type">double</span> y)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> x+y;</span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line">MINUS</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span> <span class="type">double</span> <span class="title function_">eval</span><span class="params">(<span class="type">double</span> x,<span class="type">double</span> y)</span>	</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> x-y;	</span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line">TIMES</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span> <span class="type">double</span> <span class="title function_">eval</span><span class="params">(<span class="type">double</span> x,<span class="type">double</span> y)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> x*y; </span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line">DEVIDE</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="type">double</span> <span class="title function_">eval</span><span class="params">(<span class="type">double</span> x,<span class="type">double</span> y)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> x/y;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="type">double</span> <span class="title function_">eval</span><span class="params">(<span class="type">double</span> x,<span class="type">double</span> y)</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span> &#123;</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	System.out.println(Gender.PLUS.eval(<span class="number">5</span>,<span class="number">4</span>));</span><br><span class="line">	System.out.println(Gender.PLUS.eval(<span class="number">5</span>,<span class="number">4</span>));</span><br><span class="line">	System.out.println(Gender.PLUS.eval(<span class="number">5</span>,<span class="number">4</span>));</span><br><span class="line">	System.out.println(Gender.PLUS.eval(<span class="number">5</span>,<span class="number">4</span>));</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>}</p>
<h1 id="java中的集合"><a href="#java中的集合" class="headerlink" title="java中的集合"></a>java中的集合</h1><h1 id="Collection"><a href="#Collection" class="headerlink" title="Collection"></a>Collection</h1><p>这是一个接口，只能new 实现类</p>
<p><strong>Collection常用方法</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">int size();</span><br><span class="line"></span><br><span class="line">boolean isEmpty();</span><br><span class="line"></span><br><span class="line">boolean contains(Object o);//调用o的equals方法和集合中元素比较来判断是否存在</span><br><span class="line"></span><br><span class="line">Iterator&lt;E&gt; iterator();</span><br><span class="line"></span><br><span class="line">Object[] toArray ();</span><br><span class="line"></span><br><span class="line">boolean add(E o);</span><br><span class="line"></span><br><span class="line">boolean remove(Object o);</span><br><span class="line"></span><br><span class="line">boolean containsAll (Collection&lt;?&gt; c);//检查集合c是否在集合里面出现</span><br><span class="line"></span><br><span class="line">boolean addAll (Collection&lt;? extends E&gt; c);</span><br><span class="line">boolean removeAll (Collection&lt;?&gt; c);//</span><br><span class="line">boolean retainAll (Collection&lt;?&gt; c);//保留两个集合交集</span><br><span class="line">void clear();</span><br><span class="line"></span><br><span class="line">boolean equals(Object o);</span><br></pre></td></tr></table></figure>

<p><strong>常用方法的使用</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Shape;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Shape</span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span> &#123;</span><br><span class="line">	<span class="type">Collection</span> <span class="variable">c</span> <span class="operator">=</span><span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">	c.add(<span class="string">&quot;寻悟空&quot;</span>);</span><br><span class="line">	c.add(<span class="number">6</span>);</span><br><span class="line">	c.remove(<span class="number">6</span>);</span><br><span class="line">	System.out.println(c.contains(<span class="string">&quot;寻悟空&quot;</span>));</span><br><span class="line">	c.add(<span class="string">&quot;java&quot;</span>);</span><br><span class="line">	Collection books=<span class="keyword">new</span> <span class="title class_">HashSet</span>();</span><br><span class="line">	books.add(<span class="string">&quot;轻量级javaee企业实战&quot;</span>);</span><br><span class="line">	books.add(<span class="string">&quot;疯狂java将以&quot;</span>);</span><br><span class="line">	books.add(<span class="string">&quot;寻悟空&quot;</span>);</span><br><span class="line">	c.removeAll(books);<span class="comment">//移除c中和books相同的元素</span></span><br><span class="line">	c.clear();<span class="comment">//清除所有元素</span></span><br><span class="line">	books.retainAll(c);<span class="comment">//移除books中和c不相同的元素</span></span><br><span class="line">	System.out.println(books);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>使用lambda表达式遍历集合</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">package Shape;</span><br><span class="line"></span><br><span class="line">import java.util.ArrayList;</span><br><span class="line">import java.util.Collection;</span><br><span class="line">import java.util.HashSet;</span><br><span class="line"></span><br><span class="line">public class Shape&#123;</span><br><span class="line"></span><br><span class="line">public static void main(String []args) &#123;</span><br><span class="line">	Collection books=new HashSet();</span><br><span class="line">	books.add(&quot;轻量级javaee企业实战&quot;);</span><br><span class="line">	books.add(&quot;疯狂java讲义&quot;);</span><br><span class="line">	books.add(&quot;疯狂安定&quot;);</span><br><span class="line">	books.forEach(obj-&gt;System.out.println(&quot;迭代元素集合&quot;+obj));</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>Iterator 遍历集合元素</strong></p>
<p>例一</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Shape;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Shape</span>&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span> &#123;</span><br><span class="line">	Collection books=<span class="keyword">new</span> <span class="title class_">HashSet</span>();</span><br><span class="line">	books.add(<span class="string">&quot;轻量级javaee企业实战&quot;</span>);</span><br><span class="line">	books.add(<span class="string">&quot;疯狂java讲义&quot;</span>);</span><br><span class="line">	books.add(<span class="string">&quot;疯狂安定&quot;</span>);</span><br><span class="line">     <span class="type">Iterator</span> <span class="variable">it</span> <span class="operator">=</span>books.iterator();</span><br><span class="line">     <span class="keyword">while</span>(it.hasNext())</span><br><span class="line">     &#123;</span><br><span class="line"></span><br><span class="line">    	 String book=(String)it.next();</span><br><span class="line">    	 System.out.println(book);</span><br><span class="line">    	 <span class="keyword">if</span>(books.equals(<span class="string">&quot;疯狂java讲义&quot;</span>))</span><br><span class="line">    	 &#123;</span><br><span class="line">    		 it.remove();<span class="comment">//从集合中删除上一次next()方法返回的元素</span></span><br><span class="line">    		 <span class="comment">//books.remove();迭代过程中不能使用这个，只有Iterator来remove才行</span></span><br><span class="line">    	 &#125;</span><br><span class="line">    	 book=<span class="string">&quot;测试字符串&quot;</span>;<span class="comment">//对book变量赋值，不会改变集合元素本身的</span></span><br><span class="line">    	 System.out.println(books);</span><br><span class="line">    	 it.forEachRemaining(obj-&gt;System.out.println(<span class="string">&quot;可迭代的元素&quot;</span>+obj));</span><br><span class="line">    	 </span><br><span class="line">    	 </span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>例二</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span> &#123;</span><br><span class="line">Collection c=<span class="keyword">new</span> <span class="title class_">HashSet</span>();</span><br><span class="line">c.add(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="number">1</span>,<span class="string">&quot;Tom&quot;</span>,<span class="number">60</span>));</span><br><span class="line">c.add(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="number">2</span>,<span class="string">&quot;Peter&quot;</span>,<span class="number">70</span>));</span><br><span class="line">c.add(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="number">3</span>,<span class="string">&quot;Bob&quot;</span>,<span class="number">80</span>));</span><br><span class="line">Iterator i=c.iterator();</span><br><span class="line"><span class="keyword">while</span>(i.hasNext()) &#123;</span><br><span class="line">	Student s=(Student)i.next();<span class="comment">//将得到的元素强制转换为（Student）类然后就可以正常使用了</span></span><br><span class="line">    <span class="comment">//如果这里上面的Iterator规定泛型是&lt;Student&gt;就不需要转换了</span></span><br><span class="line">    <span class="comment">//其实其他集合也是一样，因为java无法知道集合中是什么类</span></span><br><span class="line">	System.out.println(s.getName());</span><br><span class="line">&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>jdk1.5用foreach循环遍历集合</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">package Shape;</span><br><span class="line"></span><br><span class="line">import java.util.ArrayList;</span><br><span class="line">import java.util.Collection;</span><br><span class="line">import java.util.HashSet;</span><br><span class="line"></span><br><span class="line">public class Shape&#123;</span><br><span class="line"></span><br><span class="line">public static void main(String []args) &#123;</span><br><span class="line">	Collection books=new HashSet();</span><br><span class="line">	books.add(&quot;轻量级javaee企业实战&quot;);</span><br><span class="line">	books.add(&quot;疯狂java讲义&quot;);</span><br><span class="line">	books.add(&quot;疯狂安定&quot;);</span><br><span class="line">    for(Object obj:books)</span><br><span class="line">    &#123;</span><br><span class="line">    	String book=(String)obj;</span><br><span class="line">    	System.out.println(&quot;book&quot;);</span><br><span class="line">    	if(book.equals(&quot;疯狂java讲义&quot;))</span><br><span class="line">    	&#123;</span><br><span class="line">    		books.remove(book);</span><br><span class="line">    	&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    System.out.println(books);</span><br><span class="line">    	 </span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>Predicate操作集合</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Shape;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Shape</span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span> &#123;</span><br><span class="line">	Collection books=<span class="keyword">new</span> <span class="title class_">HashSet</span>();</span><br><span class="line">	books.add(<span class="string">&quot;轻量级javaee企业实战&quot;</span>);</span><br><span class="line">	books.add(<span class="string">&quot;疯狂java讲义&quot;</span>);</span><br><span class="line">	books.add(<span class="string">&quot;疯狂安定&quot;</span>);</span><br><span class="line">    books.add(<span class="string">&quot;疯狂ios讲义&quot;</span>);</span><br><span class="line">    books.add(<span class="string">&quot;疯狂ajax讲义&quot;</span>);</span><br><span class="line">    books.add(<span class="string">&quot;疯狂andriod将以&quot;</span>);</span><br><span class="line">    books.removeIf(ele-&gt;((String)ele).length()&lt;<span class="number">10</span>);</span><br><span class="line">    System.out.println(books);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Shape;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"><span class="keyword">import</span> java.util.function.Predicate;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Shape</span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span> &#123;</span><br><span class="line"></span><br><span class="line">	Collection books=<span class="keyword">new</span> <span class="title class_">HashSet</span>();</span><br><span class="line">	books.add(<span class="string">&quot;疯狂java&quot;</span>);</span><br><span class="line">	books.add(<span class="string">&quot;疯狂javajavajavajvaa&quot;</span>);</span><br><span class="line">	System.out.println(calAll(books,ele-&gt;((String)ele).contains(<span class="string">&quot;疯狂&quot;</span>)));</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">calAll</span><span class="params">(Collection books,Predicate p)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> total=<span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(Object obj:books)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span>(p.test(obj))</span><br><span class="line">		&#123;</span><br><span class="line">			total++;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> total;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="List集合"><a href="#List集合" class="headerlink" title="List集合"></a>List集合</h2><p>是一个集合，需要new实现类</p>
<p>特点：实现该接口的类中的元素**有顺序，可以重复</p>
<p>List容器中的元素都有一个对应的整数型的序号，用以记录元素在容器中的位置，可以根据序号取元素。**</p>
<p>主要实现类：ArrayList，LinkedList</p>
<p>列表：按照一定次序（对象进入的顺序）排列的·对象集，对象之间有次序关系，对象可以重复</p>
<p>Object get(int index);</p>
<p>Object set(int index, Object element);</p>
<p>void add(int index,Object element);</p>
<p>Object remove(int index);</p>
<p>int indexOf (Object o);</p>
<p>int lastIndexOf(Object o);</p>
<p><strong>常用方法的使用</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Hello;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Hello</span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span></span><br><span class="line">	&#123;</span><br><span class="line">List books=<span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">books.add(<span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;轻量级javaee企业应用实战&quot;</span>));</span><br><span class="line">books.add(<span class="keyword">new</span> <span class="title class_">String</span> (<span class="string">&quot;疯狂java讲义&quot;</span>));</span><br><span class="line">books.add(<span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;疯狂狂andriod讲义&quot;</span>));</span><br><span class="line">System.out.println(books);</span><br><span class="line">books.add(<span class="number">1</span>,<span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;java讲义&quot;</span>));<span class="comment">//将新字符串对象插入在第二个位置</span></span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;books.size();i++)</span><br><span class="line">&#123;</span><br><span class="line">System.out.println(books.get(i));	</span><br><span class="line">&#125;</span><br><span class="line">books.remove(<span class="number">2</span>);<span class="comment">//删除第三个元素</span></span><br><span class="line">System.out.println(books);</span><br><span class="line">System.out.println(books.indexOf(<span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;java讲义&quot;</span>)));<span class="comment">//判断指定元素在List集合中的位置，输出1，表明位于第二位</span></span><br><span class="line">books.set(<span class="number">1</span>,<span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;疯狂java讲义&quot;</span>));<span class="comment">//将第二个元素替换成新的字符串对象</span></span><br><span class="line">System.out.println(books);</span><br><span class="line">System.out.println(books.subList(<span class="number">1</span>,<span class="number">2</span>));<span class="comment">//将集合的第二个元素截取成子集合,就是第二个参数减一是结束下标</span></span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>

<p>}</p>
<p>addAll方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span> &#123;</span><br><span class="line"></span><br><span class="line">ArrayList&lt;String&gt; a=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;String&gt;();</span><br><span class="line">ArrayList&lt;String&gt; b=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;String&gt;();</span><br><span class="line">a.add(<span class="string">&quot;a&quot;</span>);</span><br><span class="line">a.add(<span class="string">&quot;b&quot;</span>);</span><br><span class="line">a.add(<span class="string">&quot;c&quot;</span>);</span><br><span class="line">b.add(<span class="string">&quot;a&quot;</span>);</span><br><span class="line">b.add(<span class="string">&quot;b&quot;</span>);</span><br><span class="line">b.add(<span class="string">&quot;c&quot;</span>);</span><br><span class="line">a.addAll(b);</span><br><span class="line">System.out.println(a);</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">结果：[a, b, c, a, b, c]</span><br></pre></td></tr></table></figure>

<p><strong>LIST集合是通过equals方法判断两个对象是否一样的</strong></p>
<p>A类重写了equals方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Hello;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">equals</span><span class="params">(Object obj)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Hello</span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span></span><br><span class="line">	&#123;</span><br><span class="line">List books=<span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">books.add(<span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;轻量级javaee企业应用实战&quot;</span>));</span><br><span class="line">books.add(<span class="keyword">new</span> <span class="title class_">String</span> (<span class="string">&quot;疯狂java讲义&quot;</span>));</span><br><span class="line">books.add(<span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;疯狂狂andriod讲义&quot;</span>));</span><br><span class="line">books.remove(<span class="keyword">new</span> <span class="title class_">A</span>());<span class="comment">//会删除第一个元素，因为它和任意元素都可以相等</span></span><br><span class="line">books.remove(<span class="keyword">new</span> <span class="title class_">A</span>());<span class="comment">//再次删除第一个元素</span></span><br><span class="line">System.out.println(books);</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>List两个新增方法sort和replacell()方法</strong></p>
<p>sort需要一个Comparator对象来控制元素排序，程序可使用Lambda表达式作为参数</p>
<p>sort方法必须传入构造器</p>
<p>replaceAll()方法需要一个UnaryOperator来替换所有的集合元素，UnaryOperator是一个函数式接口，也可以使用Lambda作为参数</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Hello;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">equals</span><span class="params">(Object obj)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Hello</span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span></span><br><span class="line">	&#123;</span><br><span class="line">List books=<span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">books.add(<span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;轻量级javaee企业应用实战&quot;</span>));</span><br><span class="line">books.add(<span class="keyword">new</span> <span class="title class_">String</span> (<span class="string">&quot;疯狂java讲义&quot;</span>));</span><br><span class="line">books.add(<span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;疯狂狂andriod讲义&quot;</span>));</span><br><span class="line">        <span class="comment">//使用目标类型为Comparator的Lambda表达式对List集合排序</span></span><br><span class="line">books.sort((o1,o2)-&gt;((String)o1).length()-((String)o2).length());</span><br><span class="line">System.out.println(books);</span><br><span class="line">        <span class="comment">//使用目标类型为UnaryOperator的Lambda表达式来替换集合中的所有元素</span></span><br><span class="line">        <span class="comment">//该Lambda表达式控制使用每个字符串的长度作为新的集合元素</span></span><br><span class="line">books.replaceAll(ele-&gt;((String)ele).length());</span><br><span class="line">System.out.println(books);</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Compare</span> <span class="keyword">implements</span> <span class="title class_">Comparator</span>&lt;Integer&gt;&#123;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Integer o1, Integer o2)</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> o2-o1;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span>&#123;</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span> &#123;</span><br><span class="line"></span><br><span class="line">ArrayList&lt;Integer&gt; a=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Integer&gt;();</span><br><span class="line">a.add(<span class="number">1</span>);</span><br><span class="line">a.add(<span class="number">4</span>);</span><br><span class="line">a.add(<span class="number">3</span>);</span><br><span class="line">Compare b=<span class="keyword">new</span> <span class="title class_">Compare</span>();</span><br><span class="line">a.sort(b);</span><br><span class="line">System.out.println(a);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">结果：[<span class="number">4</span>, <span class="number">3</span>, <span class="number">1</span>]</span><br></pre></td></tr></table></figure>



<p>Arrays.List方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Hello;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">equals</span><span class="params">(Object obj)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Hello</span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span></span><br><span class="line">	&#123;</span><br><span class="line">List books=Arrays.asList(<span class="string">&quot;轻量级javaee企业应用实战&quot;</span>,<span class="string">&quot;疯狂java讲义&quot;</span>,<span class="string">&quot;疯狂狂andriod讲义&quot;</span>);</span><br><span class="line">System.out.println(books.getClass());</span><br><span class="line">books.forEach(System.out::println);</span><br><span class="line"><span class="comment">//books.add(&quot;疯狂java讲义&quot;);</span></span><br><span class="line"><span class="comment">//books.add(&quot;疯狂java&quot;);</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>将集合转变为数组的方法</p>
<p>**</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span>** **<span class="keyword">static</span>** **<span class="keyword">void</span>** main(String[] args)&#123;</span><br><span class="line"></span><br><span class="line">​    *<span class="comment">// 创建一个动态数组*</span></span><br><span class="line">​    ArrayList&lt;String&gt; sites = **<span class="keyword">new</span>** ArrayList&lt;&gt;();</span><br><span class="line">​    </span><br><span class="line">​    sites.add(<span class="string">&quot;Runoob&quot;</span>);</span><br><span class="line">​    sites.add(<span class="string">&quot;Google&quot;</span>);</span><br><span class="line">​    sites.add(<span class="string">&quot;Wiki&quot;</span>);</span><br><span class="line">​    sites.add(<span class="string">&quot;Taobao&quot;</span>);</span><br><span class="line">​    System.out.println(<span class="string">&quot;网站列表: &quot;</span> + sites);</span><br><span class="line"></span><br><span class="line">​    *<span class="comment">// 创建一个新的 String 类型的数组*</span></span><br><span class="line">​    *<span class="comment">// 数组长度和 ArrayList 长度一样*</span></span><br><span class="line">​    String[] arr = **<span class="keyword">new</span>** String[sites.size()];</span><br><span class="line"></span><br><span class="line">​    *<span class="comment">// 将ArrayList对象转换成数组*</span></span><br><span class="line">​    sites.toArray(arr);</span><br><span class="line"></span><br><span class="line">​    *<span class="comment">// 输出所有数组的元素*</span></span><br><span class="line">​    System.out.print(<span class="string">&quot;Array: &quot;</span>);</span><br><span class="line">​    **<span class="keyword">for</span>**(String item:arr) &#123;</span><br><span class="line">​      System.out.print(item+<span class="string">&quot;, &quot;</span>);</span><br><span class="line">​    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>



<h3 id="子类ArrayList"><a href="#子类ArrayList" class="headerlink" title="子类ArrayList"></a>子类ArrayList</h3><p>ArrayList 类是一个可以动态修改的数组，与普通数组的区别就是它是没有固定大小的限制，我们可以添加或删除元素。</p>
<p>ArrayList 继承了 AbstractList ，并实现了 List 接口。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Collections;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Main</span>&#123;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span></span><br><span class="line">&#123;</span><br><span class="line">	ArrayList&lt;String&gt; sites=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;String&gt;();</span><br><span class="line">	sites.add(<span class="string">&quot;google&quot;</span>);<span class="comment">//向集合中添加</span></span><br><span class="line">	sites.add(<span class="string">&quot;runoob&quot;</span>);</span><br><span class="line">	sites.add(<span class="string">&quot;taobao&quot;</span>);</span><br><span class="line">	System.out.println(sites.get(<span class="number">1</span>));<span class="comment">//得到指定下标的元素</span></span><br><span class="line">	sites.set(<span class="number">2</span>, <span class="string">&quot;Wiki&quot;</span>);<span class="comment">//在指定下标处插入</span></span><br><span class="line">	sites.remove(<span class="number">3</span>);<span class="comment">//移除下标为3的元素</span></span><br><span class="line">	System.out.println(sites.size());</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;sites.size();i++)</span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(sites.get(i));</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span>(String i:sites)</span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(i);</span><br><span class="line">	&#125;</span><br><span class="line">	ArrayList&lt;Integer&gt; myNumbers=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Integer&gt;();</span><br><span class="line">	myNumbers.add(<span class="number">10</span>);</span><br><span class="line">	myNumbers.add(<span class="number">15</span>);</span><br><span class="line">	myNumbers.add(<span class="number">20</span>);</span><br><span class="line">	myNumbers.add(<span class="number">25</span>);</span><br><span class="line">    System.out.println(myNumbers.size());<span class="comment">//得到数组中元素的数量</span></span><br><span class="line">	Collections.sort(sites);<span class="comment">//排序</span></span><br><span class="line">	<span class="keyword">for</span>(String i:sites)</span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(i);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>一个ArrayList自己的排序方法</strong></p>
<p>sort方法中的参数是一个比较器，下面这个例子是按照字母顺序进行排序</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Main</span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span> &#123;</span><br><span class="line">		ArrayList&lt;String&gt; name=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;String&gt;();</span><br><span class="line">		name.add(<span class="string">&quot;a&quot;</span>);</span><br><span class="line">		name.add(<span class="string">&quot;c&quot;</span>);</span><br><span class="line">		name.add(<span class="string">&quot;b&quot;</span>);</span><br><span class="line">		name.sort(Comparator.naturalOrder());</span><br><span class="line">		System.out.println(name);</span><br><span class="line">		</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ArrayList转数组</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span> &#123;</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	ArrayList&lt;String&gt; list=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;String&gt;();</span><br><span class="line">	list.add(<span class="string">&quot;a&quot;</span>);</span><br><span class="line">	list.add(<span class="string">&quot;b&quot;</span>);</span><br><span class="line">	list.add(<span class="string">&quot;c&quot;</span>);</span><br><span class="line">	list.add(<span class="string">&quot;d&quot;</span>);</span><br><span class="line">	list.add(<span class="string">&quot;e&quot;</span>);</span><br><span class="line">	list.add(<span class="string">&quot;f&quot;</span>);</span><br><span class="line">	list.add(<span class="string">&quot;g&quot;</span>);</span><br><span class="line">	String[] array =<span class="keyword">new</span> <span class="title class_">String</span>[list.size()];</span><br><span class="line">	list.toArray(array);</span><br><span class="line">	<span class="keyword">for</span>(String x:list) &#123;</span><br><span class="line">		System.out.println(x);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="Vector"><a href="#Vector" class="headerlink" title="Vector"></a>Vector</h3><p>List接口的实现类。</p>
<p>特点：跟ArrayList一样，都是可变长的对象数组。</p>
<p>与ArrayList区别</p>
<p>①Vector是线程安全的，是可以同步的，运行效率低；</p>
<p>②ArrayList不同步，适合于单线程环境中。</p>
<p>public Object elementAt(int index)</p>
<p>public void addElement(Object obj)</p>
<p>public void removeElementAt(int index)</p>
<p>public void insertElementAt(E obj, int index)</p>
<p>public boolean removeElement(Object obj)</p>
<p>public void removeAllElements()</p>
<h4 id="Stack-栈"><a href="#Stack-栈" class="headerlink" title="Stack(栈)"></a>Stack(栈)</h4><p>extends Vector</p>
<p>后进先出，就是一个底下有底的箱子，只能从上面拿所以是后进先出</p>
<p>常用方法</p>
<p>– <strong>public Object push(E item)</strong></p>
<p>– <strong>public Object pop()</strong></p>
<p>– <strong>public Object peek()</strong></p>
<p>– <strong>public</strong> <strong>boolean</strong> <strong>empty()</strong></p>
<p>– <strong>public int search(Object o)</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span> &#123;</span><br><span class="line">	Stack s=<span class="keyword">new</span> <span class="title class_">Stack</span>();</span><br><span class="line">	s.push(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">	s.push(<span class="keyword">new</span> <span class="title class_">Date</span>());<span class="comment">//往箱子里面放东西</span></span><br><span class="line">	s.push(<span class="number">100</span>);</span><br><span class="line">	s.push(<span class="number">3.14</span>);</span><br><span class="line">	System.out.println(<span class="string">&quot;弹栈前size=&quot;</span>+s.size());</span><br><span class="line">	System.out.println(s.pop());<span class="comment">//弹出箱子中最顶上的元素</span></span><br><span class="line">	System.out.println(<span class="string">&quot;弹栈后size=&quot;</span>+s.size());</span><br><span class="line">	System.out.println(s.peek());<span class="comment">//获得箱子中最顶上的元素，但是不弹出</span></span><br><span class="line">	System.out.println(<span class="string">&quot;peek操作后&quot;</span>+s.size());</span><br><span class="line">	<span class="keyword">while</span>(!s.isEmpty()) &#123;<span class="comment">//判断箱子中是否是空</span></span><br><span class="line">		System.out.println(s.pop());</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>

<p><strong>把Stack当作普通List用</strong></p>
<p>失去了Stack所特有的性质</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"></span><br><span class="line">Stack&lt;String&gt; s = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;String&gt;();</span><br><span class="line"></span><br><span class="line">s.add(<span class="string">&quot;one&quot;</span>);</span><br><span class="line"></span><br><span class="line">s.add(<span class="string">&quot;two&quot;</span>);</span><br><span class="line"></span><br><span class="line">s.add(<span class="string">&quot;three&quot;</span>);</span><br><span class="line"></span><br><span class="line">s.add(<span class="number">2</span>, <span class="string">&quot;four&quot;</span>);</span><br><span class="line"></span><br><span class="line">s.add(<span class="number">0</span>,<span class="string">&quot;five&quot;</span>);</span><br><span class="line"></span><br><span class="line">System.*out*.println(s);</span><br><span class="line"></span><br><span class="line">s.remove(<span class="string">&quot;two&quot;</span>);</span><br><span class="line"></span><br><span class="line">System.*out*.println(s);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="Queue集合"><a href="#Queue集合" class="headerlink" title="Queue集合"></a>Queue集合</h2><p>队列：一种先进先出（FIFO）的容器，从容器的一端放入对象，从另一端取出对象，并且放入和取出的顺序相同</p>
<p>常用方法</p>
<p>–offer()：（入队）如果可能，将指定的元素插入此队列。</p>
<p>–peek()，element()：在不移除的情况下返回队头。peek方法在队列为空时返回null，element方法在队列为空时抛出异常。</p>
<p>–poll()，remove()：移除并返回队头（出队）。poll方法在队列为空时返回null，remove方法在队头为空时抛出异常。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Queue queue=<span class="keyword">new</span> <span class="title class_">LinkedList</span>();</span><br><span class="line">queue.offer(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">queue.offer(<span class="string">&quot;world&quot;</span>);</span><br><span class="line">queue.offer(<span class="string">&quot;你好&quot;</span>);</span><br><span class="line">System.out.println(queue.size());</span><br><span class="line">String str;</span><br><span class="line">System.out.println(queue.peek());<span class="comment">//返回当前队头的元素</span></span><br><span class="line"><span class="keyword">while</span>((str=(String)queue.poll())!=<span class="literal">null</span>) &#123;<span class="comment">//移除并返回当前队头的元素</span></span><br><span class="line">	System.out.println(str);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="PriorityQueue实现类"><a href="#PriorityQueue实现类" class="headerlink" title="PriorityQueue实现类"></a>PriorityQueue实现类</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Hello;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.PriorityQueue;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">equals</span><span class="params">(Object obj)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Hello</span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span></span><br><span class="line">	&#123;</span><br><span class="line">PriorityQueue pq=<span class="keyword">new</span> <span class="title class_">PriorityQueue</span>();</span><br><span class="line">pq.offer(<span class="number">6</span>);</span><br><span class="line">pq.offer(-<span class="number">3</span>);</span><br><span class="line">pq.offer(<span class="number">20</span>);</span><br><span class="line">pq.offer(<span class="number">18</span>);</span><br><span class="line">System.out.println(pq);</span><br><span class="line">System.out.println(pq.poll());</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Deque接口与ArrayDeque实现类"><a href="#Deque接口与ArrayDeque实现类" class="headerlink" title="Deque接口与ArrayDeque实现类"></a>Deque接口与ArrayDeque实现类</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Hello;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayDeque;</span><br><span class="line"><span class="keyword">import</span> java.util.PriorityQueue;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">equals</span><span class="params">(Object obj)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Hello</span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span></span><br><span class="line">	&#123;</span><br><span class="line">ArrayDeque stack=<span class="keyword">new</span> <span class="title class_">ArrayDeque</span>();</span><br><span class="line">stack.push(<span class="string">&quot;疯狂java讲义&quot;</span>);</span><br><span class="line">stack.push(<span class="string">&quot;轻量级java ee企业应用实战&quot;</span>);</span><br><span class="line">System.out.println(stack.peek());</span><br><span class="line">System.out.println(stack.pop());</span><br><span class="line">System.out.println(stack);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="LinkedList实现类"><a href="#LinkedList实现类" class="headerlink" title="LinkedList实现类"></a>LinkedList实现类</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Hello;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayDeque;</span><br><span class="line"><span class="keyword">import</span> java.util.LinkedList;</span><br><span class="line"><span class="keyword">import</span> java.util.PriorityQueue;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">equals</span><span class="params">(Object obj)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Hello</span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span></span><br><span class="line">	&#123;</span><br><span class="line">LinkedList books=<span class="keyword">new</span> <span class="title class_">LinkedList</span>();</span><br><span class="line">books.offer(<span class="string">&quot;疯狂java讲义&quot;</span>);</span><br><span class="line">books.push(<span class="string">&quot;轻量级java ee企业级应用实战&quot;</span>);</span><br><span class="line">books.offerFirst(<span class="string">&quot;疯狂andriod讲义&quot;</span>);</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;books.size();i++)</span><br><span class="line">&#123;</span><br><span class="line">System.out.println(<span class="string">&quot;遍历中&quot;</span>+books.get(i));</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">System.out.println(books.peekFirst());</span><br><span class="line">System.out.println(books.peekLast());</span><br><span class="line">System.out.println(books.pop());</span><br><span class="line">System.out.println(books);</span><br><span class="line">System.out.println(books.pollLast());</span><br><span class="line">System.out.println(books);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Set"><a href="#Set" class="headerlink" title="Set"></a>Set</h2><p>对象唯一，不会重复，元素没有顺序</p>
<h3 id="HashSet"><a href="#HashSet" class="headerlink" title="HashSet"></a>HashSet</h3><p>元素值可以使null</p>
<p>HashSet判断两个元素相等的标准是两个对象通过equals方法比较相等，并且两个对象的hashCode方法返回值也相等（重写两个方法的时候最好两者统一）</p>
<p>先判断hashCode是否相等，如果hashCode相等再去判断equals方法是否为true</p>
<p>只有用到Hashtable HashMap HashSet LinkedHashMap等时才要注意hashcode方法。</p>
<h4 id="equals方法重写的方法"><a href="#equals方法重写的方法" class="headerlink" title="equals方法重写的方法"></a>equals方法重写的方法</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">equals</span><span class="params">(Object obj)</span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">this</span> == obj)</span><br><span class="line"></span><br><span class="line"> <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (obj == <span class="literal">null</span>)<span class="comment">//先看看参数是不是空</span></span><br><span class="line"></span><br><span class="line"> <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (getClass() != obj.getClass())<span class="comment">//再看看参数是否是同一个类，getClass()是指获取这个类创建实例的类型，也就是获取当前类这个类型</span></span><br><span class="line"></span><br><span class="line"> <span class="keyword">return</span> <span class="literal">false</span>;<span class="comment">//getClass方法获得的不是引用变量的类型，而是真正的类型</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">final</span> <span class="type">Student</span> <span class="variable">other</span> <span class="operator">=</span> (Student) obj;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (no != other.no)</span><br><span class="line"></span><br><span class="line"> <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">return</span> <span class="string">&quot;no is : &quot;</span> + no;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>重写equals方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">equals</span><span class="params">(Object obj)</span> &#123;</span><br><span class="line">		<span class="keyword">if</span>(obj==<span class="literal">null</span>) &#123;<span class="comment">//先判断是否为空</span></span><br><span class="line">			<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(obj <span class="keyword">instanceof</span> Company) &#123;<span class="comment">//判断能否向下转型</span></span><br><span class="line">			Company c=(Company)obj;</span><br><span class="line">			<span class="keyword">return</span> c.name.equals(name);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>



<h3 id="TreeSet"><a href="#TreeSet" class="headerlink" title="TreeSet"></a>TreeSet</h3><p>实现了对Set的排序</p>
<p><strong>自然排序</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span> &#123;</span><br><span class="line">TreeSet ts=<span class="keyword">new</span> <span class="title class_">TreeSet</span>();</span><br><span class="line">ts.add(<span class="string">&quot;YaoMing&quot;</span>);</span><br><span class="line">ts.add(<span class="string">&quot;Kobe&quot;</span>);</span><br><span class="line">ts.add(<span class="string">&quot;McGrand&quot;</span>);</span><br><span class="line">ts.add(<span class="string">&quot;Jordan&quot;</span>);</span><br><span class="line">System.out.println(ts);</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>结果：[Jordan, Kobe, McGrand, YaoMing]         按照字典排序</p>
<p><strong>定制排序</strong></p>
<p><a target="_blank" rel="noopener" href="http://docs.oracle.com/javase/8/docs/api/java/util/TreeSet.html">TreeSet</a>(<a target="_blank" rel="noopener" href="http://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html">Comparator</a>&lt;? super <a target="_blank" rel="noopener" href="http://docs.oracle.com/javase/8/docs/api/java/util/TreeSet.html">E</a>&gt; comparator)</p>
<p>可以自己写一个构造器当作参数</p>
<p><img src="C:\Users#赵梓皓&\AppData\Roaming\Typora\typora-user-images\image-20220627195256296.png" alt="image-20220627195256296"></p>
<h3 id="LinkedSet"><a href="#LinkedSet" class="headerlink" title="LinkedSet"></a>LinkedSet</h3><p>就是按照插入的顺序排列元素</p>
<h1 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h1><h2 id="java中的Hash表"><a href="#java中的Hash表" class="headerlink" title="java中的Hash表"></a>java中的Hash表</h2><h3 id="Hash表介绍"><a href="#Hash表介绍" class="headerlink" title="Hash表介绍"></a>Hash表介绍</h3><p> 哈希表：能够通过元素快速查获找到元素的存储位置，又称为散列表。</p>
<p> 哈希表基本原理：通过哈希函数或散列函数将元素的关键字和元素的存储位置关联起来。由哈希函数计算出来的值称为哈希码(Hash Code)或散列索引。</p>
<p> 哈希表的存储空间称为哈希表的容量(Capacity)。</p>
<h3 id="hash表分为三类"><a href="#hash表分为三类" class="headerlink" title="hash表分为三类"></a>hash表分为三类</h3><p> java语言提供了java.util.Hashtable, java.util.HashMap, java.util.WeakHashMap三个类来提供哈希存储支持。这三者的元素都是主要由关键字和值两部分组成。</p>
<p> Hashtable元素的关键字和值都不允许null。HashMap和WeakHashMap的关键字和值都允许null。</p>
<p> Hashtable支持线程同步， HashMap和WeakHashMap不支持线程同步。</p>
<p> WeakHashMap会自动按一定规则检查各个元素是否常用，不常用的元素会被去除，从而被系统回收。（WeakHashMap是HashMap的子类）</p>
<h3 id="k-y相等判断方式"><a href="#k-y相等判断方式" class="headerlink" title="k-y相等判断方式"></a>k-y相等判断方式</h3><p>判断两个value相等，两个对象通过equals方法比较返回true即可，判断两个key相等，那equals放回true    hashcode值也相等</p>
<h3 id="Map元素遍历"><a href="#Map元素遍历" class="headerlink" title="Map元素遍历"></a>Map元素遍历</h3><p>Set keySet( )获取所有Key的集合</p>
<p>Collection values( ) 获取所有Value的集合</p>
<p>Set entrySet( ) 获取所有key-value对的集合</p>
<p>再用相应的Iterator或者for循环遍历</p>
<p>例一</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">HashMap&lt;String ,Integer&gt; a=<span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;String,Integer&gt;();</span><br><span class="line">a.put(<span class="string">&quot;a&quot;</span>,<span class="number">1</span>);</span><br><span class="line">a.put(<span class="string">&quot;b&quot;</span>,<span class="number">2</span>);</span><br><span class="line">Set b=a.keySet();</span><br><span class="line">Iterator&lt;String&gt; i=b.iterator();</span><br><span class="line"><span class="keyword">while</span>(i.hasNext()) &#123;</span><br><span class="line">	String key=i.next();</span><br><span class="line">	Integer value=a.get(key);</span><br><span class="line">	System.out.println(key+<span class="string">&quot;-&quot;</span>+value+<span class="string">&quot; &quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">	public static void main(String []args) &#123;</span><br><span class="line"></span><br><span class="line">HashMap &lt;String,Integer&gt;a=new HashMap&lt;String,Integer&gt;();</span><br><span class="line">a.put(&quot;a&quot;,1);</span><br><span class="line">a.put(&quot;b&quot;,2);</span><br><span class="line">a.put(&quot;c&quot;,3);</span><br><span class="line">Collection b=a.values();</span><br><span class="line">System.out.println(b);</span><br><span class="line">结果：[1, 2, 3]</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>例二</p>
<p>entrySet方法介绍</p>
<p> Map的entrySet()方法返回一个实现Map.Entry接口的对象集合。集合中每个对象都是底层Map中一个特定的键&#x2F;值对。通过这个集合的迭代器，获得每一个条目(唯一获取方式)的键或值并对值进行更改。Map.Entry中的常用方法如下所示：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(<span class="number">1</span>) Object <span class="title function_">getKey</span><span class="params">()</span>: 返回条目的关键字</span><br><span class="line">　　(<span class="number">2</span>) Object <span class="title function_">getValue</span><span class="params">()</span>: 返回条目的值</span><br><span class="line">　　(<span class="number">3</span>) Object <span class="title function_">setValue</span><span class="params">(Object value)</span>: 将相关映像中的值改为value，并且返回旧值</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[]args)</span> &#123;</span><br><span class="line">	HashMap&lt;String ,Integer&gt; a=<span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;String,Integer&gt;();</span><br><span class="line">	a.put(<span class="string">&quot;a&quot;</span>,<span class="number">1</span>);</span><br><span class="line">	a.put(<span class="string">&quot;b&quot;</span>,<span class="number">2</span>);</span><br><span class="line">	Set b=a.entrySet();</span><br><span class="line">	<span class="keyword">for</span>(Object o:b) &#123;</span><br><span class="line">		Map.Entry e=(Map.Entry)o;</span><br><span class="line">		System.out.println(e.getKey()+<span class="string">&quot;-&quot;</span>+e.getValue()+<span class="string">&quot; &quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="按照key或者value对map排序的方法"><a href="#按照key或者value对map排序的方法" class="headerlink" title="按照key或者value对map排序的方法"></a>按照key或者value对map排序的方法</h3><p>Map会根据key的大小来自动排序</p>
<p>因为LinekedHashMap是按照顺序添加的</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">compare1</span> <span class="keyword">implements</span> <span class="title class_">Comparator</span>&lt;Map.Entry&gt;&#123;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Map.Entry o1,Map.Entry o2)</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> (<span class="type">int</span>)(o2.getValue())-(<span class="type">int</span>)(o1.getValue());<span class="comment">//注意这个地方的()缺一不可</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Main</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span>&#123;</span><br><span class="line">    	Scanner in=<span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        String a=in.nextLine();</span><br><span class="line">        String b[]=a.split(<span class="string">&quot; &quot;</span>);</span><br><span class="line">        Hashtable&lt;String,Integer&gt; c=<span class="keyword">new</span> <span class="title class_">Hashtable</span>&lt;String,Integer&gt;();</span><br><span class="line">        <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span><span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;b.length;i++) &#123;</span><br><span class="line">        	<span class="keyword">if</span>(c.containsKey(b[i])) &#123;</span><br><span class="line">        		c.put(b[i],c.get(b[i])+<span class="number">1</span>);</span><br><span class="line">        	&#125;</span><br><span class="line">        	<span class="keyword">else</span></span><br><span class="line">        	&#123;</span><br><span class="line">        		c.put(b[i],<span class="number">1</span>);</span><br><span class="line">        	&#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line"></span><br><span class="line">        List list=<span class="keyword">new</span> <span class="title class_">LinkedList</span>(c.entrySet());</span><br><span class="line">        compare1 q=<span class="keyword">new</span> <span class="title class_">compare1</span>();</span><br><span class="line">        Collections.sort(list,q);</span><br><span class="line">        Map sortedMap=<span class="keyword">new</span> <span class="title class_">LinkedHashMap</span>();<span class="comment">//这个地方必须使用LinkedHashMap</span></span><br><span class="line">        <span class="keyword">for</span>(Iterator it=list.iterator();it.hasNext();) &#123;</span><br><span class="line">        Map.Entry entry=(Map.Entry)it.next();<span class="comment">//这里的迭代器如果加泛型&lt;Iterator&gt;,就不用强制转换了</span></span><br><span class="line">         sortedMap.put(entry.getKey(), entry.getValue());</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">        Set h=sortedMap.keySet();</span><br><span class="line">        Iterator&lt;String&gt; r=h.iterator();</span><br><span class="line">        <span class="keyword">while</span>(r.hasNext()) &#123;</span><br><span class="line">        	String i=r.next();</span><br><span class="line">        	System.out.println(i+<span class="string">&quot;:&quot;</span>+ sortedMap.get(i));</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>用函数法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">import</span> java.util.Map.Entry;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Compare</span> <span class="keyword">implements</span> <span class="title class_">Comparator</span>&lt;Map.Entry&gt;&#123;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Map.Entry o1,Map.Entry o2)</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> (<span class="type">int</span>)(o2.getValue())-(<span class="type">int</span>)(o1.getValue());</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Main</span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> Map <span class="title function_">getMap</span><span class="params">(Map unsortedMap)</span> &#123;</span><br><span class="line">		List a=<span class="keyword">new</span> <span class="title class_">ArrayList</span>(unsortedMap.entrySet());</span><br><span class="line">		Compare b=<span class="keyword">new</span> <span class="title class_">Compare</span>();</span><br><span class="line"> 		Collections.sort(a,b);</span><br><span class="line">		Map sortedMap=<span class="keyword">new</span> <span class="title class_">LinkedHashMap</span>();<span class="comment">//这里必须是LinkedHashMap</span></span><br><span class="line">         <span class="keyword">for</span>(Iterator it=a.iterator();it.hasNext();) &#123;</span><br><span class="line">        	 Map.Entry entry=(Map.Entry)it.next();</span><br><span class="line">        	 sortedMap.put(entry.getKey(), entry.getValue());</span><br><span class="line">         &#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">return</span> sortedMap;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span> &#123;</span><br><span class="line">		Scanner in=<span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">	    String a=in.nextLine();</span><br><span class="line">	    String b[]=a.split(<span class="string">&quot; &quot;</span>);</span><br><span class="line">	    Hashtable&lt;String,Integer&gt; c=<span class="keyword">new</span> <span class="title class_">Hashtable</span>&lt;String,Integer&gt;();</span><br><span class="line">	    <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span><span class="number">0</span>;</span><br><span class="line">	    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;b.length;i++) &#123;</span><br><span class="line">	    	<span class="keyword">if</span>(c.containsKey(b[i])) &#123;</span><br><span class="line">	    		c.put(b[i],c.get(b[i])+<span class="number">1</span>);</span><br><span class="line">	    	&#125;</span><br><span class="line">	    	<span class="keyword">else</span></span><br><span class="line">	    	&#123;</span><br><span class="line">	    		c.put(b[i],<span class="number">1</span>);</span><br><span class="line">	    	&#125;</span><br><span class="line">	    &#125;</span><br><span class="line">	    Map n=getMap(c);</span><br><span class="line">	    Set i=n.keySet();</span><br><span class="line">	    Iterator&lt;String&gt; e=i.iterator();</span><br><span class="line">	    <span class="keyword">while</span>(e.hasNext()) &#123;</span><br><span class="line">	    	String t=e.next();</span><br><span class="line">	    System.out.println(t+<span class="string">&quot;:&quot;</span>+n.get(t));</span><br><span class="line">	    		</span><br><span class="line">	    &#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">就是java是向下兼容的，如果函数返回类型是Map其实是返回的只要是Map的子类的实例化对象都可以</span><br><span class="line">    如果函数的参数类型是Map类型，其实这个参数只要是Map子类的实例化对象都可以</span><br><span class="line"></span><br><span class="line">        </span><br></pre></td></tr></table></figure>

<p>​    </p>
<h2 id="Hashtable集合"><a href="#Hashtable集合" class="headerlink" title="Hashtable集合"></a>Hashtable集合</h2><p>不能保证顺序</p>
<p><strong>Hashtable的构造方法</strong></p>
<table>
<thead>
<tr>
<th><strong>名称</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>public</strong> <strong>Hashtable</strong><strong>( )</strong></td>
<td><strong>创建哈希表实例对象，容量为<strong><strong>11</strong></strong>，装填因子为<strong><strong>0.75</strong></strong>。</strong></td>
</tr>
<tr>
<td><strong>public</strong> <strong>Hashtable</strong><strong>( int</strong> <strong>initialCapacity</strong><strong>)</strong></td>
<td><strong>创建哈希表实例对象，容量为<strong><strong>initialCapacity</strong></strong>，装填因子为<strong><strong>0.75</strong></strong>。</strong></td>
</tr>
<tr>
<td><strong>public Hashtable( int  initialCapacity, float loadFactor)</strong></td>
<td><strong>创建哈希表实例对象，容量为<strong><strong>initialCapacity</strong></strong>，装填因子为<strong><strong>loadFactor</strong></strong>。</strong></td>
</tr>
</tbody></table>
<p>Hashtable ht1&#x3D;new Hashtable&lt;String, Integer&gt; ( );</p>
<p>Hashtable ht2&#x3D;new Hashtable( );&#x2F;&#x2F;未指定关键字和键值类型，编译会警告</p>
<p><strong>java.util.Hashtable的成员方法</strong></p>
<table>
<thead>
<tr>
<th><strong>名称</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>public V put(K key, V value )</strong></td>
<td><strong>添加关键字为****key,</strong> <strong>值为<strong><strong>value</strong></strong>的元素</strong></td>
</tr>
<tr>
<td><strong>public V get(Object key)</strong></td>
<td><strong>获得由参数<strong><strong>key</strong></strong>指定的关键字所对应的元素值</strong></td>
</tr>
<tr>
<td><strong>public void Clear( )</strong></td>
<td><strong>清空整个<strong><strong>Hash</strong></strong>表</strong></td>
</tr>
<tr>
<td><strong>public</strong> <strong>boolean</strong> <strong>containsKey</strong><strong>(Object key)</strong></td>
<td><strong>判断表中是否存在关键字****key</strong></td>
</tr>
<tr>
<td><strong>public</strong> <strong>boolean</strong> <strong>containsValue</strong><strong>(Object value)</strong></td>
<td><strong>判断表中是否存在元素值****value</strong></td>
</tr>
<tr>
<td><strong>public boolean</strong> <strong>contains</strong><strong>(Object value)</strong></td>
<td><strong>判断表中是否存在元素值****value</strong></td>
</tr>
<tr>
<td><strong>public boolean isEmpty( )</strong></td>
<td><strong>判断<strong><strong>Hash</strong></strong>表是否为空</strong></td>
</tr>
<tr>
<td><strong>public V remove(Object key)</strong></td>
<td><strong>删除指定关键字<strong><strong>key</strong></strong>所对应的元素</strong></td>
</tr>
<tr>
<td><strong>public int size( )</strong></td>
<td><strong>返回<strong><strong>Hash</strong></strong>表元素的个数</strong></td>
</tr>
</tbody></table>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">例子	</span><br><span class="line">String []sa= &#123;<span class="string">&quot;Mary&quot;</span>,<span class="string">&quot;Tom&quot;</span>,<span class="string">&quot;John&quot;</span>,<span class="string">&quot;James&quot;</span>,<span class="string">&quot;Louis&quot;</span>,<span class="string">&quot;Jim&quot;</span>,<span class="string">&quot;Rose&quot;</span>,<span class="string">&quot;Ann&quot;</span>,<span class="string">&quot;Liza&quot;</span>,<span class="string">&quot;Betty&quot;</span>,<span class="string">&quot;Henry&quot;</span>&#125;;</span><br><span class="line">	Hashtable &lt;String ,Integer&gt; ht=<span class="keyword">new</span> <span class="title class_">Hashtable</span>&lt;String ,Integer&gt;();</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;sa.length;i++)</span><br><span class="line">	&#123;</span><br><span class="line">		ht.put(sa[i],<span class="keyword">new</span> <span class="title class_">Integer</span>(i) );<span class="comment">//将这个key和value放入hash表中</span></span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	String s=sa[<span class="number">5</span>];</span><br><span class="line">	System.out.println(ht.get(s));<span class="comment">//获得key为参数所对应的value值</span></span><br><span class="line">	System.out.println(ht.containsKey(sa[<span class="number">5</span>]));</span><br><span class="line">	System.out.println(ht.containsValue(<span class="number">1</span>));</span><br><span class="line">	System.out.println(ht.contains(<span class="number">1</span>));</span><br><span class="line">	System.out.println(ht.isEmpty());</span><br><span class="line">	System.out.println(ht.size());</span><br><span class="line">	ht.remove(sa[<span class="number">5</span>]);</span><br><span class="line">	System.out.println(ht.size());</span><br></pre></td></tr></table></figure>

<p><strong>还有一个方法</strong>就是keySet() ，可以得到集合的key的一个集合**<br>        Set s &#x3D; ht.keySet();**</p>
<h3 id="Properties集合"><a href="#Properties集合" class="headerlink" title="Properties集合"></a>Properties集合</h3><p><strong>Properties是用来读取配置文件的（结尾为.properties的文件）</strong></p>
<ul>
<li><p><code>Properties</code>类表示一组持久的属性。  <code>Properties</code>可以保存到流中或从流中加载。 </p>
</li>
<li><p>extends Hashtable&lt;k,v&gt;   implements Map&lt;k,v&gt;</p>
</li>
<li><p>Properties集合是一个唯一和IO相结合的集合</p>
<p>第一条的解释</p>
</li>
<li><p>可以使用Properties集合中的方法store，把集合中的临时数据，持久化写入到硬盘中存储</p>
</li>
<li><p>可以使用Properties集合中的load，把硬盘保存的文件（键值对），读取到集合中使用</p>
</li>
<li><p>属性列表中的每个键及其对应的值都是一个字符串。</p>
</li>
<li><p>解释：</p>
</li>
<li><p>​           Properties集合是一个双列集合，key和value默认都是字符串</p>
</li>
</ul>
<p>Properties集合存储数据，遍历取出Properties集合中的数据</p>
<p>Properties结合是一个双列集合，key和value默认都是字符串</p>
<p>Properties集合有一些操作字符串的特有方法 </p>
<p>​             Object setProperty(String key,String value)其实就是调用Hashtable的方法put</p>
<p>​             String  getProperty(String key) 通过key找到value值，相当于Map集合中的get方法</p>
<p>​              Set<String> stringPropertyNames()   返回此属性列表中的一组键，其中键及其对应的值为字符串，包括默认属性列表中的不同键，如果尚未从主属性列表中找到相同名称的键。相当于Map集合中的keySet方法</p>
<p><strong>几个方法的基本使用</strong></p>
<pre><code>//创建Properties集合对象
Properties prop=new Properties();
prop.setProperty(&quot;a&quot;, &quot;1&quot;);
prop.setProperty(&quot;b&quot;,&quot;2&quot;);
prop.setProperty(&quot;c&quot;,&quot;3&quot;);
//使用stringPropertyNames把Properties集合中的键取出，存储到一个Set集合中
Set&lt;String&gt; set=prop.stringPropertyNames();
for(String key:set) &#123;
    String value=prop.getProperty(key);
    System.out.println(key+&quot;-&quot;+value);
</code></pre>
<p><strong>Properties集合中的store方法</strong></p>
<p>void store(OutputStream out,String comments)</p>
<p>void store(Writer writer,String comments)</p>
<p>参数： </p>
<p>​              OutputStream out：字节输出流，不能写入中文</p>
<p>​              Writer writer  ：字符输出流，可以写中文</p>
<p>​              String comments：注释，解释说明保存的文件是做什么用的</p>
<p>​                                 不能使用中文，会产生乱码，默认是Unicode编码，而系统默认编码是GBK</p>
<p>使用步骤：</p>
<p>​              1.创建Properties集合对象，添加数据</p>
<p>​              2.创建字节输出流&#x2F;字符输出流对象，构造方法中绑定要输出的目的地</p>
<p>​                3.使用Properties集合中的方法store，把集合中的临时数据，持久化写入到硬盘中存储</p>
<p>​               4.释放资源</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line"></span><br><span class="line">show01();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">show01</span><span class="params">()</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">	   <span class="comment">//1.创建Properties集合对象，添加数据</span></span><br><span class="line">	Properties prop=<span class="keyword">new</span> <span class="title class_">Properties</span>();</span><br><span class="line">	prop.setProperty(<span class="string">&quot;a&quot;</span>, <span class="string">&quot;1&quot;</span>);</span><br><span class="line">	prop.setProperty(<span class="string">&quot;b&quot;</span>,<span class="string">&quot;2&quot;</span>);</span><br><span class="line">	prop.setProperty(<span class="string">&quot;c&quot;</span>,<span class="string">&quot;3&quot;</span>);</span><br><span class="line">	<span class="comment">//.创建字节输出流/字符输出流对象，构造方法中绑定要输出的目的地</span></span><br><span class="line">FileWriter fw=<span class="keyword">new</span> <span class="title class_">FileWriter</span>(<span class="string">&quot;D:\\放乱七八糟\\File.txt&quot;</span>);</span><br><span class="line"><span class="comment">// 3.使用Properties集合中的方法store，把集合中的临时数据，持久化写入到硬盘中存储</span></span><br><span class="line">prop.store(fw,<span class="string">&quot;sava data&quot;</span>);</span><br><span class="line"><span class="comment">//关闭资源</span></span><br><span class="line">fw.close();</span><br><span class="line">&#125;</span><br><span class="line">文件写入结果：</span><br><span class="line">  #sava data</span><br><span class="line">#Fri Jul <span class="number">01</span> <span class="number">10</span>:<span class="number">34</span>:<span class="number">48</span> CST <span class="number">2022</span></span><br><span class="line">a=<span class="number">1</span></span><br><span class="line">b=<span class="number">2</span></span><br><span class="line">c=<span class="number">3</span></span><br><span class="line">上面的时间是自己加的</span><br></pre></td></tr></table></figure>

<p><strong>Properties集合的load方法</strong></p>
<p>可以使用Properties集合中的方法load，把硬盘中保存的文件（键值对），读取到集合中使用</p>
<p>void load(InputStream inStream)</p>
<p>void load(Reader reader)</p>
<p>参数：</p>
<p>​               InputStream inStream：不能读取含有中文的键值对</p>
<p>​               Reader reader：字符输入流，能读取含有中文的键值对</p>
<p>使用步骤：</p>
<p>​                 1.创建Properties集合对象</p>
<p>​                  2.使用Properites集合对象中的方法load读取到保存键值对的文件</p>
<p>​                   3.遍历Properties集合</p>
<p>注意：1.存储键值对的文件中，键与值默认的连接符号可以使用-，空格（其他符号）</p>
<p>​             2.存储键值对的文件中，可以使用井号进行注释，被注释的键值对不会再被读取</p>
<p>​              3.存键值对的文件中，键与值都默认是字符串，都不用再加引号</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">public void test2() throws Exception &#123;</span><br><span class="line">    Properties pros=new Properties();</span><br><span class="line">    FileInputStream fis=new FileInputStream(&quot;./jdbc.properties&quot;);</span><br><span class="line">    pros.load(fis);</span><br><span class="line">    String user=pros.getProperty(&quot;user&quot;);</span><br><span class="line">    String password=pros.getProperty(&quot;password&quot;);</span><br><span class="line">    System.out.println(&quot;user=&quot;+user+&quot;password=&quot;+password);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="HashMap集合"><a href="#HashMap集合" class="headerlink" title="HashMap集合"></a>HashMap集合</h2><p>不能保证顺序</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Hello;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">equals</span><span class="params">(Object obj)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Hello</span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span></span><br><span class="line">	&#123;</span><br><span class="line">Map map=<span class="keyword">new</span> <span class="title class_">HashMap</span>();</span><br><span class="line">map.put(<span class="string">&quot;疯狂Java&quot;</span>,<span class="number">109</span>);</span><br><span class="line">map.put(<span class="string">&quot;疯狂python&quot;</span>,<span class="number">10</span>);</span><br><span class="line">map.put(<span class="string">&quot;疯狂ios&quot;</span>,<span class="number">79</span>);</span><br><span class="line">map.put(<span class="string">&quot;疯狂php&quot;</span>,<span class="number">99</span>);</span><br><span class="line">System.out.println(map.put(<span class="string">&quot;疯狂python&quot;</span>,<span class="number">99</span>));</span><br><span class="line">System.out.println(map);</span><br><span class="line">System.out.println(map.containsKey(<span class="string">&quot;疯狂python&quot;</span>));</span><br><span class="line">System.out.println(map.containsValue(<span class="number">99</span>));</span><br><span class="line"><span class="keyword">for</span>(Object key:map.keySet())</span><br><span class="line">&#123;</span><br><span class="line">System.out.println(key+<span class="string">&quot;--&gt;&quot;</span>+map.get(key));</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">map.remove(<span class="string">&quot;疯狂python&quot;</span>);</span><br><span class="line">System.out.println(map);</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="LinkedHashMap实现类"><a href="#LinkedHashMap实现类" class="headerlink" title="LinkedHashMap实现类"></a>LinkedHashMap实现类</h3><p>是一种按照map的添加顺序存储的实现类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Hello;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.LinkedHashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">equals</span><span class="params">(Object obj)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Hello</span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span></span><br><span class="line">	&#123;</span><br><span class="line">LinkedHashMap scores=<span class="keyword">new</span> <span class="title class_">LinkedHashMap</span>();</span><br><span class="line">scores.put(<span class="string">&quot;语文&quot;</span>,<span class="number">80</span>);</span><br><span class="line">scores.put(<span class="string">&quot;英语&quot;</span>,<span class="number">82</span>);</span><br><span class="line">scores.put(<span class="string">&quot;数学&quot;</span>,<span class="number">76</span>);</span><br><span class="line">scores.forEach((key,value)-&gt;System.out.println(key+<span class="string">&quot;--&gt;&quot;</span>+value));</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="实用类"><a href="#实用类" class="headerlink" title="实用类"></a>实用类</h1><h2 id="Collections类"><a href="#Collections类" class="headerlink" title="Collections类"></a>Collections类</h2><p>提供了List容器操作的静态方法</p>
<p>void sort(List list);&#x2F;&#x2F;对List容器内元素排序，默认升序</p>
<p>void reverse(List list);&#x2F;&#x2F;对List容器内的对象进行逆序排列</p>
<p>void copy(List dest,List src);</p>
<p>&#x2F;&#x2F;把src中List容器内容拷贝到dest List容器</p>
<p>int binarySearch(List list, Object key);</p>
<p>&#x2F;&#x2F;对顺序的List容器，用折半查找方法查找指定对象，返回对应key元素的下标</p>
<p>void shuffle(List);&#x2F;&#x2F;对List容器内的对象进行随机排序</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[]args)</span> &#123;</span><br><span class="line">	List list1=<span class="keyword">new</span> <span class="title class_">LinkedList</span>();</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;=<span class="number">9</span>;i++) &#123;</span><br><span class="line">		list1.add(<span class="string">&quot;a&quot;</span>+i);</span><br><span class="line">	&#125;</span><br><span class="line">	System.out.println(list1);</span><br><span class="line">	Collections.reverse(list1);</span><br><span class="line">	System.out.println(list1);</span><br><span class="line">	Collections.shuffle(list1);</span><br><span class="line">	System.out.println(list1);</span><br><span class="line">	Collections.sort(list1);</span><br><span class="line">	System.out.println(Collections.binarySearch(list1,<span class="string">&quot;a2&quot;</span>));</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Collections-sort-方法"><a href="#Collections-sort-方法" class="headerlink" title="Collections.sort()方法"></a>Collections.sort()方法</h3><p>public static <T> void sort(List<T> list, Comparator&lt;? super T&gt; c)</p>
<p>List(接口)就是指List类型,那么也就是说只能对集合的具体类的Arraylist和LinkedList这两种类型进行排序,由于接口也能向上转型,光论排序的内容的话其它各种自建类型都行。</p>
<p>第一种方法</p>
<p>在日常开发中，很多时候都需要对一些数据进行排序的操作。然而那些数据一般都是放在一个集合中如：Map ，Set ，List 等集合中。他们都提共了一个排序方法 sort()，要对数据排序直接使用这个方法就行，但是要保证集合中的对象是 可比较的。</p>
<p>怎么让一个对象是 可比较的，那就需要该对象实现 Comparable<T> 接口啦。然后重写里面的<br>compareTo()方法</p>
<ul>
<li>&#96;&#96;&#96;<br>public interface Comparable<T><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">当实现Comparable类的时候也是不规定泛型就是Object，且下面的compareTo方法中的参数类型要和他一样</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">```java</span><br><span class="line">public class Student implements Comparable&lt;Student&gt; &#123;</span><br><span class="line">    private int id;</span><br><span class="line">    private int age;</span><br><span class="line">    private String name;</span><br><span class="line"></span><br><span class="line">    public Student(int id, int age, String name) &#123;</span><br><span class="line">        this.id = id;</span><br><span class="line">        this.age = age;</span><br><span class="line">        this.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    @Override</span><br><span class="line">    public int compareTo(Student o) &#123;</span><br><span class="line">        //降序</span><br><span class="line">        //return o.age - this.age;</span><br><span class="line">        //升序</span><br><span class="line">        return this.age - o.age;        </span><br><span class="line">    &#125;</span><br><span class="line">    @Override</span><br><span class="line">    public String toString() &#123;</span><br><span class="line">        return &quot;Student&#123;&quot; +</span><br><span class="line">                &quot;id=&quot; + id +</span><br><span class="line">                &quot;, age=&quot; + age +</span><br><span class="line">                &quot;, name=&#x27;&quot; + name + &#x27;\&#x27;&#x27; +</span><br><span class="line">                &#x27;&#125;&#x27;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<p>调用compareTo方法后负数时，当前对象在前面，正数时当前对象在后面，0时位置不变</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compareTo</span><span class="params">(Student o1)</span> &#123;</span><br><span class="line">	<span class="keyword">if</span>(o1.getScore()==<span class="built_in">this</span>.getScore()) &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="built_in">this</span>.id.compareTo(o1.id);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> o1.getScore()-<span class="built_in">this</span>.getScore();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>先按照成绩降序排序，成绩相同按照学号升序排序</p>
<p>第二种方法</p>
<ul>
<li>&#96;&#96;&#96;<br>public interface Comparator<T><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">实现Comparator接口的时候，如果没有规定泛型默认是Object，同时T必须和下面compare方法中的参数类型一样</span><br><span class="line"></span><br><span class="line">自己搞一个构造器，重写compare方法当作Collections.sort(第二个参数)</span><br><span class="line"></span><br><span class="line">```java</span><br><span class="line">class compare implements Comparator&lt;Integer&gt;&#123;</span><br><span class="line"></span><br><span class="line">	@Override</span><br><span class="line">	public int compare(Integer o1, Integer o2) &#123;</span><br><span class="line">                   return o1-o2;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<p>第三种直接倒叙的方法</p>
<p>Collection.sort的第二个参数</p>
<p>如果要降序呢?可以传入Collections.reverseOrder(), 返回一个倒叙的Comparator对象,</p>
<h2 id="Arrays类"><a href="#Arrays类" class="headerlink" title="Arrays类"></a>Arrays类</h2><p>定义了多种数组操作的方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Integer[]a= &#123;<span class="number">3</span>,<span class="number">25</span>,<span class="number">12</span>,<span class="number">79</span>,<span class="number">48</span>&#125;;</span><br><span class="line">	System.out.println(Arrays.toString(a));<span class="comment">//输出数组</span></span><br><span class="line">	Arrays.sort(a);<span class="comment">//对数组中元素进行排序</span></span><br><span class="line">	System.out.println(Arrays.toString(a));<span class="comment">//输出数组以[3,25,12,79,48]</span></span><br><span class="line">	<span class="type">int</span> idx=Arrays.binarySearch(a,<span class="number">25</span>);<span class="comment">//返回25元素所对应的下标</span></span><br><span class="line">	System.out.println(idx);</span><br><span class="line">	List list=Arrays.asList(<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>);<span class="comment">//将其转换为List集合</span></span><br><span class="line">返回值是一个List</span><br><span class="line"><span class="comment">//public static &lt;T&gt; List&lt;T&gt; asList(T... a) </span></span><br><span class="line">	System.out.println(list);</span><br></pre></td></tr></table></figure>

<p>其实Arrays.toString的本质是调用数组中所有对象的toString方法然后用逗号隔开然后用[   ]框起来</p>
<h1 id="java异常机制的处理"><a href="#java异常机制的处理" class="headerlink" title="java异常机制的处理"></a>java异常机制的处理</h1><h3 id="异常"><a href="#异常" class="headerlink" title="异常"></a>异常</h3><p>：指程序中出现的不期而至的各种状况，如文件找不到，网络连接失败，非法参数等等；</p>
<p>java把异常当作对象来处理，并定义一个基类java.lang.Throwable作为所有异常的超类</p>
<p>在javaAPI中已经定一个许多异常类，这些异常分为两类，错误Error和异常Exception</p>
<p><img src="C:\Users#赵梓皓&\AppData\Roaming\Typora\typora-user-images\image-20220615163131796.png" alt="image-20220615163131796"></p>
<p>这个图中只是举了例子   </p>
<ol>
<li><strong>错误：</strong><br>一般指程序运行时遇到的硬件或操作系统的错误，如内存溢出、不能读取硬盘分区、 硬 件驱动错误等。这是致命的，将导致程序无法运行，<strong>同时也是程序本身不能处理 的。错误大都是jvm的问题</strong></li>
</ol>
<p><strong>2.异常：</strong></p>
<p><strong>异常大都是语法问题；</strong></p>
<p>运行异常和编译异常。</p>
<p>运行异常：顾名思义，是程序运行时才会出现的异常。运行异常是java.lang.RuntimeException类及其子类的统称。如NullPointerException（空指针异常）、IndexOutOfBoundsException（数组下标越界异常）等。运行异常一般是由程序逻辑错误导致的，可以通过捕获处理或向上抛出。运行异常的特点是Java编译器不会检查它，也就是说，当程序中可能出现运行异常，也会被编译通过。<br><strong>编译异常：顾名思义，是程序编译时就会出现的异常。编译异常是java.lang.RuntimeException以外的异常。编译异常必须进行处理，如果不处理，程序就不能编译通过。</strong></p>
<p><strong>异常可以分为两类：1.运行时异常 RuntimeException</strong></p>
<p><strong>2.其他的异常都属于非运行时异常</strong></p>
<p><img src="C:\Users#赵梓皓&\AppData\Roaming\Typora\typora-user-images\image-20220615163444672.png" alt="image-20220615163444672"></p>
<h3 id="异常处理机制"><a href="#异常处理机制" class="headerlink" title="异常处理机制"></a>异常处理机制</h3><p>例1</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">int a=1;</span><br><span class="line">   int b=0;</span><br><span class="line">   try &#123;//try监控区域</span><br><span class="line">   	System.out.println(a/b);</span><br></pre></td></tr></table></figure>

<pre><code>&#125;
catch(ArithmeticException e)//这个地方的错误必须是和try中出现的错误类型相同，否则没什么用
&#123;//catch 捕获异常
    System.out.println(&quot;程序出现异常，变量b不能为0&quot;);
&#125;
finally &#123;//处理善后工作，无论是否报错这个finally都是会执行的，无论怎样都会执行，报其他错也会执行
    System.out.println(&quot;finally&quot;);
    //finally可以不要finally，假设IO时读取文件关闭资源关闭时可以用
&#125;
</code></pre>
<p>例2</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">public static void main(String args[])&#123;</span><br><span class="line">   int a=1;</span><br><span class="line">   int b=0;</span><br><span class="line">   try &#123;//try监控区域</span><br><span class="line">   	new Main().a();//这是一个栈溢出的异常</span><br><span class="line">   	</span><br></pre></td></tr></table></figure>

<pre><code>&#125;
catch(Error e)//这个地方如果时Error和Throwable都可以，就是根据上面那个表格，cathch括号里错误类型的子类也可以被捕获
&#123;//catch 捕获异常
    System.out.println(&quot;程序出现异常，变量b不能为0&quot;);
&#125;
finally &#123;//处理善后工作，无论是否报错这个finally都是会执行的，无论怎样都会执行，报其他错也会执行
    System.out.println(&quot;finally&quot;);
    //finally可以不要finally，假设IO时读取文件关闭资源关闭时可以用
&#125;
&#125;
public void a() &#123;
    b();
&#125;
public void b() &#123;
    a();
    &#125;
</code></pre>
<p>例3</p>
<p>有多个catch的异常处理机制，只能执行一个catch，所以越往下catch括号里的错误类型越高层，从小到大去捕获</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">try &#123;//try监控区域</span><br><span class="line">   	new Main().a();//这是一个栈溢出的异常</span><br><span class="line">   	</span><br></pre></td></tr></table></figure>

<pre><code>&#125;
catch(Error e)//这个地方的错误必须是和try中出现的错误类型相同，否则没什么用
&#123;//catch 捕获异常
    System.out.println(&quot;程序出现异常，变量b不能为0&quot;);
&#125;
catch(Exception e)
&#123;
    System.out.println(&quot;exception&quot;);
&#125;
catch(Throwable e)
&#123;
    System.out.println(&quot;throwable&quot;);
&#125;
finally &#123;//处理善后工作，无论是否报错这个finally都是会执行的，无论怎样都会执行，报其他错也会执行
    System.out.println(&quot;finally&quot;);
    //finally可以不要finally，假设IO时读取文件关闭资源关闭时可以用
&#125;
</code></pre>
<p>例四</p>
<p>throw和throws的用法，是用来主动抛出异常</p>
<pre><code>public void test(int a,int b) throws ArithmeticException&#123;//有throws就是在调用这个方法的时候要对这个异常进行捕获，也就是下面使用这个trycatch
    /*if(b==0)
    &#123;
        throw new ArithmeticException();//主动的抛出异常，一般在方法中使用
    &#125;*/
&#125;

public static void main(String[] args) &#123;
    try &#123;
    new Hello().test(1,0);
    &#125;
    catch(ArithmeticException e)&#123;
        e.printStackTrace();
    &#125;

&#125;
</code></pre>
<p>不用throws的话就是要在throw那个地方去进行一个异常捕获</p>
<h3 id="自定义异常"><a href="#自定义异常" class="headerlink" title="自定义异常"></a>自定义异常</h3><p>exception类能被继承的常用方法：</p>
<p>public void printStackTrace()</p>
<p>public String toString()</p>
<p>public String getMessage()</p>
<p>除内置的异常类可以描述大部分异常情况，除此之外，用户还可以自定义异常，用户自定义异常类，只需继承Exception类即可；</p>
<p>1.创建自定义异常类</p>
<p>2.在方法中通过throw关键字抛出异常对象</p>
<p>3.如果在当前抛出异常的方法中处理异常，可以使用try-catch语句捕获并处理；否则在方法的声明处通过throws关键字指明要抛出给方法调用者的异常，继续进行下一步操作</p>
<p>4.再出现异常方法的调用者捕获并处理异常</p>
<p>例子</p>
<p>自定义的异常类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Main;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyException</span> <span class="keyword">extends</span> <span class="title class_">Exception</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//传递数字大于10</span></span><br><span class="line">	<span class="keyword">private</span> <span class="type">int</span> detail;</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">MyException</span><span class="params">(<span class="type">int</span> a)</span> &#123;</span><br><span class="line">		<span class="built_in">this</span>.detail=a;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="string">&quot;MyException&#123;&quot;</span>+detail+<span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>测试</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Test</span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">(<span class="type">int</span> a)</span> <span class="keyword">throws</span> MyException&#123;</span><br><span class="line">	System.out.println(<span class="string">&quot;传递的参数为: &quot;</span>+a);</span><br><span class="line">	<span class="keyword">if</span>(a&gt;<span class="number">10</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">MyException</span>(a)<span class="comment">//抛出</span></span><br><span class="line">	&#125;</span><br><span class="line">	System.out.println(<span class="string">&quot;ok&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">	test(<span class="number">11</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">catch</span>(MyException e)&#123;</span><br><span class="line">	System.out.println(<span class="string">&quot;MyException=&gt;&quot;</span>+e);<span class="comment">//这是调用e类中的toString方法</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### 自定义异常的常用格式</span><br><span class="line"></span><br><span class="line">public class MyException extends Exception&#123;</span><br><span class="line"></span><br><span class="line">public MyException()&#123;&#125;</span><br><span class="line"></span><br><span class="line">public MyException(String msg)&#123;</span><br><span class="line"></span><br><span class="line">super(msg);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ATM</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line">package Main;</span><br><span class="line">import java.util.Scanner;</span><br><span class="line">class NoMoney extends Exception &#123;</span><br><span class="line">            public NoMoney() &#123;</span><br><span class="line">            	</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">            public NoMoney(String msg) &#123;</span><br><span class="line">            	super(msg);//构造方法传报错信息</span><br><span class="line">            &#125;</span><br><span class="line">           /* public String toString () &#123;</span><br><span class="line">            return &quot;您的余额不足，您当前余额为&quot;+Main.money;	</span><br><span class="line">            &#125;*/</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Main&#123;</span><br><span class="line">	public static double money=0;</span><br><span class="line">	public void deposit(double a) &#123;</span><br><span class="line">		this.money+=a;</span><br><span class="line">		System.out.println(&quot;您的当前余额为&quot;+this.money);</span><br><span class="line">	&#125;</span><br><span class="line">	public void query() &#123;</span><br><span class="line">		System.out.println(&quot;您的当前余额为&quot;+this.money);</span><br><span class="line">	&#125;</span><br><span class="line">	public void withdraw(double a) throws NoMoney &#123;</span><br><span class="line">		if(this.money&lt;a) &#123;</span><br><span class="line">			throw new NoMoney(&quot;余额不足&quot;);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">public static void main(String []args) &#123;</span><br><span class="line">	int index=0;</span><br><span class="line">	while(true) &#123;</span><br><span class="line">		if(index==0) &#123;		System.out.println(&quot;您可以输入 查询余额,取款,存款,退出&quot;);&#125;</span><br><span class="line">		index++;</span><br><span class="line">		Scanner in=new Scanner(System.in);</span><br><span class="line">		String str=in.nextLine();</span><br><span class="line">		String str1=&quot;查询余额&quot;;</span><br><span class="line">		String str2=&quot;取款&quot;;</span><br><span class="line">		String str3=&quot;存款&quot;;</span><br><span class="line">		String str4=&quot;退出&quot;;</span><br><span class="line">		Main discount =new Main();</span><br><span class="line">		if(str.equals(str1))&#123;</span><br><span class="line">		discount.query();</span><br><span class="line">		&#125;</span><br><span class="line">		else if(str.equals(str2))&#123;</span><br><span class="line">			System.out.println(&quot;您要取出的金额是&quot;);</span><br><span class="line">			double count =in.nextDouble();</span><br><span class="line">			try &#123;</span><br><span class="line">			discount.withdraw(count);</span><br><span class="line">			Main.money=Main.money-count;</span><br><span class="line">			System.out.println(&quot;您当前的余额是&quot;+Main.money);</span><br><span class="line">			&#125;</span><br><span class="line">			catch(NoMoney e)&#123;</span><br><span class="line">				//System.out.println(&quot;您当前的余额不足,您当前的余额是&quot;+Main.money);</span><br><span class="line">				/*System.out.println(e.toString());</span><br><span class="line">				continue;*/</span><br><span class="line">                 e.printStackTrace();//打印报错信息和堆栈信息</span><br><span class="line">                 System.out.println(e.getMessage());//打印获得的报错信息</span><br><span class="line">                                                               </span><br><span class="line"></span><br><span class="line">			&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		else if(str.equals(str3)) &#123;</span><br><span class="line">			System.out.println(&quot;您要存入的金额是&quot;);</span><br><span class="line">			double count=in.nextDouble();</span><br><span class="line">			discount.deposit(count);</span><br><span class="line">		&#125;</span><br><span class="line">		else if(str.equals(str4))&#123;</span><br><span class="line">			break;</span><br><span class="line">		&#125;</span><br><span class="line">		else &#123;</span><br><span class="line">			System.out.println(&quot;输入内容有问题&quot;);</span><br><span class="line">			continue;</span><br><span class="line">		&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"># </span><br></pre></td></tr></table></figure>

<h3 id="异常语句的执行顺序分析"><a href="#异常语句的执行顺序分析" class="headerlink" title="异常语句的执行顺序分析"></a>异常语句的执行顺序分析</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b)</span>&#123;</span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> a+b;</span><br><span class="line">        &#125;<span class="keyword">catch</span>(Exception e)&#123;</span><br><span class="line">            System.out.println(“<span class="keyword">catch</span> 语句块”);</span><br><span class="line">        &#125;<span class="keyword">finally</span>&#123;</span><br><span class="line">            System.out.println(“<span class="keyword">finally</span> 语句块”);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        <span class="type">Demo</span> <span class="variable">demo</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Demo</span>();</span><br><span class="line">        System.out.println(“和是：”+demo.add(<span class="number">9</span>,<span class="number">34</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>执行结果：</p>
<p>finally 语句块<br>和是：43</p>
<p>调用add方法之后一直等到finally调用完才返回到主函数</p>
<h1 id="java中的泛型"><a href="#java中的泛型" class="headerlink" title="java中的泛型"></a>java中的泛型</h1><p>泛型初体验</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//编译期间检查类型</span></span><br><span class="line"><span class="comment">//减少了数据类型的转换</span></span><br><span class="line">ArrayList&lt;String&gt; strList=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">strList.add(<span class="string">&quot;a&quot;</span>);</span><br><span class="line">strList.add(<span class="string">&quot;b&quot;</span>);</span><br><span class="line">strList.add(<span class="string">&quot;c&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;strList.size();i++)</span><br><span class="line">&#123;</span><br><span class="line">	String s=strList.get(i);</span><br><span class="line">	System.out.println(s);</span><br><span class="line">&#125;</span><br><span class="line">ArrayList&lt;Integer&gt; intList=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">intList.add(<span class="number">100</span>);</span><br><span class="line">intList.add(<span class="number">200</span>);</span><br><span class="line">intList.add(<span class="number">300</span>);</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;intList.size();i++)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> num=intList.get(i);</span><br><span class="line">	System.out.println(num);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="泛型类的创建"><a href="#泛型类的创建" class="headerlink" title="泛型类的创建"></a>泛型类的创建</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*泛型类的定义</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> * &lt;T&gt;泛型标识--类型形参</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> * T 创建对象的时候里指定具体的数据类型</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Generic</span> &lt;T&gt;&#123;</span><br><span class="line">   <span class="comment">//T，是由外部使用类的时候来指定</span></span><br><span class="line">         <span class="keyword">private</span> T key;</span><br><span class="line">         <span class="keyword">public</span> <span class="title function_">Generic</span><span class="params">(T key)</span> &#123;</span><br><span class="line">       	  <span class="built_in">this</span>.key=key;</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="keyword">public</span> T <span class="title function_">getKey</span><span class="params">()</span> &#123;</span><br><span class="line">       	  <span class="keyword">return</span> key;</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setKey</span><span class="params">(T key)</span> &#123;</span><br><span class="line">       	  <span class="built_in">this</span>.key=key;</span><br><span class="line">         &#125;</span><br><span class="line"></span><br><span class="line">         <span class="meta">@Override</span></span><br><span class="line">         <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">       	  <span class="keyword">return</span> <span class="string">&quot;Generic&#123;&quot;</span>+<span class="string">&quot;key=&quot;</span>+key+<span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">         &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>泛型类使用语法：</p>
<p>类名&lt;具体的数据类型&gt; 对象名&#x3D;new 类名&lt;具体的数据类型&gt;();</p>
<p>或者   类名&lt;具体的数据类型&gt; 对象名&#x3D;new 类名&lt;&gt;();</p>
<h3 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">public static void main(String []args)</span><br><span class="line">	&#123;</span><br><span class="line">		//泛型类在创建对象的时候，来指定操作的具体的数据类型</span><br><span class="line">		Generic&lt;String&gt; strGeneric=new Generic&lt;&gt;(&quot;赵梓皓&quot;);</span><br><span class="line">		String key1=strGeneric.getKey();</span><br><span class="line">		System.out.println(&quot;key1:&quot;+key1);</span><br></pre></td></tr></table></figure>

<pre><code>    Generic&lt;Integer&gt; intGeneric =new Generic&lt;&gt;(123);
       int key=intGeneric.getKey();
       System.out.println(&quot;key:&quot;+key);
      //泛型类在创建对象的时候，没有指定类型，将按照Object类型来操作
       Generic generic =new Generic(&quot;ABC&quot;);
       Object key3=generic.getKey();
       System.out.println(&quot;key3:&quot;+key3);
       //泛型类不支持基本数据类型
      // Generic &lt;int&gt; generic2=new Generic &lt;int&gt;(100);
       //同一泛型类，根据不同的数据类型创建的对象，本质上是同一类型，是Generic类型
       System.out.println(intGeneric.getClass());
       System.out.println(strGeneric.getClass());
       System.out.println(intGeneric.getClass()==strGeneric.getClass());
&#125;
</code></pre>
<p>注意事项：泛型类，如果没有指定具体的数据类型，此时，操作类型是Object</p>
<p>2.泛型的类型参数只能是类类型，不能是基本数据类型</p>
<p>3.泛型类型在逻辑上可以看成是多个不同的类型，但实际上都是相同类型</p>
<h3 id="泛型类的使用"><a href="#泛型类的使用" class="headerlink" title="泛型类的使用"></a>泛型类的使用</h3><p><strong>抽奖器泛型类</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Random;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ProductGetter</span> &lt;T&gt; &#123;</span><br><span class="line">	Random random=<span class="keyword">new</span> <span class="title class_">Random</span>();</span><br><span class="line">	<span class="comment">//奖品</span></span><br><span class="line"><span class="keyword">private</span> T product;</span><br><span class="line"><span class="comment">//奖品池</span></span><br><span class="line">ArrayList &lt;T&gt; list=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;T&gt;();</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addProduct</span><span class="params">(T t)</span> &#123;</span><br><span class="line">	list.add(t);</span><br><span class="line">&#125;	</span><br><span class="line"><span class="comment">//抽奖</span></span><br><span class="line"><span class="keyword">public</span> T <span class="title function_">getProduct</span><span class="params">()</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> list.get(random.nextInt(list.size()));</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>抽奖器使用</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Main</span>&#123;</span><br><span class="line">	<span class="keyword">public</span> String b=<span class="string">&quot;100&quot;</span>;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="comment">//创建抽奖器对象，指定数据类型</span></span><br><span class="line">		ProductGetter&lt;String&gt; stringProductGetter=<span class="keyword">new</span> <span class="title class_">ProductGetter</span>&lt;&gt;();</span><br><span class="line">		String[] strProducts= &#123;<span class="string">&quot;苹果手机&quot;</span>,<span class="string">&quot;华为手机&quot;</span>,<span class="string">&quot;扫地机器人&quot;</span>,<span class="string">&quot;咖啡机&quot;</span>&#125;;</span><br><span class="line">		<span class="comment">//给抽奖器中，填充奖品</span></span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;strProducts.length;i++)</span><br><span class="line">		&#123;</span><br><span class="line">			stringProductGetter.addProduct(strProducts[i]);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//抽奖</span></span><br><span class="line">		String product1=stringProductGetter.getProduct();</span><br><span class="line">		System.out.println(<span class="string">&quot;恭喜您，你抽中了&quot;</span>+product1);</span><br><span class="line">		</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="泛型类派生子类"><a href="#泛型类派生子类" class="headerlink" title="泛型类派生子类"></a>泛型类派生子类</h3><p>1.子类也是泛型类，子类和父类的泛型类型一致</p>
<p>class ChildGeneric<T> extends Generic<T></p>
<p>2.子类不是泛型类，父类要明确泛型的数据类型</p>
<p>class ChildGeneric extends Generic<String></p>
<p>例一：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">父类</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Parent</span> &lt;E&gt; &#123;</span><br><span class="line"><span class="keyword">private</span> E value;</span><br><span class="line"><span class="keyword">public</span> E <span class="title function_">getValue</span><span class="params">()</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> value;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setValue</span><span class="params">(E value)</span> &#123;</span><br><span class="line">	<span class="built_in">this</span>.value=value;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">子类</span><br><span class="line">    <span class="comment">//子类中可以泛型扩展，但必须要有一个泛型和父类中的一样</span></span><br><span class="line">    <span class="comment">//泛型类派生子类，子类也是泛型类的情况时，子类的泛型标识要和父类一致</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ChildFirst</span>&lt;T&gt; <span class="keyword">extends</span> <span class="title class_">Parent</span>&lt;T&gt; &#123;</span><br><span class="line">              <span class="meta">@Override</span></span><br><span class="line">              <span class="keyword">public</span> T <span class="title function_">getValue</span><span class="params">()</span> &#123;</span><br><span class="line">            	  <span class="keyword">return</span> <span class="built_in">super</span>.getValue();</span><br><span class="line">              &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">测试</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Main</span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span></span><br><span class="line">	&#123;</span><br><span class="line">	ChildFirst&lt;String&gt; childFirst=<span class="keyword">new</span> <span class="title class_">ChildFirst</span>&lt;String&gt;();</span><br><span class="line">		childFirst.setValue(<span class="string">&quot;abc&quot;</span>);</span><br><span class="line">		String value=childFirst.getValue();</span><br><span class="line">		System.out.println(value);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>例二</p>
<ul>
<li>&#96;&#96;&#96;java<br>&#x2F;*<br> 子类<ul>
<li>当泛型类派生自类的时候，如果子类不是泛型类那么父类要明确数据类型<br>*&#x2F;<br>public class ChildFirst extends Parent<String> {<br>      @Override<br>   public String getValue() {<br>       return super.getValue();<br>   }<br>}<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"> * 测试</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Main</span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span></span><br><span class="line">	&#123;</span><br><span class="line">	ChildFirst childfirst=<span class="keyword">new</span> <span class="title class_">ChildFirst</span>();</span><br><span class="line">	childfirst.setValue(<span class="string">&quot;abc&quot;</span>);</span><br><span class="line">	 String value1=childfirst.getValue();</span><br><span class="line">	 System.out.println(value1);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h3 id="泛型接口"><a href="#泛型接口" class="headerlink" title="泛型接口"></a>泛型接口</h3><p> <strong>1.泛型接口的实现类不是泛型类，接口要明确数据类型</strong></p>
<p> 泛型接口</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">* <span class="comment">/*</span></span><br><span class="line"><span class="comment">   * 泛型接口</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">     <span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Generator</span>&lt;T&gt; &#123;</span><br><span class="line">     T <span class="title function_">getKey</span><span class="params">()</span>;</span><br><span class="line">     &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p> 子类</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">public class Apple implements Generator&lt;String&gt;&#123;</span><br><span class="line"></span><br><span class="line">	/*</span><br><span class="line">	 * 实现泛型接口的类，不是泛型类，需要明确实现泛型接口的数据类型</span><br><span class="line">	 */</span><br><span class="line">	@Override</span><br><span class="line">	public String getKey() &#123;</span><br><span class="line">		return &quot;hello generic&quot;;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> 测试</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Main</span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span></span><br><span class="line">	&#123;</span><br><span class="line">            Apple apple=<span class="keyword">new</span> <span class="title class_">Apple</span>();</span><br><span class="line">            String key=apple.getKey();</span><br><span class="line">            System.out.println(key);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>  <strong>2.实现类也是泛型类，实现类和接口的泛型类型要一致</strong></p>
<pre><code>  /*子类
</code></pre>
<ul>
<li><pre><code class="java">
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">* 泛型接口的实现类是一个泛型类，那么要保证实现接口的泛型类泛型标识包含泛型接口的泛型标识</span><br><span class="line">  */</span><br><span class="line">     //实现类的泛型标识必须和接口的一样</span><br><span class="line">     public class Apple&lt;T,E&gt; implements Generator&lt;T&gt;&#123;</span><br><span class="line">      private T key;</span><br><span class="line">      private E value;</span><br><span class="line">     public Apple(T key,E value)&#123;</span><br><span class="line">     this.key=key;</span><br><span class="line">     this.value=value;</span><br><span class="line">     &#125;</span><br><span class="line">     @Override</span><br><span class="line">     public T getKey() &#123;</span><br><span class="line">     	return key;</span><br><span class="line">     &#125;</span><br><span class="line">     public E getValue() &#123;</span><br><span class="line">     	return value;</span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
 
 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">* ```</span><br><span class="line">  /*泛型类</span><br></pre></td></tr></table></figure>
</code></pre>
</li>
<li><p>泛型接口<br>*&#x2F;<br>public interface Generator<T> {<br>T getKey();<br>}</p>
</li>
</ul>
 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"> </span><br><span class="line"> 实现类</span><br><span class="line"></span><br><span class="line">```java</span><br><span class="line">class Main&#123;</span><br><span class="line">	public static void main(String []args)</span><br><span class="line">	&#123;</span><br><span class="line">          Apple&lt;String,Integer&gt; apple=new Apple&lt;&gt;(&quot;abc&quot;,100);</span><br><span class="line">          String a=apple.getKey();</span><br><span class="line">          int b=apple.getValue();</span><br><span class="line">          System.out.println(a+b);</span><br><span class="line">          </span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="泛型方法"><a href="#泛型方法" class="headerlink" title="泛型方法"></a>泛型方法</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">修饰符 &lt;T,E,...&gt; 返回值类型 方法名(形参列表) &#123;</span><br><span class="line"></span><br><span class="line">方法体</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>泛型类</p>
<ul>
<li><p>&#96;&#96;&#96;java<br>import java.util.ArrayList;<br> import java.util.Random;</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">public class ProductGetter &lt;T&gt; &#123;</span><br><span class="line">	Random random=new Random();</span><br><span class="line">	//奖品</span><br><span class="line">private T product;</span><br><span class="line">//奖品池</span><br><span class="line">ArrayList &lt;T&gt; list=new ArrayList&lt;T&gt;();</span><br><span class="line">public void addProduct(T t) &#123;</span><br><span class="line">	list.add(t);</span><br><span class="line">&#125;	</span><br><span class="line">//抽奖</span><br><span class="line">public T getProduct() &#123;//这都不是泛型方法，是用泛型的成员方法</span><br><span class="line">	return list.get(random.nextInt(list.size()));</span><br><span class="line">&#125;</span><br><span class="line">/*</span><br><span class="line"></span><br><span class="line"> * 定义泛型方法</span><br><span class="line"> * 这里定义的就是一个泛型方法，有了&lt;E&gt;泛型标识，方法里就可以用这个泛型标识，具体类型由调用方法的时候来指定</span><br><span class="line">   */</span><br><span class="line">   public &lt;E&gt; E getProduct(ArrayList&lt;E&gt; list) &#123;//这个泛型方法的类型是独立于泛型类的</span><br><span class="line">   return list.get(random.nextInt(list.size()));</span><br><span class="line">   &#125;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
<p>测试</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Main</span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span></span><br><span class="line">	&#123;</span><br><span class="line">    ProductGetter&lt;Integer&gt; productGetter=<span class="keyword">new</span> <span class="title class_">ProductGetter</span>&lt;&gt;();</span><br><span class="line">    ArrayList&lt;String&gt; strList=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    strList.add(<span class="string">&quot;笔记本&quot;</span>);</span><br><span class="line">    strList.add(<span class="string">&quot;手机&quot;</span>);</span><br><span class="line">    <span class="comment">//这是对泛型方法的调用，类型是通过调用方法的时候来制定的，这个地方就是指定E类型为String</span></span><br><span class="line">    String product1=productGetter.getProduct(strList);</span><br><span class="line">	System.out.println(product1);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> 注意问题：</p>
<p> 1.如果一个普通的成员方法用了类的这个泛型类型，是不能用static来修饰的</p>
<p> 2.如果是泛型方法可以支持静态</p>
<p><strong>静态类型的泛型方法</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> * 静态类型的泛型方法，采用多个泛型类型</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> &lt;E,T,K&gt; <span class="keyword">void</span> <span class="title function_">printtype</span><span class="params">(E e,T t,K k)</span></span><br><span class="line">   &#123;</span><br><span class="line">   System.out.println(t.getClass());</span><br><span class="line">   System.out.println(e.getClass());</span><br><span class="line">   System.out.println(k.getClass());</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<p>测试</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span> &#123;</span><br><span class="line">	ProductGetter.printtype(<span class="number">100</span>,<span class="string">&quot;java&quot;</span>,<span class="literal">true</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><strong>泛型方法与可变参数</strong></p>
<p>例子</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//因为参数的数目是可以变化的，所以可以形成数组</span></span><br><span class="line"><span class="comment">//泛型方法对可变参数的支持</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> &lt;E&gt; <span class="keyword">void</span> <span class="title function_">print</span><span class="params">(E...e)</span> &#123;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;e.length;i++) &#123;</span><br><span class="line">		System.out.println(e[i]);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>测试</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span> &#123;</span><br><span class="line">	ProductGetter.print(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>总结：泛型方法能使方法独立于类而产生变化</p>
<p>如果static方法要使用泛型能力，就必须使其成为泛型方法</p>
<h3 id="类型通配符"><a href="#类型通配符" class="headerlink" title="类型通配符"></a>类型通配符</h3><p>方法参数使用类的泛型标识符时不能重载，因为标识符从根本上都是Object类</p>
<p>注意：1.类型通配符一般是使用“?”代替具体的类型实参</p>
<p>2.所以，类型通配符是类型实参，而不是类型形参</p>
<p><strong>通配符初体验</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Main</span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		Box&lt;Number&gt; box1=<span class="keyword">new</span> <span class="title class_">Box</span>&lt;&gt;();</span><br><span class="line">		box1.setFirst(<span class="number">100</span>);</span><br><span class="line">		showBox(box1);</span><br><span class="line">		</span><br><span class="line">		Box&lt;Integer&gt; box2=<span class="keyword">new</span> <span class="title class_">Box</span>&lt;&gt;();</span><br><span class="line">		box2.setFirst(<span class="number">200</span>);</span><br><span class="line">		showBox(box2);</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">showBox</span><span class="params">(Box&lt;?&gt;box)</span><span class="comment">//这个地方是问号就可以是任意类型的，都可以用这个showBox方法，但如果是Number类型的，即使是它的子类Integer也不能用因为标识符类型本质上都是一样的Object类所以不能进行方法重载</span></span><br><span class="line">	&#123;</span><br><span class="line">		Object first=box.getFirst();</span><br><span class="line">		System.out.println(first);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="通配符设置上限"><a href="#通配符设置上限" class="headerlink" title="通配符设置上限"></a>通配符设置上限</h3><p>语法</p>
<p>类&#x2F;接口&lt;? extends 实参类型&gt;</p>
<p>要求该泛型的类型，只能是实参类型，或者是实参类型的子类类型</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Main</span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		Box&lt;Number&gt; box1=<span class="keyword">new</span> <span class="title class_">Box</span>&lt;&gt;();</span><br><span class="line">		box1.setFirst(<span class="number">100</span>);</span><br><span class="line">		showBox(box1);</span><br><span class="line">		</span><br><span class="line">		Box&lt;Integer&gt; box2=<span class="keyword">new</span> <span class="title class_">Box</span>&lt;&gt;();</span><br><span class="line">		box2.setFirst(<span class="number">200</span>);</span><br><span class="line">		showBox(box2);</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">showBox</span><span class="params">(Box&lt;? extends Number&gt;box)</span><span class="comment">//这里意思就是最大接收的类型就是Number，如果单独是一个?的话就是最大是Object</span></span><br><span class="line">	&#123;</span><br><span class="line">		Number first=box.getFirst();</span><br><span class="line">		System.out.println(first);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>例子：</p>
<p>Cat是miniCat的父类，Animal是Cat的父类</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">public class miniCat extends Cat&#123;</span><br><span class="line"></span><br><span class="line">	public static void main(String[] args)</span><br><span class="line">	&#123;</span><br><span class="line">		ArrayList&lt;Animal&gt; animals=new ArrayList&lt;&gt;();</span><br><span class="line">		ArrayList&lt;Cat&gt; cats=new ArrayList&lt;&gt;();</span><br><span class="line">	    ArrayList&lt;miniCat&gt; miniCats=new ArrayList&lt;&gt;();	</span><br><span class="line">	    //showAnimal(animals);这个会报错因为下面的通配符上限是Cat，传递的集合类型只能是Cat或Cat的子类</span><br><span class="line">	    showAnimal(cats);</span><br><span class="line">	    showAnimal(miniCats);</span><br><span class="line">	 </span><br><span class="line">	&#125;</span><br><span class="line">	public static void showAnimal(ArrayList&lt;? extends  Cat&gt; list)</span><br><span class="line">	&#123;</span><br><span class="line">		//这种用通配符来表述存储对象类型的集合是不能向其中添加元素的</span><br><span class="line">		/*list.add(new Cat());</span><br><span class="line">		list.add(new miniCat());</span><br><span class="line">		list.add(new Animal());*/</span><br><span class="line">		for(int i=0;i&lt;list.size();i++) &#123;</span><br><span class="line">			//ArrayList通配符上限为Cat所以下面用Cat引用变量接受没有任何问题</span><br><span class="line">			Cat cat = list.get(i);//这个地方得到集合的类型，引用变量必须是最大的那一种 </span><br><span class="line">			System.out.println(cat);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="类型通配符的下限"><a href="#类型通配符的下限" class="headerlink" title="类型通配符的下限"></a>类型通配符的下限</h3><p>类&#x2F;接口&lt;? super 实参类型&gt;</p>
<p>要求该泛型的类型，只能是实参类型，或实参类型的父类类型</p>
<p><strong>通配符下限初体验</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">miniCat</span> <span class="keyword">extends</span> <span class="title class_">Cat</span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span></span><br><span class="line">	&#123;</span><br><span class="line">		ArrayList&lt;Animal&gt; animals=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">		ArrayList&lt;Cat&gt; cats=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">	    ArrayList&lt;miniCat&gt; miniCats=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();	</span><br><span class="line">	    showAnimal(animals);</span><br><span class="line">	    showAnimal(cats);</span><br><span class="line">	   <span class="comment">// showAnimal(miniCats);要求只能是Cat或者Cat的父类类型，所以这个地方报错</span></span><br><span class="line">	 </span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment">	 * 类型通配符的下限，要求集合只能是Cat或Cat的父类类型</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">showAnimal</span><span class="params">(ArrayList&lt;? <span class="built_in">super</span> Cat&gt; list)</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span>(Object o:list) &#123;<span class="comment">//当接受用下限通配符标识的集合元素的时候，用object，因为Object是所有类的父类</span></span><br><span class="line">			System.out.println(o);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>TreeSet是通过自己定义的比较器来排序的</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Main</span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span></span><br><span class="line">	&#123;</span><br><span class="line">         TreeSet&lt;Cat&gt; treeSet=<span class="keyword">new</span> <span class="title class_">TreeSet</span>&lt;&gt;(<span class="keyword">new</span> <span class="title class_">Comprator2</span>());<span class="comment">//因为是comprator2所以是按照年龄大小来排序的</span></span><br><span class="line">          <span class="comment">//TreeSet&lt;Cat&gt; treeSet=new TreeSet&lt;&gt;(new Comprator1());不会报错</span></span><br><span class="line">        <span class="comment">//TreeSet&lt;Cat&gt; treeSet=new TreeSet&lt;&gt;(new Comprator3());会报错</span></span><br><span class="line">        <span class="comment">//因为TreeSet的这个地方泛型是Cat它的构造方法也用到了泛型，只有是继承Cat或Cat子类标识Comparator接口的比较器才能够好用</span></span><br><span class="line">        treeSet.add(<span class="keyword">new</span> <span class="title class_">Cat</span>(<span class="string">&quot;jerry&quot;</span>,<span class="number">20</span>));</span><br><span class="line">         treeSet.add(<span class="keyword">new</span> <span class="title class_">Cat</span>(<span class="string">&quot;amy&quot;</span>,<span class="number">22</span>));</span><br><span class="line">         treeSet.add(<span class="keyword">new</span> <span class="title class_">Cat</span>(<span class="string">&quot;frank&quot;</span>,<span class="number">23</span>));</span><br><span class="line">         treeSet.add(<span class="keyword">new</span> <span class="title class_">Cat</span>(<span class="string">&quot;jim&quot;</span>,<span class="number">25</span>));</span><br><span class="line">         <span class="keyword">for</span>(Cat cat:treeSet) &#123;</span><br><span class="line">        	 System.out.println(cat);</span><br><span class="line">         &#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Comprator1</span> <span class="keyword">implements</span> <span class="title class_">Comparator</span>&lt;Animal&gt;&#123;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Animal o1, Animal o2)</span> &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		<span class="keyword">return</span> o1.name.compareTo(o2.name);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Comprator2</span> <span class="keyword">implements</span> <span class="title class_">Comparator</span>&lt;Cat&gt;&#123;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Cat o1, Cat o2)</span> &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		<span class="keyword">return</span> o1.age-o2.age;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Comprator3</span> <span class="keyword">implements</span> <span class="title class_">Comparator</span>&lt;miniCat&gt;&#123;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(miniCat o1, miniCat o2)</span> &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		<span class="keyword">return</span> o1.level-o2.level;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="title function_">Treeset</span><span class="params">(Comparator &lt;? <span class="built_in">super</span> E&gt; comparator)</span>&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="类型擦除"><a href="#类型擦除" class="headerlink" title="类型擦除"></a>类型擦除</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">public static void main(String []args)</span><br><span class="line">	&#123;</span><br><span class="line">		//泛型类在创建对象的时候，来指定操作的具体的数据类型</span><br><span class="line">		Generic&lt;String&gt; strGeneric=new Generic&lt;&gt;(&quot;赵梓皓&quot;);</span><br><span class="line">		String key1=strGeneric.getKey();</span><br><span class="line">		System.out.println(&quot;key1:&quot;+key1);</span><br></pre></td></tr></table></figure>

<pre><code>Generic&lt;Integer&gt; intGeneric =new Generic&lt;&gt;(123);
   int key=intGeneric.getKey();
   System.out.println(&quot;key:&quot;+key);
  //泛型类在创建对象的时候，没有指定类型，将按照Object类型来操作
   Generic generic =new Generic(&quot;ABC&quot;);
   Object key3=generic.getKey();
   System.out.println(&quot;key3:&quot;+key3);
   //泛型类不支持基本数据类型
  // Generic &lt;int&gt; generic2=new Generic &lt;int&gt;(100);
   //同一泛型类，根据不同的数据类型创建的对象，本质上是同一类型，是Generic类型
   System.out.println(intGeneric.getClass());
   System.out.println(strGeneric.getClass());
   System.out.println(intGeneric.getClass()==strGeneric.getClass());
</code></pre>
<p>}</p>
<p>判断两个类型是否相同 最后是相同的</p>
<p>因为泛型只有在编译阶段存在，编译结束之后类型就擦除了，都是Object类</p>
<h3 id="泛型数组的创建"><a href="#泛型数组的创建" class="headerlink" title="泛型数组的创建"></a>泛型数组的创建</h3><p>可以声明带泛型的数组引用，但是不能直接创建带泛型的的数组对象</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Main</span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span></span><br><span class="line">	&#123;</span><br><span class="line">		ArrayList&lt;String&gt;[] listArr=<span class="keyword">new</span> <span class="title class_">ArrayList</span>[<span class="number">5</span>];<span class="comment">//定义泛型数组的方式，操作的时候就是拿引用去操作</span></span><br><span class="line">   ArrayList&lt;String&gt; strList=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">   strList.add(<span class="string">&quot;abc&quot;</span>);</span><br><span class="line">   listArr[<span class="number">0</span>]=strList;</span><br><span class="line">   String s=listArr[<span class="number">0</span>].get(<span class="number">0</span>);</span><br><span class="line">   System.out.println(s);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>可以通过java.lang.reflect.Array的newInstance(Class<T>,int) 创建T[]数组</p>
<p>Fruit</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Main;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Array;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Fruit</span>&lt;T&gt; &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> T[] array;</span><br><span class="line">	<span class="keyword">public</span> T[] getArray() &#123;</span><br><span class="line">		<span class="keyword">return</span> array;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setArray</span><span class="params">(T[] array)</span> &#123;</span><br><span class="line">		<span class="built_in">this</span>.array = array;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">Fruit</span><span class="params">(Class&lt;T&gt; clz,<span class="type">int</span> length)</span></span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">array=(T[])Array.newInstance(clz, length);	</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">put</span><span class="params">(<span class="type">int</span> index, T string)</span> &#123;</span><br><span class="line">	array[index]=string;</span><br><span class="line">	&#125;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>

<p>测试</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Main</span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span></span><br><span class="line">	&#123;</span><br><span class="line">	Fruit&lt;String&gt; fruit=<span class="keyword">new</span> <span class="title class_">Fruit</span>&lt;&gt;(String.class ,<span class="number">3</span>);</span><br><span class="line">	fruit.put(<span class="number">0</span>,<span class="string">&quot;苹果&quot;</span>);</span><br><span class="line">	fruit.put(<span class="number">1</span>,<span class="string">&quot;西瓜&quot;</span>);</span><br><span class="line">	fruit.put(<span class="number">2</span>,<span class="string">&quot;香蕉&quot;</span>);</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	System.out.println(Arrays.toString(fruit.getArray()));</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>一个利用比较器以及string的compareTo的一个题</p>
<h1 id="java的File类"><a href="#java的File类" class="headerlink" title="java的File类"></a>java的File类</h1><p>java.io.File类</p>
<p>文件和目录路径的抽象表示形式</p>
<p>java把电脑中的文件和文件夹封装为了一个File类，我们可以使用File类对文件和文件夹进行操作</p>
<p>我们可以使用File类的方法</p>
<p>创建一个文件&#x2F;文件夹等等</p>
<p>File类是一个和系统无关的类，任何的操作系统都可以使用这个类中的方法</p>
<p>重点记住三个单词：file：文件    directory：文件夹&#x2F;目录    path：路径</p>
<p><strong>File类的静态属性</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">String pathSeparator=File.pathSeparator;<span class="comment">//路径分隔符，分割多个路径的，windows系统是分号，linux系统是冒号</span></span><br><span class="line">System.out.println(pathSeparator);</span><br><span class="line">String separator=File.separator;</span><br><span class="line">System.out.println(separator);<span class="comment">//文件名称分隔符，windows系统是反斜杠\    linux系统是正斜杠/</span></span><br><span class="line"><span class="comment">//操作路径&quot;C:&quot;+File.separator+&quot;develop&quot;+File.separator+&quot;a&quot;+File.separator+&quot;a.txt&quot;</span></span><br><span class="line"><span class="comment">//将反斜杠或者正斜杠用File.separator代替，不写死</span></span><br></pre></td></tr></table></figure>

<p><strong>绝对路径与相对路径</strong></p>
<p><img src="C:\Users#赵梓皓&\AppData\Roaming\Typora\typora-user-images\image-20220629161901489.png" alt="image-20220629161901489"></p>
<p><strong>构造方法</strong></p>
<ul>
<li><p>&#96;&#96;&#96;java<br>&#x2F;*<br>一</p>
<ul>
<li>File(String pathname) 通过将给定路径名字字符串转换为抽象路径来创建一个新的File实例</li>
<li>参数：</li>
<li>String pathname 字符串的路径名称</li>
<li>路径可以是文件结尾也可以是文件夹结尾</li>
<li>路径可以是相对路径，也可以是绝对路径</li>
<li>路径可以存在也可以不存在，创建File对象，只是把字符串封装为File对象，不考虑路径的真假情况</li>
<li>*&#x2F;<br>File f1&#x3D;new File(“D:\放乱七八糟\File.txt”);<br>System.out.println(f1);&#x2F;&#x2F;重写了object类里的toString方法输出路径  D:\放乱七八糟\File.txt</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">/*</span><br><span class="line"></span><br><span class="line"> * ```</span><br><span class="line">   * File(String parent,Stringchild)</span><br><span class="line">   * 参数分为两部分，String parent父路径</span><br><span class="line">   * String child 子路径</span><br><span class="line">   * 好处：</span><br><span class="line">   * 父路径和子路径可以单独书写，使用起来非常灵活，父路径和子路径都可以变化</span><br><span class="line">     */</span><br><span class="line">     	File f1=new File(&quot;c:\\&quot;,&quot;a.txt&quot;);</span><br><span class="line">     	System.out.println(f1);</span><br><span class="line">     	File f2=new File(&quot;d:\\&quot;,&quot;a.txt&quot;);</span><br><span class="line">     	System.out.println(f2);</span><br></pre></td></tr></table></figure>

<p>   ​	&#x2F;*</p>
<pre><code>* ```
  * File(File parent,String child)根据parent抽象路径名和child路径字符串创建一个新File实例
  * 参数：把路径分为了两部分
  * File parent：父路径
  * String child：子路径
  * 好处：
  * 父路径和子路径可以单独书写，使用起来非常灵活，父路径和子路径都可以变化
  * */
        File parent=new File(&quot;c:\\&quot;);
        File file=new File(parent,&quot;hello.java&quot;);
        System.out.println(file);
  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">         </span><br><span class="line"></span><br><span class="line">## 常用方法</span><br><span class="line"></span><br><span class="line">### 获取方法</span><br><span class="line"></span><br><span class="line">public String getAbsolutePath()  :返回此File的绝对路径字符串，获取构造方法中的传递的路径，不管你写的是相对的还是绝对的都返回绝对路径字符串</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</code></pre>
</li>
</ul>
<p>File f1&#x3D;new File(“C:\a.txt”);<br>System.out.println(f1.getAbsolutePath());<br>File f2&#x3D;new File(“a.txt”);<br>System.out.println(f2.getAbsolutePath());<br>结果:<br>C:\a.txt<br>D:\Java\12345\a.txt</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">public String getPath()将此File转换为路径名字符串</span><br><span class="line"></span><br><span class="line">```java</span><br><span class="line">File f1=new File(&quot;C:\\a.txt&quot;);</span><br><span class="line">System.out.println(f1.getPath());</span><br><span class="line">File f2=new File(&quot;a.txt&quot;);</span><br><span class="line">System.out.println(f2.getPath());</span><br><span class="line">结果：</span><br><span class="line">C:\a.txt</span><br><span class="line">a.txt</span><br></pre></td></tr></table></figure>

<p>public String getName()返回由此File表示的文件或目录的名称</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">File f1=<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;C:\\a.txt&quot;</span>);</span><br><span class="line">System.out.println(f1.getName());</span><br><span class="line">File f2=<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;a.txt&quot;</span>);</span><br><span class="line">System.out.println(f2.getName());</span><br><span class="line">结果：a.txt</span><br><span class="line">a.txt</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>public long length() 获取的式构造方法指定的文件的大小，以字节为单位</p>
<p>注意：</p>
<p>文件夹是没有大小概念的，不能获取文件夹的大小，如果构造方法中给出的路径不存在，那么length方法返回零</p>
<p>文件夹没有大小概念，返回值也是零</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">File f1=<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;D:\\放乱七八糟\\File.txt&quot;</span>);</span><br><span class="line">System.out.println(f1.length());</span><br><span class="line">File f2=<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;a.txt&quot;</span>);</span><br><span class="line">System.out.println(f2.length());</span><br><span class="line">结果：</span><br><span class="line"><span class="number">10</span></span><br><span class="line"><span class="number">0</span></span><br></pre></td></tr></table></figure>

<h3 id="判断功能的方法"><a href="#判断功能的方法" class="headerlink" title="判断功能的方法"></a>判断功能的方法</h3><p>public boolean exists()  ：此File表示的文件或目录是否实际存在</p>
<p>用于判断构造方法中的路径是否存在</p>
<p>   存在：true</p>
<p>   不存在：false</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">File f1=<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;D:\\放乱七八糟\\File.txt&quot;</span>);</span><br><span class="line">System.out.println(f1.exists());</span><br><span class="line">结果：<span class="literal">true</span></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">File f1=new File(&quot;D:\\放乱七八糟\\Fil.txt&quot;);</span><br><span class="line">System.out.println(f1.exists());</span><br><span class="line">结果：false</span><br></pre></td></tr></table></figure>

<p><strong>注意下面两个判断方法的路径必须是存在的如果不存在则都返回false</strong></p>
<p>public boolean isDirectory()  表示此File是否为目录</p>
<p>用于判断构造方法中给定的路径是否是以文件夹结尾</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">File f1=new File(&quot;D:\\放乱七八糟\\File.txt&quot;);</span><br><span class="line">System.out.println(f1.isDirectory());</span><br><span class="line">结果:false</span><br></pre></td></tr></table></figure>

<p>publicboolean isFile()   </p>
<p>用于判断构造方法中给定的路径是否是以文件结尾</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">File f1=<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;D:\\放乱七八糟\\File.txt&quot;</span>);</span><br><span class="line">System.out.println(f1.isFile());</span><br><span class="line">结果：<span class="literal">true</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">File f1=<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;D:\\放乱七八糟\\Fil.txt&quot;</span>);</span><br><span class="line">System.out.println(f1.isFile());</span><br><span class="line">结果：<span class="literal">false</span>  因为路径不存在</span><br></pre></td></tr></table></figure>

<h3 id="创建删除功能的方法"><a href="#创建删除功能的方法" class="headerlink" title="创建删除功能的方法"></a>创建删除功能的方法</h3><p>public boolean createNewFile() :当且仅当具有该名称的文件尚不存在时，创建一个新的空文件</p>
<p>创建文件的路径和名称在构造方法中给出（构造方法的参数）</p>
<p>返回值：布尔值</p>
<p>true：文件不存在，创建文件，返回true</p>
<p>false：文件存在不会创建，返回false</p>
<p>注意;1.此方法之恩那个创建文件，不能创建文件夹所以创建文件的路径必须存在，否则会抛出异常</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">File f1=<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;D:\\放乱七八糟\\Fil.txt&quot;</span>);</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">	System.out.println(f1.createNewFile());</span><br><span class="line">&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">	e.printStackTrace();<span class="comment">//createNewFile声明抛出了IOException，我们调用这个方法，就必须的处理这个异常，要么throws，要么trycatch如果调用方法的时候也throws就会交给jvm处理</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>如果路径不存在则会抛出IO异常</p>
<p>public boolean mkdir()  :创键单级空文件夹</p>
<p>public boolean mkdirs()   :创建单级空文件夹，也可以创建多级文件夹</p>
<p>创建文件夹的路径和名称在构造方法中给出（构造方法的参数）</p>
<p>返回值：布尔值</p>
<p>true：文件夹不存在，创建文件夹，返回true</p>
<p>false：文件夹存在不会创建，返回false，构造方法中给出的路径不存在返回false</p>
<p>注意;1.此方法只能创建文件夹，不能创建文件</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">File f1=<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;D:\\放乱七八糟\\aaa\\bb&quot;</span>);</span><br><span class="line">System.out.println(f1.mkdir());<span class="comment">//不能创建多级目录</span></span><br><span class="line">File f2=<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;D:\\放乱七八糟\\aaa\\bb&quot;</span>);</span><br><span class="line">System.out.println(f1.mkdirs());</span><br><span class="line">File f3=<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;D:\\放乱七八糟\\ccc&quot;</span>);</span><br><span class="line">System.out.println(f3.mkdir());</span><br><span class="line">结果：<span class="literal">false</span></span><br><span class="line"><span class="literal">true</span></span><br><span class="line"><span class="literal">true</span></span><br></pre></td></tr></table></figure>

<p>public  boolean delete()    删除构造方法路径中给出的文件和文件夹</p>
<p>返回值也是一个布尔值</p>
<p>true：文件&#x2F;文件夹删除成功，返回true</p>
<p>false：文件夹中有内容，不会删除返回false，构造方法中的路径不存在返回false，文件不管里面有没有内容都会删除</p>
<p>注意：</p>
<p>delete方法是直接在硬盘删除文件&#x2F;文件夹，不走回收站，删除要谨慎</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">File f2=new File(&quot;D:\\放乱七八糟\\aaa\\bb&quot;);</span><br><span class="line">System.out.println(f2.delete());</span><br><span class="line">File f3=new File(&quot;D:\\放乱七八糟\\ccc&quot;);</span><br><span class="line">System.out.println(f3.delete());</span><br><span class="line">结果：true</span><br><span class="line">true</span><br><span class="line">删除路径的最后一个文件或者文件夹</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">File f2=new File(&quot;D:\\放乱七八糟\\aaa&quot;);</span><br><span class="line">System.out.println(f2.delete());</span><br><span class="line">结果false</span><br><span class="line">因为文件夹aaa中有内容</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">File f2=new File(&quot;D:\\放乱七八糟\\aaa\\新建文本文档.txt&quot;);</span><br><span class="line">System.out.println(f2.delete());</span><br><span class="line">结果：true</span><br><span class="line">就算txt文件中有内容也会被删除</span><br></pre></td></tr></table></figure>

<h3 id="目录的遍历功能"><a href="#目录的遍历功能" class="headerlink" title="目录的遍历功能"></a>目录的遍历功能</h3><p>public String[] list() ：返回一个String数组，表示该File目录中的所有子文件或目录（隐藏的也能获取到）</p>
<p>遍历构造方法中给出的目录，会获取目录中所有文件&#x2F;文件夹的名称，把获取到的多个名称存储到一个字符串String类型的数组中</p>
<p>public File[] listFiles(): 返回一个File数组，表示该File目录中所有的子文件或目录</p>
<p>遍历一个构造方法中给出的目录，会获取目录中所有个文件&#x2F;文件夹，把文件或文件夹封装为File对象，多个File对象存储到File数组里</p>
<p>注意：</p>
<p>list方法和listFiles方法遍历的是构造方法中给出的目录</p>
<p>如果构造方法中给出的目录的路径不存在，会抛出空指针异常</p>
<p>如果构造方法中给出的路径不是一个目录，也会抛出空指针异常</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">File f2=<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;D:\\放乱七八糟&quot;</span>);</span><br><span class="line">String str[]=f2.list();</span><br><span class="line"><span class="keyword">for</span>(String filename:str) &#123;</span><br><span class="line">	System.out.println(filename);</span><br><span class="line">&#125;</span><br><span class="line">结果：eclipse.zip</span><br><span class="line">Everything-<span class="number">1.4</span><span class="number">.1</span><span class="number">.1017</span>.x64-Setup.exe</span><br><span class="line">Fil.txt</span><br><span class="line">File.txt</span><br><span class="line">java8中文说明文档<span class="number">321456</span></span><br><span class="line">第五章.ppt</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">File file=new File(&quot;D:\\放乱七八糟&quot;);</span><br><span class="line">File []files=file.listFiles();</span><br><span class="line">for(File f:files) &#123;</span><br><span class="line">	System.out.println(f);</span><br><span class="line">&#125;</span><br><span class="line">结果：D:\放乱七八糟\eclipse.zip</span><br><span class="line">D:\放乱七八糟\Everything-1.4.1.1017.x64-Setup.exe</span><br><span class="line">D:\放乱七八糟\Fil.txt</span><br><span class="line">D:\放乱七八糟\File.txt</span><br><span class="line">D:\放乱七八糟\java8中文说明文档321456</span><br><span class="line">D:\放乱七八糟\第五章.ppt</span><br></pre></td></tr></table></figure>

<h3 id="递归"><a href="#递归" class="headerlink" title="递归"></a>递归</h3><p>递归的分类：1.直接递归和间接递归</p>
<p>直接递归：main(){</p>
<p>a()</p>
<p>}</p>
<p>a(){</p>
<p>a();自己调用自己</p>
<p>}</p>
<p>间接递归：b(){</p>
<p>c();}</p>
<p>c(){</p>
<p>b();}</p>
<p>注意事项：1.递归一定要有条件限定，保证递归能够停下来，否则会发生栈内存溢出</p>
<p>2.在递归中虽然有限定条件，但是递归次数不能太多，否则也会发生栈内存溢出</p>
<p>3.构造方法，禁止递归，编译错误，构造方法是创建对象时侯用的，一直递归会导致内存中有无数多个对象，直接编译报错</p>
<p><strong>递归地使用前提：当调用方法的时候，方法的主体不变，每次调用方法的参数不同，可以使用递归</strong></p>
<p><strong>为什么递归无限制会导致栈内存溢出</strong></p>
<p>a方法会在栈内存中一直调用a方法，就会导致栈内存中由无数多个a方法</p>
<p>方法太多了，超出栈内存的大小，就会导致内存溢出的错误</p>
<p>注意：</p>
<p>当一个方法调用其他方法时，被调用的方法没有执行完毕，当前方法就会一直等待低矮哦用的方法执行完毕才会继续执行</p>
<p><img src="C:\Users#赵梓皓&\AppData\Roaming\Typora\typora-user-images\image-20220629161813100.png" alt="image-20220629161813100"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">使用递归计算0到n之间的和</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Main</span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span> &#123;</span><br><span class="line">		<span class="type">int</span> s=Sum(<span class="number">3</span>);</span><br><span class="line">               System.out.println(s);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">Sum</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">		<span class="keyword">if</span>(n==<span class="number">1</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">		<span class="keyword">return</span> n+Sum(n-<span class="number">1</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>递归计算阶乘</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">	public static void main(String []args) &#123;</span><br><span class="line">		int s=Sum(7);</span><br><span class="line">	           System.out.println(s);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<pre><code>public static int Sum(int n) &#123;
    if(n==1)
        return 1;
    return n*Sum(n-1);
&#125;
</code></pre>
<p><strong>递归打印多级目录</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">遍历c:\\abc文件夹，及abc文件夹的子文件夹以及子文件夹中所有文件</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Main</span>&#123;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span>&#123;</span><br><span class="line">	File file=<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;d:\\放乱七八糟&quot;</span>);</span><br><span class="line">	getAllFile(file);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">getAllFile</span><span class="params">(File dir)</span> &#123;</span><br><span class="line">    System.out.println(dir);<span class="comment">//打印被遍历的目录</span></span><br><span class="line">	 File[]files=dir.listFiles();</span><br><span class="line">	 <span class="keyword">for</span>(File f:files) &#123;</span><br><span class="line">		 <span class="keyword">if</span>(f.isDirectory()) &#123;</span><br><span class="line">			 getAllFile(f);</span><br><span class="line">		 &#125;</span><br><span class="line">		 <span class="keyword">else</span></span><br><span class="line">		 &#123;</span><br><span class="line">			 System.out.println(f);</span><br><span class="line">		 &#125;</span><br><span class="line">	 &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="综合案例"><a href="#综合案例" class="headerlink" title="综合案例"></a>综合案例</h3><p>找出目录下文件中只有以.java为结尾的</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Main</span>&#123;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span>&#123;</span><br><span class="line">	File file=<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;D:\\同步空间\\新建文件夹&quot;</span>);</span><br><span class="line">	getAllFile(file);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">getAllFile</span><span class="params">(File dir)</span> &#123;</span><br><span class="line">   <span class="comment">// System.out.println(dir);</span></span><br><span class="line">	 File[]files=dir.listFiles();</span><br><span class="line">	 <span class="keyword">for</span>(File f:files) &#123;</span><br><span class="line">		 <span class="keyword">if</span>(f.isDirectory()) &#123;</span><br><span class="line">			 getAllFile(f);</span><br><span class="line">		 &#125;</span><br><span class="line">		 <span class="keyword">else</span></span><br><span class="line">		 &#123;</span><br><span class="line">			 <span class="comment">/*</span></span><br><span class="line"><span class="comment">			  * 只要.java结尾的文件</span></span><br><span class="line"><span class="comment">			  * 把File对象f转换为字符串对象</span></span><br><span class="line"><span class="comment">			  * String name=f.getName();</span></span><br><span class="line"><span class="comment">			  * String path=f.getPath();</span></span><br><span class="line"><span class="comment">			  * String s=f.toString();</span></span><br><span class="line"><span class="comment">			  * System.out.println(f);</span></span><br><span class="line"><span class="comment">			  */</span></span><br><span class="line">			 <span class="comment">/*</span></span><br><span class="line"><span class="comment">			  * 2.调用String类中的方法endswith判断字符串是否是以.java结尾</span></span><br><span class="line"><span class="comment">			  * </span></span><br><span class="line"><span class="comment">			  */</span></span><br><span class="line">			 String s=f.toString();</span><br><span class="line">             <span class="comment">//把字符串转换为小写</span></span><br><span class="line">             <span class="comment">//s=s.toLowerCase();</span></span><br><span class="line">			 <span class="type">boolean</span> b=s.endsWith(<span class="string">&quot;.java&quot;</span>);</span><br><span class="line">			 <span class="keyword">if</span>(b) &#123;</span><br><span class="line">				 System.out.println(f);</span><br><span class="line">			 &#125;</span><br><span class="line">		 &#125;</span><br><span class="line">	 &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>第二种方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(f.getName().toLowerCase().endsWith(<span class="string">&quot;.java&quot;</span>))</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">System.out.println(f);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>文件过滤器优化</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">需求：遍历某个文件夹，及其子文件夹，只要.java结尾的文件</span><br><span class="line"></span><br><span class="line">我们可以使用过滤器来实现，在File类中有两个和ListFiles重载的方法，方法的参数传递就是过滤器</span><br><span class="line"></span><br><span class="line">File[] listFiles(FileFilter filter)</span><br><span class="line"></span><br><span class="line">java.io.FileFilter接口：用于抽象路径名（File对象）的过滤器</span><br><span class="line"></span><br><span class="line">作用：用来过滤文件（File对象）</span><br><span class="line"></span><br><span class="line">抽象方法：用来过滤文件的方法</span><br><span class="line">boolean accept(File pathname)  测定指定抽象路径名是否应该包含在某一个路径名列表中</span><br><span class="line">参数：</span><br><span class="line">       File pathname 使用listFiles方法遍历目录，得到的每一个文件对象</span><br><span class="line"> File[] listFiles(FilenameFileter filter)</span><br><span class="line"> java.io.FilenameFilter接口：实现此接口的类实例可以用于过滤文件名</span><br><span class="line">       作用：用于过滤文件名称</span><br><span class="line">       抽象方法：用来过滤文件</span><br><span class="line">       boolean accept(File dir,String name)</span><br><span class="line">              参数：</span><br><span class="line">                    File dir:构造方法中传递的被遍历的目录，也就是除了最后一个之外的</span><br><span class="line">                    String name:使用ListFiles方法遍历目录，获取的每一个文件/文件夹的名称(也就是最后一个)</span><br><span class="line">注意：两个过滤器接口是没有实现类的，需要我们自己写实现类，重写过滤的方法accept，在方法中自己定义过滤的规则</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"><span class="comment">//创建过滤器FileFilter的实现类，重写过滤方法accept，定义过滤规则</span></span><br><span class="line"><span class="comment">//如果accept返回false就不会把这个文件对象放到文件对象数组中</span></span><br><span class="line"><span class="comment">//如果accept返回true就可以把这个文件对象放到文件对象数组中</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">FileFilterimpl</span> <span class="keyword">implements</span> <span class="title class_">FileFilter</span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">accept</span><span class="params">(File pathname)</span> &#123;</span><br><span class="line">        <span class="comment">//如果是文件夹就返回true，再下面检测出是文件夹会继续调用getAllFile方法</span></span><br><span class="line">		<span class="keyword">if</span>(pathname.isDirectory()) &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> pathname.getName().toLowerCase().endsWith(<span class="string">&quot;.md&quot;</span>);<span class="comment">//要到.md结尾的文件对象</span></span><br><span class="line">	</span><br><span class="line">		</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Main</span>&#123;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span>&#123;</span><br><span class="line">	File file=<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;D:\\同步空间\\新建文件夹&quot;</span>);</span><br><span class="line">	getAllFile(file);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">getAllFile</span><span class="params">(File dir)</span> &#123;</span><br><span class="line">   <span class="comment">// System.out.println(dir);</span></span><br><span class="line">	 File[]files=dir.listFiles(<span class="keyword">new</span> <span class="title class_">FileFilterimpl</span>());<span class="comment">//传递过滤器对象</span></span><br><span class="line">	 <span class="comment">/*</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">   * listFiles()方法做了三件事</span></span><br><span class="line"><span class="comment">     * 1.listFiles方法会对构造方法中传递的目录进行遍历，获取目录中的每一个文件/文件夹--&gt;封装为File对象</span></span><br><span class="line"><span class="comment">       * 2.listFiles会调用参数传递过程中的过滤器的方法accept</span></span><br><span class="line"><span class="comment">       * 3.listFiles方法会把遍历得到的每一个File对象传递给accept方法的参数叫pathname</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">          <span class="keyword">for</span>(File f:files) &#123;</span><br><span class="line">          <span class="keyword">if</span>(f.isDirectory()) &#123;</span><br><span class="line">          getAllFile(f);</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="keyword">else</span></span><br><span class="line">          &#123;</span><br><span class="line">          System.out.println(f);</span><br><span class="line">          &#125;</span><br><span class="line">          &#125;</span><br><span class="line">         &#125;</span><br><span class="line">         &#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>FileNameFilter过滤器的使用和Lambda优化程序</strong></p>
<p>当接口只有一个抽象方法的时候叫函数式接口此时可以用Lambda表达式来代替这个接口的实例化对像，要实现那一个抽象方法</p>
<p>匿名内部类是当这个接口的实例化对象只用一次时可以用来代替，要实现接口的所有抽象方法</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">class Main&#123;</span><br><span class="line">public static void main(String []args)&#123;</span><br><span class="line">	File file=new File(&quot;D:\\同步空间\\新建文件夹&quot;);</span><br><span class="line">	getAllFile(file);</span><br><span class="line">&#125;</span><br><span class="line">public static void getAllFile(File dir) &#123;;</span><br><span class="line">	 File[]files=dir.listFiles(new FilenameFilter() &#123;</span><br></pre></td></tr></table></figure>

<pre><code>    @Override
    public boolean accept(File dir, String name) &#123;
    return new File(dir,name).isDirectory()||name.toLowerCase().endsWith(&quot;.md&quot;);
    &#125;
     
 &#125;);//传递过滤器对象

    for(File f:files) &#123;
    if(f.isDirectory()) &#123;
    getAllFile(f);
    &#125;
    else
    &#123;
    System.out.println(f);
    &#125;
    &#125;
   &#125;
   &#125;
</code></pre>
<h1 id="java的IO"><a href="#java的IO" class="headerlink" title="java的IO"></a>java的IO</h1><h2 id="io概述"><a href="#io概述" class="headerlink" title="io概述"></a>io概述</h2><p><img src="C:\Users#赵梓皓&\AppData\Roaming\Typora\typora-user-images\image-20220630092834626.png" alt="image-20220630092834626"></p>
<h3 id="字符和Ascii码的转换问题"><a href="#字符和Ascii码的转换问题" class="headerlink" title="字符和Ascii码的转换问题"></a>字符和Ascii码的转换问题</h3><p>字符强转为(int)是获得它的Ascii码值</p>
<pre><code>char a=&#39;a&#39;;
int b=(int)a;
System.out.println(b);
结果：97
</code></pre>
<p>ascii码值强转为char就是获得字符</p>
<pre><code>    int a =97;
char b=(char)a;
System.out.println(b);
结果：a
</code></pre>
<p>将字符1转换为数字1</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> a=<span class="string">&#x27;1&#x27;</span>;</span><br><span class="line">System.out.println(a-<span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">结果：<span class="number">1</span></span><br></pre></td></tr></table></figure>



<h2 id="字节流"><a href="#字节流" class="headerlink" title="字节流"></a>字节流</h2><p>一切文件数据在存储时，都是以二进制数字的形式保存，都一个一个的字节，那么传输时一样如此。所以，字节流可以传输任意文件数据。在操作流的时候，我们要时刻明确，无论使用什么样的流对象，底层传输的始终为二进制数据</p>
<p>在Ascii码中一个英文字符占用一个字节，一个汉字字符占用两个字节的空间</p>
<p>在unicode编码中，一个英文字符占用两个字节一个汉字字符也占用两个字节</p>
<p>UTF-8中，一个英文字符占用一个字节，一个汉字字符占用三个字节空间</p>
<h3 id="字节输出流（OutputStream和FileOutputStream介绍）"><a href="#字节输出流（OutputStream和FileOutputStream介绍）" class="headerlink" title="字节输出流（OutputStream和FileOutputStream介绍）"></a>字节输出流（OutputStream和FileOutputStream介绍）</h3><ul>
<li><p>&#96;&#96;&#96;java</p>
<ul>
<li>java.io.OutputStream 字节输出流 这个抽象类是表示字节输出流的所有类的超类</li>
<li>定义了一些子类共性的成员方法</li>
<li>public void close() :关于此输出流并释放与此流相关联的任何系统资源</li>
<li>public void flush():刷新此输出流并强制任何缓冲的输出字节被写出</li>
<li>public void write(byte[] b):将 b.length字节从指定的字节数组写入此输出流。</li>
<li>public void write(byte[] b, int off, int len):从指定的字节数组写入 len个字节，从偏移 off开始输出到此输出流。</li>
<li>pubic void write(int b):将指定的字节写入此输出流。 </li>
<li>java.io.FileOutputStream extends OutputStream</li>
<li>FileOutputStream:文件字节输出流</li>
<li>作用：把内存中的数据给写入到硬盘的文件中</li>
<li></li>
<li>构造方法：</li>
<li>FileOutputStream(File file)<br>创建文件输出流以写入由指定的 File对象表示的文件。<br> FileOutputStream(String name)<br> 创建文件输出流以指定的名称写入文件。<br>构造方法作用<br>1.创建一个FileOutputStream对象<br>2.会根据构造方法中传递的文件&#x2F;文件路径，创建一个空的文件<br>3.会把FileOutputStream对象指向创建好的文件<br> *&#x2F;</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">​     **pubic void write(int b)**</span><br><span class="line"></span><br><span class="line">​            写入数据的原理（内存到硬盘）：</span><br><span class="line"></span><br><span class="line">​            java程序--&gt;jvm(虚拟机)--&gt;os（操作系统）--&gt;os调用写数据的方法--&gt;把数据写入文件夹中</span><br><span class="line"></span><br><span class="line">字节输出流的使用步骤（重点）</span><br><span class="line"></span><br><span class="line">   1.创建一个FileOutputStream对象，构造方法中传递写入数据的目的地</span><br><span class="line"></span><br><span class="line">   2.调用FileOutputStream对象中的方法write，把数据写入到文件中</span><br><span class="line"></span><br><span class="line">  3.释放资源（流使用会占用一定的内存，使用完毕后把内存清空，提供程序效率）</span><br><span class="line"></span><br><span class="line">	public static void main(String[]args) throws IOException &#123;</span><br><span class="line">		//创建一个FileOutputStream对象，构造方法中传递写入数据的目的地</span><br><span class="line">		FileOutputStream fos=new FileOutputStream(&quot;D:\\放乱七八糟\\a.txt&quot;);</span><br><span class="line">		//调用FileOutputStream对象中的方法write，把数据写入到文件中</span><br><span class="line">		fos.write(97);//这个只能写入一个字节的大小的内容，97是这个字节对应的ASCII码值</span><br><span class="line">		//释放资源（流使用会占用一定的内存，使用完毕后把内存清空，提供程序效率）</span><br><span class="line">		fos.close();</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">![image-20220630102639535](C:\Users\#赵梓皓&amp;\AppData\Roaming\Typora\typora-user-images\image-20220630102639535.png)</span><br><span class="line"></span><br><span class="line">原理就是：97回先转换为二进制数储存在硬盘（文件）中，当用任何文本编辑器（记事本，notepad）再打开文件的时候，都会查询编码表，把字节转换为字符表示，0-127查询ASCII表        其他值：查询系统默认码表（中文windows系统GBK）</span><br><span class="line"></span><br><span class="line">我的电脑记事本查询的是UTF-8</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">**一次写多个字节的方法**</span><br><span class="line"></span><br><span class="line">**public void write(byte[] b):将 b.length字节从指定的字节数组写入此输出流。**</span><br><span class="line"></span><br><span class="line">一次写多个字节： </span><br><span class="line"></span><br><span class="line">​          如果写的第一个字节是正数（0-127），那么显示的时候会查询ASCII表</span><br><span class="line"></span><br><span class="line">​          如果写入的第一个字节是负数，那第一个字节会和第二个字节，两个字节组成一个中文显示，查询系统默认码表（中文系统GBK）</span><br><span class="line"></span><br><span class="line">	第一个例子</span><br><span class="line">	public static void main(String[]args) throws IOException &#123;</span><br><span class="line">		//创建一个FileOutputStream对象，构造方法中传递写入数据的目的地</span><br><span class="line">		FileOutputStream fos=new FileOutputStream(&quot;D:\\放乱七八糟\\a.txt&quot;);</span><br><span class="line">	    //调用FileOutputStream对象中的方法write，把数据写入到文件中</span><br><span class="line">		//在文件中显示100，写入3个字节</span><br><span class="line">	byte []bytes= &#123;49,48,48&#125;;</span><br><span class="line">	fos.write(bytes);</span><br><span class="line">		//释放资源</span><br><span class="line">		fos.close();</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">第二个例子</span><br><span class="line"></span><br><span class="line">	public static void main(String[]args) throws IOException &#123;</span><br><span class="line">		//创建一个FileOutputStream对象，构造方法中传递写入数据的目的地</span><br><span class="line">		FileOutputStream fos=new FileOutputStream(&quot;D:\\放乱七八糟\\a.txt&quot;);</span><br><span class="line">	    //调用FileOutputStream对象中的方法write，把数据写入到文件中</span><br><span class="line">		//在文件中显示100，写入3个字节</span><br><span class="line">	byte []bytes= &#123;-65,-66,-67,68,69&#125;;</span><br><span class="line">	fos.write(bytes);</span><br><span class="line">		//释放资源</span><br><span class="line">		fos.close();</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	文件写入结果：</span><br><span class="line">	          烤紻E就是前两个加起来组成一个系统默认码，后两个是一个组成一个系统默认码，最后一个时Ascii码</span><br><span class="line"></span><br><span class="line">**public void write(byte[] b, int off, int len):从指定的字节数组写入 len个字节，从偏移 off开始输出到此输出流。**</span><br><span class="line"></span><br><span class="line">把字节数组的一部分写入到文件中</span><br><span class="line"></span><br><span class="line">	public static void main(String[]args) throws IOException &#123;</span><br><span class="line">		//创建一个FileOutputStream对象，构造方法中传递写入数据的目的地</span><br><span class="line">		FileOutputStream fos=new FileOutputStream(&quot;D:\\放乱七八糟\\a.txt&quot;);</span><br><span class="line">	    //调用FileOutputStream对象中的方法write，把数据写入到文件中</span><br><span class="line">	byte []bytes= &#123;-65,-66,-67,68,69&#125;;</span><br><span class="line">	fos.write(bytes,1,3);//从字节数组的下标1开始写入三个字节</span><br><span class="line">		//释放资源</span><br><span class="line">		fos.close();</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">写入字符的方法，可以使用String类方法把字符串，转换为字节数组，byte []getBytes()         把字符串转换为字节数组</span><br><span class="line"></span><br><span class="line">		public static void main(String[]args) throws IOException &#123;</span><br><span class="line">			//创建一个FileOutputStream对象，构造方法中传递写入数据的目的地</span><br><span class="line">			FileOutputStream fos=new FileOutputStream(&quot;D:\\放乱七八糟\\a.txt&quot;);</span><br><span class="line">	             byte []bytes=&quot;你好&quot;.getBytes();</span><br><span class="line">	             System.out.println(Arrays.toString(bytes));//结果[-60, -29, -70, -61]</span><br><span class="line">	             //中文在eclipse中默认编码是GBK编码所以是一个中文两个字节</span><br><span class="line">	             //  如果写入的第一个字节是负数，那第一个字节会和第二个字节，两个字节组成一个中文显示，查询系统默认码表（中文系统GBK）</span><br><span class="line">	             fos.write(bytes);</span><br><span class="line">	             fos.close();</span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line">	文件写入结果：</span><br><span class="line">	          你好</span><br><span class="line"></span><br><span class="line">**数据的追加写和换行写**</span><br><span class="line"></span><br><span class="line">上面的方法都是将文件中原有的东西覆盖掉</span><br><span class="line"></span><br><span class="line">下面是追加写,续写</span><br><span class="line"></span><br><span class="line">FileOutputStream(String name,  boolean append)创建文件输出流以指定的名称写入文件。</span><br><span class="line"></span><br><span class="line">FileOutputStream(File file,  boolean append)创建文件输出流以写入由指定的 File对象表示的文件。</span><br><span class="line"></span><br><span class="line">​       参数：</span><br><span class="line"></span><br><span class="line">​                 String name File file：写入数据的目的地</span><br><span class="line"></span><br><span class="line">​                 boolean append ：追加写开关  true ：创建对象不会覆盖源文件，继续在文件的末尾追加写数据</span><br><span class="line"></span><br><span class="line">​                                                                         false：创建一个新文件，覆盖原文件，在新文件中重新写数据</span><br><span class="line"></span><br><span class="line">		//创建一个FileOutputStream对象，构造方法中传递写入数据的目的地</span><br><span class="line">		FileOutputStream fos=new FileOutputStream(&quot;D:\\放乱七八糟\\a.txt&quot;,true);//追加写</span><br><span class="line">		fos.write(&quot;你好&quot;.getBytes());</span><br><span class="line">		fos.close();</span><br><span class="line">		源文件内容：你好</span><br><span class="line">		程序执行之后：你好你好</span><br><span class="line"></span><br><span class="line">**换行**</span><br><span class="line"></span><br><span class="line">写换行符号：windows   \r\n</span><br><span class="line"></span><br><span class="line">​                       linux:/n</span><br><span class="line"></span><br><span class="line">​                       mac:/r</span><br><span class="line"></span><br><span class="line">		//创建一个FileOutputStream对象，构造方法中传递写入数据的目的地</span><br><span class="line">		FileOutputStream fos=new FileOutputStream(&quot;D:\\放乱七八糟\\a.txt&quot;,true);//追加写</span><br><span class="line">	     for(int i=1;i&lt;=10;i++) &#123;</span><br><span class="line">		fos.write(&quot;你好&quot;.getBytes());</span><br><span class="line">	     fos.write(&quot;\r\n&quot;.getBytes());</span><br><span class="line">	     &#125;</span><br><span class="line">		fos.close();</span><br><span class="line">		文件添加结果：</span><br><span class="line">		你好</span><br><span class="line">	你好</span><br><span class="line">	你好</span><br><span class="line">	你好</span><br><span class="line">	你好</span><br><span class="line">	你好</span><br><span class="line">	你好</span><br><span class="line">	你好</span><br><span class="line">	你好</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">​		</span><br><span class="line"></span><br><span class="line">### 字节输入流（InputStream）</span><br><span class="line"></span><br><span class="line">FileInputStream和InputStream的介绍</span><br><span class="line"></span><br><span class="line">java.io.InputStream抽象类时表示字节输入流的所有类的超类，可以读取字节信息到内存中，它定义了字节输入流的基本共性功能方法</span><br><span class="line"></span><br><span class="line">定义了所有子类的共性的方法：</span><br><span class="line"></span><br><span class="line">​              int  `read()`  从输入流读取数据的下一个字节。返回读取的那一个字节的内容</span><br><span class="line"></span><br><span class="line">​               int  `read(byte[] b)`  从输入流读取一些字节数，并将它们存储到缓冲区 `b` 。返回读取的字节数，读取的内容储存在参数数组</span><br><span class="line"></span><br><span class="line">​               void `close()`  关闭此输入流并释放与流相关联的任何系统资源。</span><br><span class="line"></span><br><span class="line">java.io.FileInputStream extends InputStream</span><br><span class="line"></span><br><span class="line">FileInputStream  :文件字节输入流</span><br><span class="line"></span><br><span class="line">作用：把硬盘文件中的数据，读取到内存中使用</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">构造方法：`FileInputStream(String name)` </span><br><span class="line"></span><br><span class="line">- - `FileInputStream(File file)` </span><br><span class="line">  - 参数：读取文件的数据源</span><br><span class="line">  - ​              String name是文件的路径</span><br><span class="line">  - ​              File file就是一个文件对象</span><br><span class="line">  - 构造方法的作用：</span><br><span class="line">  - ​             1.会创建一个FileInputStream对象</span><br><span class="line">  - ​              2.会把FileInputStream对象指定构造方法中要读取的文件</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">读取数据的原理（硬盘--&gt;内存）：</span><br><span class="line"></span><br><span class="line">​          java程序--&gt;jvm--&gt;os--&gt;os读取数据的方法--&gt;读取文件</span><br><span class="line"></span><br><span class="line">字节输入流的使用步骤：</span><br><span class="line"></span><br><span class="line">​               1.创建FileInputStream对象，构造方法中绑定要读取的数据源</span><br><span class="line"></span><br><span class="line">​                2.使用FileInputStream对象中的方法read，读取文件</span><br><span class="line"></span><br><span class="line">​                3.释放资源</span><br><span class="line"></span><br><span class="line">```java</span><br><span class="line">//1.创建FileInputStream对象，构造方法中绑定要读取的数据源</span><br><span class="line">	FileInputStream fos=new FileInputStream(&quot;D:\\放乱七八糟\\a.txt&quot;);</span><br><span class="line">	//2.使用FileInputStream对象中的方法read，读取文件</span><br><span class="line">	int len=fos.read();//读取文件中的一个字节并返回，读取到文件末尾返回-1</span><br><span class="line">     //读取读入的那一个字节</span><br><span class="line">	System.out.println(len);</span><br><span class="line">	len=fos.read();//每次read文件中的文件指针会向后移动一位</span><br><span class="line">	System.out.println(len);</span><br><span class="line">	len=fos.read();</span><br><span class="line">	System.out.println(len);</span><br><span class="line">	len=fos.read();</span><br><span class="line">	System.out.println(len);</span><br><span class="line">	len=fos.read();</span><br><span class="line">	System.out.println(len);</span><br><span class="line">	len=fos.read();</span><br><span class="line">	System.out.println(len);</span><br><span class="line">	fos.close();</span><br><span class="line">	</span><br></pre></td></tr></table></figure></li>
</ul>
<p>&#x2F;* 发现以上读取文件是一个重复的过程，所以可以使用循环优化，不知道文件中有多少字节，使用while循环，while循环结束条件，读取到-1时结束*&#x2F;</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">FileInputStream fos=<span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;D:\\放乱七八糟\\a.txt&quot;</span>);</span><br><span class="line">       <span class="type">int</span> len=<span class="number">0</span>;</span><br><span class="line">       <span class="keyword">while</span>((len=fos.read())!=-<span class="number">1</span>) &#123;</span><br><span class="line">    	   System.out.println((<span class="type">char</span>)(len));</span><br><span class="line">       &#125;</span><br><span class="line">       fos.close();</span><br><span class="line">	</span><br></pre></td></tr></table></figure>

<p>字节输入流一次读取一个字节的原理</p>
<p><img src="C:\Users#赵梓皓&\AppData\Roaming\Typora\typora-user-images\image-20220630172509475.png" alt="image-20220630172509475"></p>
<p>java程序–&gt;jvm–&gt;os–&gt;os读取数据的方法–&gt;读取文件</p>
<p>每次读取结束，文件下标就会向后移一个</p>
<p><strong>字节输入流一次读取多个字节</strong></p>
<p>方法的参数byte[]作用</p>
<p>​         起到缓冲的作用，存储每次读取到的多个字节</p>
<p>​         数组的长度一般定义为1024（1kb）或者是1024的整数倍</p>
<p>int的返回值是什么</p>
<p>​          每次读取到的有效字节个数</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">   <span class="type">int</span>  `read(<span class="type">byte</span>[] b)`  从输入流读取一些字节数，并将它们存储到缓冲区 `b` 。</span><br><span class="line">       返回值是读入了多少个字节</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[]args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">	</span><br><span class="line">	FileInputStream fis=<span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;D:\\放乱七八糟\\a.txt&quot;</span>);</span><br><span class="line">	<span class="comment">//读取文件，指定读取多少字节</span></span><br><span class="line">	<span class="type">byte</span> []bytes=<span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">2</span>];</span><br><span class="line">	<span class="type">int</span> len=fis.read(bytes);</span><br><span class="line">	System.out.println(len);<span class="comment">//2</span></span><br><span class="line">	System.out.println(Arrays.toString(bytes));<span class="comment">//65,66</span></span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment">	 * String类的构造方法</span></span><br><span class="line"><span class="comment">	 * String(byte[] bytes) </span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">通过使用平台的默认字符集解码指定的字节数组来构造新的 String 。</span></span><br><span class="line"><span class="comment">String(byte[] bytes, int offset, int length) </span></span><br><span class="line"><span class="comment">通过使用平台的默认字符集解码指定的字节子阵列来构造新的 String offset是开始的下标，length是长度。</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	System.out.println(<span class="keyword">new</span> <span class="title class_">String</span>(bytes));<span class="comment">//AB</span></span><br><span class="line"></span><br><span class="line">	len=fis.read(bytes);</span><br><span class="line">	System.out.println(len);<span class="comment">//2,返回的是读到的字节的个数，没读到返回-1</span></span><br><span class="line">	System.out.println(<span class="keyword">new</span> <span class="title class_">String</span>(bytes));<span class="comment">//CD</span></span><br><span class="line">	len=fis.read(bytes);</span><br><span class="line">	System.out.println(len);<span class="comment">//1</span></span><br><span class="line">	System.out.println(<span class="keyword">new</span> <span class="title class_">String</span>(bytes));<span class="comment">//ED</span></span><br><span class="line">	len=fis.read(bytes);</span><br><span class="line">	System.out.println(len);<span class="comment">//-1</span></span><br><span class="line">	System.out.println(<span class="keyword">new</span> <span class="title class_">String</span>(bytes));<span class="comment">//ED</span></span><br><span class="line">	fis.close();</span><br><span class="line"></span><br><span class="line">   </span><br></pre></td></tr></table></figure>


<pre><code>&#125;
</code></pre>
<p><img src="C:\Users#赵梓皓&\AppData\Roaming\Typora\typora-user-images\image-20220630194653667.png" alt="image-20220630194653667"></p>
<p>第三次读取时只读取到一个E，故len返回1，而且byte数组的第二个位置没有被重新覆盖掉所以剩下的东西还是D，所以第三次输出数组还是ED，第四次没有东西读，所以返回-1结束标记，数组里还是上次的东西DE</p>
<p>循环优化</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[]args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line"></span><br><span class="line">FileInputStream fis=<span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;D:\\放乱七八糟\\a.txt&quot;</span>);</span><br><span class="line"><span class="comment">//读取文件，指定读取多少字节</span></span><br><span class="line"><span class="type">byte</span> []bytes=<span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line"><span class="type">int</span> len=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span>((len=fis.read(bytes))!=-<span class="number">1</span>) &#123;</span><br><span class="line">	<span class="comment">//String(byte[] bytes, int offset, int length) </span></span><br><span class="line">	<span class="comment">//通过使用平台的默认字符集解码指定的字节子阵列来构造新的 String offset是开始的下标，length是长度。</span></span><br><span class="line">	System.out.println(<span class="keyword">new</span> <span class="title class_">String</span>(bytes,<span class="number">0</span>,<span class="number">5</span>));</span><br><span class="line">&#125;</span><br><span class="line">fis.close();</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="字节流练习"><a href="#字节流练习" class="headerlink" title="字节流练习"></a>字节流练习</h3><p>复制文件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">public static void main(String []args) throws IOException &#123;</span><br><span class="line">		FileInputStream fis=new FileInputStream(&quot;C:\\Users\\#赵梓皓&amp;\\Pictures\\Default.jpg&quot;);</span><br><span class="line">		FileOutputStream fos=new FileOutputStream(&quot;D:\\放乱七八糟\\a.jpg&quot;);</span><br><span class="line">		int len=0;</span><br><span class="line">		读取之后再写入</span><br><span class="line">		while((len=fis.read())!=-1) &#123;</span><br><span class="line">			fos.write(len);	</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line">			fos.close();//先关写的</span><br><span class="line">	fis.close();//后关闭读的，如果写完了，肯定读取完毕了</span><br><span class="line">	&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>更高效率</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">	FileInputStream fis=<span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;C:\\Users\\#赵梓皓&amp;\\Pictures\\Default.jpg&quot;</span>);</span><br><span class="line">	FileOutputStream fos=<span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;D:\\放乱七八糟\\a.jpg&quot;</span>);</span><br><span class="line">	<span class="type">int</span> len=<span class="number">0</span>;</span><br><span class="line">	<span class="type">byte</span> []bytes=<span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line">	<span class="keyword">while</span>((len=fis.read(bytes))!=-<span class="number">1</span>) &#123;</span><br><span class="line">		fos.write(bytes,<span class="number">0</span>,len);</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	fos.close();<span class="comment">//先关写的</span></span><br><span class="line">	fis.close();<span class="comment">//后关闭读的，如果写完了，肯定读取完毕了</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<pre><code>public static void main(String []args) throws IOException &#123;
    long s=System.currentTimeMillis();
    FileInputStream fis=new FileInputStream(&quot;C:\\Users\\#赵梓皓&amp;\\Pictures\\Default.jpg&quot;);
    FileOutputStream fos=new FileOutputStream(&quot;D:\\放乱七八糟\\a.jpg&quot;);
    int len=0;
    byte []bytes=new byte[1024];
    while((len=fis.read(bytes))!=-1) &#123;
        fos.write(bytes,0,len);
        
    &#125;
    fos.close();//先关写的
    fis.close();//后关闭读的，如果写完了，肯定读取完毕了
    long e=System.currentTimeMillis();
    System.out.println(&quot;复制文件共耗时&quot;+(e-s)+&quot;毫秒&quot;);
&#125;
</code></pre>
<h2 id="字符流"><a href="#字符流" class="headerlink" title="字符流"></a>字符流</h2><p>一个中文 </p>
<p>​            GBK:占用两个字节</p>
<p>​            UTF-8：占用3个字节</p>
<p>所以在从硬盘文件中读入中文时没有很好的办法读入中文</p>
<p>使用字节流读取中文文件会产生乱码</p>
<h3 id="字符输入流Reader和FileReader类"><a href="#字符输入流Reader和FileReader类" class="headerlink" title="字符输入流Reader和FileReader类"></a>字符输入流Reader和FileReader类</h3><p>Reader定义 的一些子类公用的方法,它是字符输入流最顶级的父类</p>
<ul>
<li><ul>
<li><code>int read()</code>  读一个字符并返回</li>
</ul>
</li>
<li><ul>
<li><code>int read(char[] cbuf)</code>  将字符读入数组  用来一次读取多个字符，返回读取的字符个数。</li>
<li>void close()   关闭流并释放与之相关联的任何系统资源。</li>
</ul>
</li>
</ul>
<p>java.io.FileReader extends InputStreamReader extends Reader</p>
<p>​       FileReader:文件字符输入流</p>
<p>​       作用：把硬盘文件中的数据以字符的方式读取到内存中</p>
<p>构造方法：</p>
<p>​                 1.<code>FileReader(String fileName)</code>  创建一个新的 <code>FileReader</code> ，给定要读取的文件的名称。</p>
<p>​                  2.<code>FileReader(File file)</code>  创建一个新的 <code>FileReader</code> ，给出 <code>File</code>读取。</p>
<p>作用：创建一个FileReader对象</p>
<p>​            会把FileReader对象指向要读取的文件</p>
<p>​     参数：String fileName和File file是数据来源</p>
<pre><code>#### 读取字符数据（以及编码问题）
</code></pre>
<p>一次读取一个字节</p>
<p><code>int read()</code>  读一个字符并返回   每次只读取一个字符无论是中文还是英文还是数字</p>
<pre><code>public static void main(String []args) throws IOException &#123;
    FileReader fis=new FileReader(&quot;D:\\放乱七八糟\\File.txt&quot;);
    int len=0;
    while((len=fis.read())!=-1) &#123;
        System.out.println((char)len);
    &#125;
    fis.close();
&#125;
</code></pre>
<p>这里出现了一点小插曲，因为我的电脑记事本默认是UTF-8编码，但eclipse默认编码是GBK所以会出现错误</p>
<p>我把电脑记事本编码转换为ASNI也就是默认是windows中文默认的GBK编码然后就可以实现了</p>
<p><code>int read(char[] cbuf)</code>  将字符读入数组  用来一次读取多个字符，返回读取的字符个数。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">	FileReader fis=<span class="keyword">new</span> <span class="title class_">FileReader</span>(<span class="string">&quot;D:\\放乱七八糟\\File.txt&quot;</span>);</span><br><span class="line">	<span class="type">char</span>[] cs=<span class="keyword">new</span> <span class="title class_">char</span>[<span class="number">1024</span>];<span class="comment">//存储读取到的多个字符</span></span><br><span class="line">	<span class="type">int</span> len=<span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span>((len=fis.read(cs))!=-<span class="number">1</span>) &#123;</span><br><span class="line">		System.out.println(<span class="keyword">new</span> <span class="title class_">String</span>(cs));</span><br><span class="line">		System.out.println(<span class="keyword">new</span> <span class="title class_">String</span>(cs,<span class="number">0</span>,len));<span class="comment">//0是开始的索引，len是转换的个数</span></span><br><span class="line">	&#125;</span><br><span class="line">	fis.close();</span><br><span class="line">&#125;</span><br><span class="line">读取文件的结果</span><br><span class="line">    <span class="number">123</span>你好</span><br><span class="line">    <span class="number">123</span>你好</span><br></pre></td></tr></table></figure>

<h3 id="字符输出流"><a href="#字符输出流" class="headerlink" title="字符输出流"></a>字符输出流</h3><p>Writer类和FileWriter类的介绍</p>
<p>Writer是字符输出流最顶层的父类</p>
<p>定义了一些共性的方法</p>
<ul>
<li><ul>
<li><code>void write(String str)</code>  写一个字符串</li>
</ul>
</li>
<li><ul>
<li><code>void write(String str,  int off, int len)</code>  写一个字符串的一部分。</li>
</ul>
</li>
<li><ul>
<li><code>void write(int c)</code>  写一个字符</li>
</ul>
</li>
<li><ul>
<li><code>void flush()</code>  刷新流</li>
</ul>
</li>
</ul>
<p>子类：FileWriter</p>
<p>java.io.FileWriter extends OutputStreamWriter extends Writer</p>
<p>FileWriter:文件字符输出流</p>
<p>作用：把内存中的字符数据写入到文件中</p>
<p>构造方法：</p>
<p>​         <code>FileWriter(File file)</code>  给一个File对象构造一个FileWriter对象。 </p>
<p>​         <code>FileWriter(String fileName)</code>  构造一个给定文件名的FileWriter对象。</p>
<p>​         参数：写入数据的目的地</p>
<p>​                 String fileName：文件的路径 </p>
<p>​                 File file：是一个文件</p>
<p>​      构造方法的作用：</p>
<p>​                   1.会创建一个FileWriter的对象</p>
<p>​                   2.会根据构造方法中传递的文件&#x2F;文件的路径，创建文件</p>
<p>​                   3.会把FileWriter对象指向创建好的文件</p>
<p><strong>写出单个字符到文件</strong>      </p>
<p>字符输出流的使用步骤：</p>
<p>​           1.创建FileWriter对象，构造方法中绑定要写入数据的目的地</p>
<p>​             2.使用FileWriter中的方法write，把数据写到内存缓冲区中（字符转换字节的过程）</p>
<p>​             3.使用FileWriter中的方法flush，把内存缓冲区中的数据，刷新到文件中</p>
<p>​            4.释放资源（会先把内存缓冲区的数据刷新到文件中）所以其实不用flush</p>
<p>如果没有调用flush或者close方法那么文件中将不会写入内容，因为write方法是把数据写到内存缓冲区</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">     <span class="comment">//1.创建FileWriter对象，构造方法中绑定要写入数据的目的地</span></span><br><span class="line">     FileWriter fw=<span class="keyword">new</span> <span class="title class_">FileWriter</span>(<span class="string">&quot;D:\\放乱七八糟\\File.txt&quot;</span>);</span><br><span class="line">     <span class="comment">//   2.使用FileWriter中的方法write，把数据写到内存缓冲区中（字符转换字节的过程）</span></span><br><span class="line">     fw.write(<span class="number">97</span>);</span><br><span class="line">     <span class="comment">//3 3.使用FileWriter中的方法flush，把内存缓冲区中的数据，刷新到文件中</span></span><br><span class="line">     fw.flush();</span><br><span class="line">     fw.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>flush方法和close方法的区别</strong></p>
<p>flush：刷新缓冲区，流对象可以继续使用</p>
<p>close：先刷新缓冲区，然后通知系统释放资源，流对象不可以再被使用了</p>
<p><strong>字符输出流写数据的其他方法</strong></p>
<p>void write(char []cbuf)写入字符数组</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">FileWriter fw=<span class="keyword">new</span> <span class="title class_">FileWriter</span>(<span class="string">&quot;D:\\放乱七八糟\\File.txt&quot;</span>);</span><br><span class="line"><span class="type">char</span> []cs= &#123;<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>,<span class="string">&#x27;d&#x27;</span>,<span class="string">&#x27;e&#x27;</span>&#125;;</span><br><span class="line">fw.write(cs);</span><br><span class="line">fw.close();</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>

<p>void write(char []cbuf,int off,int len)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">FileWriter fw=<span class="keyword">new</span> <span class="title class_">FileWriter</span>(<span class="string">&quot;D:\\放乱七八糟\\File.txt&quot;</span>);</span><br><span class="line"><span class="type">char</span> []cs= &#123;<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>,<span class="string">&#x27;d&#x27;</span>,<span class="string">&#x27;e&#x27;</span>&#125;;</span><br><span class="line">fw.write(cs,<span class="number">0</span>,<span class="number">2</span>);<span class="comment">//从下标为零开始，读取两个字符</span></span><br><span class="line">fw.close();</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>

<p>void write(String str)写入字符串</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">FileWriter fw=<span class="keyword">new</span> <span class="title class_">FileWriter</span>(<span class="string">&quot;D:\\放乱七八糟\\File.txt&quot;</span>);</span><br><span class="line">String a=<span class="string">&quot;你好&quot;</span>;</span><br><span class="line">fw.write(a);</span><br><span class="line">fw.close();</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>

<p>void write(String str,int off,int len)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">FileWriter fw=<span class="keyword">new</span> <span class="title class_">FileWriter</span>(<span class="string">&quot;D:\\放乱七八糟\\File.txt&quot;</span>);</span><br><span class="line">String a=<span class="string">&quot;你好我是java程序员&quot;</span>;</span><br><span class="line">fw.write(a,<span class="number">0</span>,<span class="number">4</span>);<span class="comment">//从下标为零然后读取四个字符</span></span><br><span class="line">fw.close();</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>

<p><strong>字符输出流写数据的续写和换行</strong></p>
<p>续写：</p>
<p>​          下面是追加写,续写</p>
<p>FileWriter(String name,  boolean append)创建文件输出流以指定的名称写入文件。</p>
<p>FileWriter(File file,  boolean append)创建文件输出流以写入由指定的 File对象表示的文件。</p>
<p>​       参数：</p>
<p>​                 String name File file：写入数据的目的地</p>
<p>​                 boolean append ：追加写开关  true ：创建对象不会覆盖源文件，继续在文件的末尾追加写数据</p>
<p>​                                                                         false：创建一个新文件，覆盖原文件，在新文件中重新写数据</p>
<p>换行：换行符号</p>
<p>​            windows：\r\n</p>
<p>​             Linux:&#x2F;n</p>
<p>​             mac:&#x2F;r</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">FileWriter fw=<span class="keyword">new</span> <span class="title class_">FileWriter</span>(<span class="string">&quot;D:\\放乱七八糟\\File.txt&quot;</span>,<span class="literal">true</span>);</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++) &#123;</span><br><span class="line">	fw.write(<span class="string">&quot;HelloWorld&quot;</span>+i+<span class="string">&quot;\r\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">fw.close();</span><br><span class="line">	&#125;</span><br><span class="line">文件内容：</span><br><span class="line">    你好我是HelloWorld0</span><br><span class="line">HelloWorld1</span><br><span class="line">HelloWorld2</span><br><span class="line">HelloWorld3</span><br><span class="line">HelloWorld4</span><br><span class="line">HelloWorld5</span><br><span class="line">HelloWorld6</span><br><span class="line">HelloWorld7</span><br><span class="line">HelloWorld8</span><br><span class="line">HelloWorld9</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="IO异常的处理"><a href="#IO异常的处理" class="headerlink" title="IO异常的处理"></a>IO异常的处理</h2><p>fw.close要放在finally中因为程序无论是否报错都得有这个流的关闭</p>
<p>同时fw.close也有异常，所以在fianally里要嵌套一个trycatch</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">public static void main(String []args) &#123;</span><br><span class="line">		//提高变量fw的作用域，让finally可以使用</span><br><span class="line">		//变量在定义的时候可以没有值，但是使用的时候必须有值</span><br><span class="line">		//如果下面new执行失败了，则fw没有值，fw.close()会报错，所以</span><br><span class="line">		FileWriter fw=null;</span><br><span class="line">		try &#123;</span><br><span class="line">			//可能会产出异常的代码</span><br><span class="line">			 fw=new FileWriter(&quot;w:\\放乱七八糟\\File.txt&quot;,true);</span><br><span class="line">for(int i=0;i&lt;10;i++) &#123;</span><br><span class="line">	fw.write(&quot;HelloWorld&quot;+i+&quot;\r\n&quot;);</span><br><span class="line">&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		catch(IOException e) &#123;</span><br><span class="line">			System.out.println(e);</span><br><span class="line">		&#125;</span><br><span class="line">		finally &#123;</span><br><span class="line">			//一定会指定的代码</span><br><span class="line">			//创建对象失败了，fw的默认值就是null，null是不能调用方法的，会抛出NullPointerException，需要增加一个判断，不是null再把资源释放</span><br><span class="line">					if(fw!=null)&#123;</span><br><span class="line">try &#123;</span><br><span class="line">	//fw.close方法声明抛出了IOException异常对象，所以我们就处理这个异常对象，要么throws要么trycatch</span><br><span class="line">	fw.close();</span><br><span class="line">&#125; catch (IOException e) &#123;</span><br><span class="line">	e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">		&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>JDK7新特性</strong></p>
<p>在try的后面可以增加一个()，在括号中可以定义流对象</p>
<p>那么这个流对象的作用域就在try中有效，就不用自己关闭流了</p>
<p>try中代码执行完毕，会自动把流对象释放，不再写finally</p>
<p>try(定义流对象;定义流对象…){</p>
<p>&#x2F;&#x2F;可能会产生异常的代码</p>
<p>}</p>
<p>catch(异常类变量 变量名){</p>
<p>异常处理的逻辑</p>
<p>}</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//try括号中的这个流只在try中有效，就不用自己关闭流了</span></span><br><span class="line">		<span class="keyword">try</span> (FileWriter fw=<span class="keyword">new</span> <span class="title class_">FileWriter</span>(<span class="string">&quot;d:\\放乱七八糟\\File.txt&quot;</span>,<span class="literal">true</span>);)&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++) &#123;</span><br><span class="line">	fw.write(<span class="string">&quot;HelloWorld&quot;</span>+i+<span class="string">&quot;\r\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">catch</span>(IOException e) &#123;</span><br><span class="line">			System.out.println(e);</span><br><span class="line">		&#125;</span><br></pre></td></tr></table></figure>

<h2 id="缓冲流"><a href="#缓冲流" class="headerlink" title="缓冲流"></a>缓冲流</h2><p>缓冲流都是在基本的流对象基础之上创建来的，就像穿上铠甲的武士一样，相当于是对基本流对象的一种增强</p>
<p><strong>概述：</strong></p>
<p>缓冲流也叫做高效流，是对四个基本的FileXxx流的增强，所以也是四个流，按照数据类型分类：</p>
<p>字节缓冲流：BufferedInputStream，BufferedOutputStream</p>
<p>字符缓冲流：BufferedReader，BufferedWriter</p>
<p>缓冲流的基本原理是在创建流对象的时候，会创建一个内置的默认大小的缓冲区数组，通过缓冲区读写，减少系统IO次数，从而提高读写效率</p>
<p><img src="C:\Users#赵梓皓&\AppData\Roaming\Typora\typora-user-images\image-20220701111555045.png" alt="image-20220701111555045"></p>
<p>就是返回文件内容的时候，不是一个一个返回，是把所有的都整到一个缓冲区里然后全部一起以一个数组的形式返回</p>
<h3 id="字节缓冲输出流"><a href="#字节缓冲输出流" class="headerlink" title="字节缓冲输出流"></a>字节缓冲输出流</h3><p>java.io.BufferedOutputStream extends OutputStream</p>
<p>继承的父类的共性方法</p>
<p>OutputStream有的方法它都有</p>
<p>构造方法</p>
<ul>
<li><ul>
<li><code>BufferedOutputStream(OutputStream out)</code>  创建一个新的缓冲输出流，以将数据写入指定的底层输出流</li>
</ul>
</li>
<li><ul>
<li><code>BufferedOutputStream(OutputStream out, int size)</code>  创建一个新的缓冲输出流，以便以指定的缓冲区大小将数据写入指定的底层输出流。 </li>
<li>参数：OutputStream     就是一个字节输出流         我们可以传递FileOutputStream，缓冲流会给FileOutputStream增加一个缓冲区，提高FileOutputStream的的写入效率</li>
<li>int size：指定缓冲流内部缓冲区的大小，不指定就是默认的大小</li>
<li>使用步骤：</li>
<li>​        1.创建FileOutputStream对象，构造方法中绑定要输出的目的地</li>
<li>​          2.创建BufferedOutputStream对象，构造方法中传递FileOutputStream对象，提高FileOutputStream对象效率</li>
<li>​        3.使用BufferedOutputStream对象中的方法write，把数据写入到内部缓冲区中</li>
<li>​           4.使用BufferedOutputStream对象中方法flush，吧内部缓冲区的数据刷新到文件中</li>
<li>​            5.释放资源（会先调用flush方法刷新数据，所以第四步可以省略）</li>
<li></li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Main</span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">	<span class="comment">// 1.创建FileOutputStream对象，构造方法中绑定要输出的目的地</span></span><br><span class="line">	FileOutputStream fos= <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;D:\\放乱七八糟\\File.txt&quot;</span>);</span><br><span class="line">	<span class="comment">//2.创建BufferedOutputStream对象，构造方法中传递FileOutputStream对象，提高FileOutputStream对象效率</span></span><br><span class="line">	BufferedOutputStream bos=<span class="keyword">new</span> <span class="title class_">BufferedOutputStream</span>(fos);</span><br><span class="line">	<span class="comment">//3.使用BufferedOutputStream对象中的方法write，把数据写入到内部缓冲区中</span></span><br><span class="line">	bos.write(<span class="string">&quot;我把数据写入到内部缓冲区中&quot;</span>.getBytes());</span><br><span class="line">	<span class="comment">//4.使用BufferedOutputStream对象中方法flush，吧内部缓冲区的数据刷新到文件中</span></span><br><span class="line">	bos.flush();</span><br><span class="line">	<span class="comment">//5.释放资源（会先调用flush方法刷新数据，所以第四步可以省略）</span></span><br><span class="line">	bos.close();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">	</span><br></pre></td></tr></table></figure>

<h3 id="字节缓冲输入流"><a href="#字节缓冲输入流" class="headerlink" title="字节缓冲输入流"></a>字节缓冲输入流</h3><p>java.io.BufferedInputStream extends InputStream</p>
<p>BufferedInputStream:字节缓冲输入流</p>
<p>所有InputStream有的方法他都有</p>
<p>构造方法</p>
<ul>
<li><ul>
<li><code>BufferedInputStream(InputStream in)</code>  创建一个 <code>BufferedInputStream</code>并保存其参数，输入流 <code>in</code>  ，供以后使用。</li>
</ul>
</li>
<li><ul>
<li><code>BufferedInputStream(InputStream in, int size)</code>  创建 <code>BufferedInputStream</code>具有指定缓冲区大小，并保存其参数，输入流  <code>in</code> ，供以后使用</li>
</ul>
</li>
</ul>
<p>参数; </p>
<p>​           InputStream in:字节输入流</p>
<p>​                     我们可以传递FileInputStream，缓冲区会给FileInputStream增加一个缓冲区，提高FileInputStream的读取效率</p>
<p>使用步骤：</p>
<p>​         1.创建一个FileInputStream对象，构造方法中绑定要读取的数据源</p>
<p>​            2.创建BufferedInputStream对象，构造方法中传递FileInputStream对象，提高FileInputStream对象的读取效率</p>
<p>​          3.使用BufferedInputStream对象中的方法read()，读取文件</p>
<p>​           4.释放资源</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">	<span class="comment">//1.创建一个FileInputStream对象，构造方法中绑定要读取的数据源</span></span><br><span class="line">	FileInputStream fis=<span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;D:\\放乱七八糟\\File.txt&quot;</span>);</span><br><span class="line">	<span class="comment">//2.创建BufferedInputStream对象，构造方法中传递FileInputStream对象，提高FileInputStream对象的读取效率</span></span><br><span class="line">	BufferedInputStream bis=<span class="keyword">new</span> <span class="title class_">BufferedInputStream</span>(fis);</span><br><span class="line">	<span class="comment">//  3.使用BufferedInputStream对象中的方法read()，读取文件</span></span><br><span class="line">	<span class="type">int</span> len=<span class="number">0</span>;<span class="comment">//记录每次读取到的字节</span></span><br><span class="line">	<span class="keyword">while</span>((len=bis.read())!=-<span class="number">1</span>) &#123;</span><br><span class="line">		System.out.println(len);</span><br><span class="line">	&#125;</span><br><span class="line">	bis.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">	<span class="comment">//1.创建一个FileInputStream对象，构造方法中绑定要读取的数据源</span></span><br><span class="line">	FileInputStream fis=<span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;D:\\放乱七八糟\\File.txt&quot;</span>);</span><br><span class="line">	<span class="comment">//2.创建BufferedInputStream对象，构造方法中传递FileInputStream对象，提高FileInputStream对象的读取效率</span></span><br><span class="line">	BufferedInputStream bis=<span class="keyword">new</span> <span class="title class_">BufferedInputStream</span>(fis);</span><br><span class="line">	<span class="comment">//  3.使用BufferedInputStream对象中的方法read()，读取文件</span></span><br><span class="line">	<span class="type">int</span> len=<span class="number">0</span>;<span class="comment">//记录每次读取的有效字节个数</span></span><br><span class="line">	<span class="type">byte</span>[] bytes=<span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line">	<span class="keyword">while</span>((len=bis.read(bytes))!=-<span class="number">1</span>) &#123;<span class="comment">//最后这个-1是不会返回给len的</span></span><br><span class="line">		System.out.println(<span class="keyword">new</span> <span class="title class_">String</span>(bytes,<span class="number">0</span>,len));</span><br><span class="line">	&#125;</span><br><span class="line">	bis.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="用缓冲流来复制文件"><a href="#用缓冲流来复制文件" class="headerlink" title="用缓冲流来复制文件"></a>用缓冲流来复制文件</h3><p>速度变得更快，可见效率变得更高</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">	<span class="type">long</span> <span class="variable">end</span> <span class="operator">=</span>System.currentTimeMillis();</span><br><span class="line">	FileInputStream fis=<span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;C:\\Users\\#赵梓皓&amp;\\Pictures\\Default.jpg&quot;</span>);</span><br><span class="line">	BufferedInputStream bis=<span class="keyword">new</span> <span class="title class_">BufferedInputStream</span>(fis);</span><br><span class="line">	FileOutputStream fos=<span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;D:\\放乱七八糟\\a.jpg&quot;</span>);</span><br><span class="line">	BufferedOutputStream bos=<span class="keyword">new</span> <span class="title class_">BufferedOutputStream</span>(fos);</span><br><span class="line">	<span class="type">int</span> len=<span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span>((len=bis.read())!=-<span class="number">1</span>) &#123;</span><br><span class="line">		bos.write(len);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	bos.close();</span><br><span class="line">	bis.close();</span><br><span class="line">	<span class="type">long</span> end1=System.currentTimeMillis();</span><br><span class="line">	System.out.println(<span class="string">&quot;耗时&quot;</span>+(end1-end)+<span class="string">&quot;毫秒&quot;</span>);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">耗时<span class="number">42</span>毫秒</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">	<span class="type">long</span> <span class="variable">end</span> <span class="operator">=</span>System.currentTimeMillis();</span><br><span class="line">	FileInputStream fis=<span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;C:\\Users\\#赵梓皓&amp;\\Pictures\\Default.jpg&quot;</span>);</span><br><span class="line">	BufferedInputStream bis=<span class="keyword">new</span> <span class="title class_">BufferedInputStream</span>(fis);</span><br><span class="line">	FileOutputStream fos=<span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;D:\\放乱七八糟\\a.jpg&quot;</span>);</span><br><span class="line">	BufferedOutputStream bos=<span class="keyword">new</span> <span class="title class_">BufferedOutputStream</span>(fos);</span><br><span class="line">	<span class="type">int</span> len=<span class="number">0</span>;</span><br><span class="line">	<span class="type">byte</span> []bytes=<span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line">	<span class="keyword">while</span>((len=bis.read(bytes))!=-<span class="number">1</span>) &#123;</span><br><span class="line">		bos.write(bytes,<span class="number">0</span>,len);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	bos.close();</span><br><span class="line">	bis.close();</span><br><span class="line">	<span class="type">long</span> end1=System.currentTimeMillis();</span><br><span class="line">	System.out.println(<span class="string">&quot;耗时&quot;</span>+(end1-end)+<span class="string">&quot;毫秒&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">耗时<span class="number">4</span>毫秒</span><br></pre></td></tr></table></figure>

<h3 id="字符缓冲输出流"><a href="#字符缓冲输出流" class="headerlink" title="字符缓冲输出流"></a>字符缓冲输出流</h3><ul>
<li>&#96;&#96;&#96;<br>public class BufferedWriter<br>extends Writer<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">有继承自父类的共性成员方法，所有Writer的方法他都有</span><br><span class="line"></span><br><span class="line">构造方法</span><br><span class="line"></span><br><span class="line">- - `BufferedWriter(Writer out)`  创建使用默认大小的输出缓冲区的缓冲字符输出流</span><br><span class="line"></span><br><span class="line">- - `BufferedWriter(Writer out,  int sz)`  创建一个新的缓冲字符输出流，使用给定大小的输出缓冲区</span><br><span class="line"></span><br><span class="line">参数：</span><br><span class="line"></span><br><span class="line">​           第一个参数是一个字符输出流</span><br><span class="line"></span><br><span class="line">​                    我们可以传递FileWriter，缓冲流会给FileWriter增加一个缓冲区，提高FileWriter的写入效率</span><br><span class="line"></span><br><span class="line">​      第二个参数 int sz：指定缓冲区的大小，不写是默认大小</span><br><span class="line"></span><br><span class="line">特有的成员方法</span><br><span class="line"></span><br><span class="line">- - `void newLine()`  写一行行分隔符。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">方法和上面的都一样，便不再注释</span><br><span class="line"></span><br><span class="line">```java</span><br><span class="line">public static void main(String []args) throws IOException &#123;</span><br><span class="line">	FileWriter fw=new FileWriter(&quot;D:\\放乱七八糟\\File.txt&quot;);</span><br><span class="line">BufferedWriter bw=new BufferedWriter(fw);</span><br><span class="line">for(int i=0;i&lt;10;i++) &#123;</span><br><span class="line">	bw.write(&quot;你好&quot;);</span><br><span class="line">	bw.newLine();//用来进行换行</span><br><span class="line">&#125;</span><br><span class="line">bw.flush();</span><br><span class="line">bw.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<p><strong>BufferedReader字符缓冲输入流</strong></p>
<p>Java.io.BufferedReader extends Reader</p>
<p>继承自父类的共性成员方法</p>
<p>构造方法</p>
<ul>
<li><ul>
<li><code>BufferedReader(Reader in)</code>  创建使用默认大小的输入缓冲区的缓冲字符输入流。</li>
</ul>
</li>
<li><ul>
<li><code>BufferedReader(Reader in,  int sz)</code>  创建使用指定大小的输入缓冲区的缓冲字符输入流</li>
</ul>
</li>
</ul>
<p>参数： 字符输入流</p>
<p>​             我们可以传递FileReader，缓冲流会给FileReader增加一个缓冲区，提高FileReader的读取效率</p>
<p>特有的成员方法</p>
<ul>
<li><ul>
<li><code>String readLine()</code>  读一行文字。</li>
</ul>
</li>
</ul>
<p>​           行的终止符浩：通过下列字符之一即可认为某行已经终止：换行(‘\n’),回车(‘\r’),或回车后直接跟着换行(\r\n)</p>
<p>​        返回值：</p>
<p>​            包含该行内容的字符串，不包含任何终止符，如果已经达到里流末尾，返回null</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">public static void main(String []args) throws IOException &#123;</span><br><span class="line">FileReader fr=new FileReader(&quot;D:\\放乱七八糟\\File.txt&quot;);</span><br><span class="line">BufferedReader br=new BufferedReader(fr);</span><br><span class="line">String line;</span><br><span class="line">while((line=br.readLine())!=null) &#123;</span><br><span class="line">	System.out.println(line);</span><br><span class="line">&#125;</span><br><span class="line">br.close();</span><br><span class="line">&#125;</span><br><span class="line">结果:</span><br><span class="line">可以输出所有行</span><br></pre></td></tr></table></figure>

<h3 id="练习：文本排序（以及转义）"><a href="#练习：文本排序（以及转义）" class="headerlink" title="练习：文本排序（以及转义）"></a>练习：文本排序（以及转义）</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Main</span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">	HashMap&lt;String,String&gt; hm=<span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;String,String&gt;();</span><br><span class="line">FileReader fr=<span class="keyword">new</span> <span class="title class_">FileReader</span>(<span class="string">&quot;D:\\放乱七八糟\\File1.txt&quot;</span>);</span><br><span class="line">FileWriter fw=<span class="keyword">new</span> <span class="title class_">FileWriter</span>(<span class="string">&quot;D:\\放乱七八糟\\File.txt&quot;</span>);</span><br><span class="line">BufferedWriter bw=<span class="keyword">new</span> <span class="title class_">BufferedWriter</span>(fw);</span><br><span class="line">BufferedReader br=<span class="keyword">new</span> <span class="title class_">BufferedReader</span>(fr);</span><br><span class="line">String line;</span><br><span class="line"><span class="keyword">while</span>((line=br.readLine())!=<span class="literal">null</span>) &#123;</span><br><span class="line">	String []str=line.split(<span class="string">&quot;\\.&quot;</span>);<span class="comment">//split用的是正则表达式.有特殊含义，所以用\转义，而java中\\才是\</span></span><br><span class="line">    <span class="comment">//      \t,\n等有特殊含义所以java中字符串如果出现\会有歧义，所以用\\来吧\替换为一个普通字符，这个普通字符进了正则表达式中又可以把.转义，所以在java中使用正则表达式匹配“\”时就需要写成&quot;\\\\&quot;</span></span><br><span class="line">    <span class="comment">//把切割好的序号和文本内容储存到HashMap集合中(key序号是有序的，会自动排序1，2，3，4)</span></span><br><span class="line">	hm.put(str[<span class="number">0</span>], str[<span class="number">1</span>]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(String b:hm.keySet()) &#123;</span><br><span class="line">	String value=hm.get(b);</span><br><span class="line">	line=b+<span class="string">&quot;.&quot;</span>+value;</span><br><span class="line">	bw.write(line);</span><br><span class="line">	bw.newLine();</span><br><span class="line">&#125;</span><br><span class="line">bw.close();</span><br><span class="line">br.close();</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">		</span><br><span class="line">	</span><br></pre></td></tr></table></figure>

<p>文件原内容</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1.我是</span><br><span class="line">2.我才不是</span><br><span class="line">4.我真的不是</span><br><span class="line">3.你不是</span><br></pre></td></tr></table></figure>

<p>文件变更以后</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1.我是</span><br><span class="line">2.我才不是</span><br><span class="line">3.你不是</span><br><span class="line">4.我真的不是</span><br></pre></td></tr></table></figure>

<p>插曲：我读取内容的文件是utf-8形式的，写入的文件是以gbk打开，所以出现乱码我把utf-8改为gbk就好了</p>
<h2 id="转换流"><a href="#转换流" class="headerlink" title="转换流"></a>转换流</h2><p>字符编码：</p>
<p>计算机中储存的信息都是用二进制表示的，而我们在屏幕上看到的数字英文标点符号汉字等字符是二进制转换之后的结果</p>
<p>按照某种规则，将字符储存到计算机中，成为编码，反之，将存储在计算机中的二进制数按照某种规则解析出来称为解码，比如说按照A规则存储，同样按照A规则解析，那么就能显示正确的文本符号，反之，按照A规则存储，按照B规则解析，就会出现乱码</p>
<p>编码：字符–》字节</p>
<p>解码：字节–》字符</p>
<p>字符编码：就是一套自然语言的字符与二进制数之间的对应规则。</p>
<p>编码表：生活中文字和计算机中二进制的对应规则</p>
<p>字符集：</p>
<p>Ascii码字符集–》Ascii码编码</p>
<p>GBK字符集–》GBK编码</p>
<p>Unicode字符集–》UTF8编码，UTF16编码，UTF32编码</p>
<h3 id="转换流原理"><a href="#转换流原理" class="headerlink" title="转换流原理"></a>转换流原理</h3><p>输入转换原理</p>
<p>用InputStreamReader</p>
<p><img src="C:\Users#赵梓皓&\AppData\Roaming\Typora\typora-user-images\image-20220701201821452.png" alt="image-20220701201821452"></p>
<p>FileReader底层还是FileInputStream将字节转换为字符时只能用IDE默认编码</p>
<p>而InputStreamReader可以指定字节转换为字符的编码形式</p>
<p>输出转换原理</p>
<p>用OutputStreamWriter</p>
<p><img src="C:\Users#赵梓皓&\AppData\Roaming\Typora\typora-user-images\image-20220701202244844.png" alt="image-20220701202244844"></p>
<p>FileWriter的底层实现还是FileOutputStream，只能将字符转换为IDE默认的编码的字节</p>
<p>如果用OutputStreamWriter  可以指定字符转字节的时候的编码格式</p>
<p><strong>编码引出的问题FileReader读取文件</strong></p>
<p>就是FileReader能读取编译器默认编码的文件，比如eclipse时GBK，IDEA是UTF-8</p>
<p>下面演示在eclipse用FileReader读取UTF-8</p>
<h3 id="OutputStreamWriter"><a href="#OutputStreamWriter" class="headerlink" title="OutputStreamWriter"></a>OutputStreamWriter</h3><ul>
<li>OutputStreamWriter是字符的桥梁流以字节流：向其写入的字符编码成使用指定的字节<a href="../../java/nio/charset/Charset.html"><code>charset</code></a> 。  它使用的字符集可以由名称指定，也可以被明确指定，或者可以接受平台的默认字符集。</li>
<li>java.io.BufferedWriter extends Writer</li>
<li>Writer中的方法都可以使用</li>
</ul>
<p>构造方法：</p>
<ul>
<li><ul>
<li><code>OutputStreamWriter(OutputStream out)</code>  创建一个使用默认字符编码的OutputStreamWriter</li>
</ul>
</li>
<li><ul>
<li><code>OutputStreamWriter(OutputStream out, String charsetName)</code>  创建一个使用命名字符集的OutputStreamWriter。</li>
</ul>
</li>
</ul>
<p>参数：OutputStream out：字节输出流，可以用来写转换之后的字节到文件中</p>
<p>​            String charsetName：指定的编码表的名称，不区分大小写，可以使utf-8&#x2F;UTF-8&#x2F;GBK&#x2F;</p>
<pre><code>public static void main(String []args) throws IOException &#123;
    //创建OutputStreamWriter对象，构造方法中传递字节输出流的指定的编码表名称
    OutputStreamWriter osw=new OutputStreamWriter(new FileOutputStream(&quot;D:\\放乱七八糟\\File.txt&quot;),&quot;UTF-8&quot;);
    //使用OutputStreamWriter对象中的方法write，把字符转换为字节存储缓冲区中（编码）
    osw.write(&quot;你好&quot;);
    //使用OutputStreamWriter对象中的flush，把内存缓冲区中的字节刷新到文件中（使用字节流写字节）
    osw.flush();
    //释放内存
    osw.close();
&#125;
将你好写入了UTF-8编码显示的文件
</code></pre>
<h3 id="InputStreamReader"><a href="#InputStreamReader" class="headerlink" title="InputStreamReader"></a>InputStreamReader</h3><p>java.io.InputStreamReader extends Reader</p>
<ul>
<li>InputStreamReader是从字节流到字符流的桥：它读取字节，并使用指定的<code>charset</code>将其解码为<a href="../../java/nio/charset/Charset.html">字符</a>  。 它使用的字符集可以由名称指定，也可以被明确指定，或者可以接受平台的默认字符集。</li>
<li>它由继承字父类的共性的成员方法</li>
<li>​       Reader有的方法它都有</li>
</ul>
<p>构造方法：</p>
<p>​          <code>InputStreamReader(InputStream in)</code>  创建一个使用默认字符集的InputStreamReader</p>
<p>​         <code>InputStreamReader(InputStream in, String charsetName)</code>  创建一个使用命名字符集的InputStreamReader</p>
<p>​          参数：</p>
<p>​                     InputStream in：字节输入流，用来读取文件中保存的字节</p>
<p>​                     String charsetName：字符表名称</p>
<pre><code>           public static void main(String []args) throws IOException &#123;
    //创建InputStreamWriter对象，构造方法中传递字节输入流和指定的编码表名称
    InputStreamReader osw=new InputStreamReader(new FileInputStream(&quot;D:\\放乱七八糟\\File.txt&quot;),&quot;UTF-8&quot;);
    //使用InputStreamWriter对象中的方法read()，把字符转换为字节存储缓冲区中（编码）
    int len=0;
    
    while((len=osw.read())!=-1) &#123;
        System.out.println((char)len);
    &#125;
    //释放内存
    osw.close();
&#125;
即是文件内容是UTF-8，也可以给他读入到内存中
结果：你
好
</code></pre>
<p><strong>转换文件编码的练习</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">           InputStreamReader isr=<span class="keyword">new</span> <span class="title class_">InputStreamReader</span>(<span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;D:\\放乱七八糟\\File.txt&quot;</span>),<span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">           OutputStreamWriter osw=<span class="keyword">new</span> <span class="title class_">OutputStreamWriter</span>(<span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;D:\\放乱七八糟\\File1.txt&quot;</span>),<span class="string">&quot;GBK&quot;</span>);</span><br><span class="line">           <span class="type">int</span> len=<span class="number">0</span>;</span><br><span class="line">           <span class="keyword">while</span>((len=isr.read())!=-<span class="number">1</span>) &#123;</span><br><span class="line">        	   osw.write(len);</span><br><span class="line">           &#125;</span><br><span class="line">           osw.close();</span><br><span class="line">           isr.close();</span><br><span class="line">&#125;</span><br><span class="line">将UTF-<span class="number">8</span>的文件转换为GBK编码的文件</span><br></pre></td></tr></table></figure>

<h2 id="序列化"><a href="#序列化" class="headerlink" title="序列化"></a>序列化</h2><p>ObjectOutputStream extends OutputStream</p>
<p>ObjectOutputStream：对象的序列化流</p>
<p>作用：把对象以流的形式写入到文件中保存</p>
<p>构造方法：  </p>
<p>​           <code>ObjectOutputStream(OutputStream out)</code>  创建一个写入指定的OutputStream的ObjectOutputStream。</p>
<p>​                     参数：</p>
<p>​                                     床第一个字节输出流</p>
<p>特有的成员方法：</p>
<p>​               <code>writeObject(Object obj)</code>  将指定的对象写入ObjectOutputStream。</p>
<p>使用步骤; </p>
<p>​                     1.创建ObjectOutputStream对象，构造方法中传递字节输出流</p>
<p>​                      2.使用ObjectOutputStream对象中的writeObject，把对象写入到文件中</p>
<p>​                        3.释放资源</p>
<p>类只有实现了Serializable接口才能被序列化或者反序列化</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Test</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> String name;</span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> name;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">	<span class="built_in">this</span>.name = name;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAge</span><span class="params">()</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> age;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(<span class="type">int</span> age)</span> &#123;</span><br><span class="line">	<span class="built_in">this</span>.age = age;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line"><span class="keyword">public</span> <span class="title function_">Test</span><span class="params">()</span> &#123;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="title function_">Test</span><span class="params">(String name,<span class="type">int</span> age)</span> &#123;</span><br><span class="line">	<span class="built_in">this</span>.name=name;</span><br><span class="line">	<span class="built_in">this</span>.age=age;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">文件内容以二进制字节来存储所以无法直接打开看</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span> <span class="keyword">throws</span> IOException, ClassNotFoundException &#123;</span><br><span class="line"></span><br><span class="line">ObjectOutputStream oos=<span class="keyword">new</span> <span class="title class_">ObjectOutputStream</span>(<span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;D:\\放乱七八糟\\File.txt&quot;</span>));</span><br><span class="line">oos.writeObject(<span class="keyword">new</span> <span class="title class_">Test</span>(<span class="string">&quot;小美女&quot;</span>,<span class="number">18</span>));</span><br><span class="line">oos.close();</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>



<p>ObjectInputStream extends InputStream</p>
<p>ObjectInputStream :对象的反序列化流</p>
<p>作用：把文件中保存的对象以流的形式读取出来使用过</p>
<p>构造方法:</p>
<p>​                <code>ObjectInputStream(InputStream in)</code>  创建从指定的InputStream读取的ObjectInputStream</p>
<p>​                     参数：传入一个字节输入流</p>
<p>特有的成员方法：</p>
<p>​                <code>readObject()</code>  从ObjectInputStream读取一个对象。 </p>
<p>使用步骤：</p>
<p>1.创建ObjectInputStream对象，构造方法中传递字节输入流</p>
<p>2.使用ObjectInputStream对象中的方法readObject读取保存对象的文件</p>
<p>3.释放资源</p>
<p>4.使用读取出来的对象（打印）</p>
<p>readObject方法声明抛出了ClassNotFoundException（Class文件找不到异常）当不存在对象的class文件时抛出此异常</p>
<p>反序列化的前提：</p>
<p>​                  1.类必须实现Serializable接口</p>
<p>​                   2.必须存在类对应的class文件</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span> <span class="keyword">throws</span> IOException, ClassNotFoundException &#123;</span><br><span class="line">	<span class="comment">//1.创建ObjectInputStream对象，构造方法中传递字节输入流</span></span><br><span class="line">	ObjectInputStream ois=<span class="keyword">new</span> <span class="title class_">ObjectInputStream</span>(<span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;D:\\放乱七八糟\\File.txt&quot;</span>));</span><br><span class="line">	<span class="comment">//2.使用ObjectInputStream对象中的方法readObject读取保存对象的文件</span></span><br><span class="line">	Object o=ois.readObject();<span class="comment">//这里必须使用Object类型来接受</span></span><br><span class="line">	ois.close();</span><br><span class="line">	<span class="comment">//4.使用读取出来的对象（打印）</span></span><br><span class="line">	System.out.println(o);</span><br><span class="line">	Test t=(Test)o;</span><br><span class="line">	System.out.println(t.getName()+t.getAge());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>transient关键字</strong></p>
<p>static关键字:静态关键字</p>
<p>1.静态优先于非静态加载到内存中（静态优先于对象进入到内存中）</p>
<p>被static修饰的成员变量不能被序列化的，序列化的都是对象</p>
<p>private static int age</p>
<p>oos.writeObject(new Person(“小美女”,18));</p>
<p>Object o&#x3D;ois.readObject();</p>
<p>Person{name&#x3D;”小美女”,age&#x3D;0}</p>
<p>所以静态的不能够被序列化</p>
<p>transient关键字：瞬态关键字</p>
<p>​      被transient修饰的成员变量，不能被序列化</p>
<p>它的功能就是不让某个属性序列化，但是又没有静态的含义</p>
<h4 id="InvalidClassException异常"><a href="#InvalidClassException异常" class="headerlink" title="InvalidClassException异常"></a>InvalidClassException异常</h4><p>当分别一次序列化和反序列化之后是正常的，但现在你去改了那个序列化的类属性，然后没有对他序列化而是直接反序列化</p>
<p>就会报InvalidClassException</p>
<p><img src="C:\Users#赵梓皓&\AppData\Roaming\Typora\typora-user-images\image-20220702095304289.png" alt="image-20220702095302204"></p>
<p>就是当你改动了类之后你txt文件中的类的id和你class文件中的id不同就导致不能够反序列化成功</p>
<p>所以就在类中加一个private static final long serialVersionUID&#x3D;1L;</p>
<p>这样无论怎么改id都不会变了</p>
<h4 id="练习：序列化集合"><a href="#练习：序列化集合" class="headerlink" title="练习：序列化集合"></a>练习：序列化集合</h4><p>练习：序列化集合</p>
<p>​             当我们想在文件中保存多个对象的时候</p>
<p>​             可以把多个对象储存到一个集合中</p>
<p>​             对集合进行序列化和反序列化</p>
<p>分析：</p>
<p>​          1.定义一个存储Person对象的集合和ArrayList集合</p>
<p>​            2.往ArrayList集合中存储Person对象</p>
<p>​             3.创建一个序列化流ObjectOutputStream </p>
<p>​           4.使用ObjectOutputStream对象中的方法writeObject，对集合进行序列化</p>
<p>​           5.创建一个反序列化ObjectInputStream对象</p>
<p>​             6.使用ObjectInput中的方法readObject读取文件中保存的集合</p>
<p>​            7.把Object类型的集合转换为ArrayList类型</p>
<p>​          8，遍历这个ArrayList集合</p>
<p>​        9.释放资源</p>
<pre><code>public static void main(String []args) throws IOException, ClassNotFoundException &#123;
// 1.定义一个存储Person对象的集合和ArrayList集合
    ArrayList&lt;Test&gt; list=new ArrayList&lt;Test&gt;();
    //   2.往ArrayList集合中存储Person对象
    list.add(new Test(&quot;张三&quot;,18));
    list.add(new Test(&quot;例四&quot;,18));
    list.add(new Test(&quot;赵武&quot;,18));
    //3.创建一个序列化流ObjectOutputStream 
    ObjectOutputStream oos=new ObjectOutputStream(new FileOutputStream(&quot;D:\\放乱七八糟\\File.txt&quot;));
    //4.使用ObjectOutputStream对象中的方法writeObject，对集合进行序列化
    oos.writeObject(list);
    // 5.创建一个反序列化ObjectInputStream对象
    ObjectInputStream ois=new ObjectInputStream(new FileInputStream(&quot;D:\\放乱七八糟\\File.txt&quot;));
    //     6.使用ObjectInput中的方法readObject读取文件中保存的集合
    Object o=ois.readObject();
    //7.把Object类型的集合转换为ArrayList类型
    ArrayList&lt;Test&gt; list2=(ArrayList&lt;Test&gt;)o;
    //8，遍历这个ArrayList集合
    for(Test p:list2) &#123;
        System.out.println(p);
    &#125;
    //  9.释放资源
    ois.close();
    oos.close();
&#125;
</code></pre>
<h2 id="打印流"><a href="#打印流" class="headerlink" title="打印流"></a>打印流</h2><h4 id="重定向标准输入输出"><a href="#重定向标准输入输出" class="headerlink" title="重定向标准输入输出"></a>重定向标准输入输出</h4><p>java.io.PrintStream</p>
<p>​        <code>PrintStream</code>为另一个输出流添加了功能，即能够方便地打印各种数据值的表示。</p>
<p>PrintStream特带你：</p>
<p>​      1.只负责数据的输出，不负责数据的读取</p>
<p>​       2.与其他输出流不同，PrintStream永远不会抛出IOException</p>
<p>​       3.有特有的方法，print，println方法</p>
<p>​                    void print(任意类型的值)</p>
<p>​                    void println(任意类型的值并换行)</p>
<p>构造方法：</p>
<p>​            <code>PrintStream(File file)</code>  输出的目的地是一个文件</p>
<p>​             <code>PrintStream(OutputStream out)</code>  输出的目的地是一个字节输出流</p>
<p>​           <code>PrintStream(String fileName)</code>  输出的目的地是一个文件路径</p>
<p>printStream extends OutputStream</p>
<p>继承自父类的成员方法</p>
<p>  注意：</p>
<p>​         如果使用继承自父类的write方法那么查看数据的时候会查询编码表</p>
<p>​          如果是用自己特有的方法print&#x2F;println方法写数据，写的数据原样输出</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">```java</span><br><span class="line">用父类的方法会查询编码表</span><br><span class="line">	public static void main(String []args) throws IOException, ClassNotFoundException &#123;</span><br><span class="line">PrintStream ps=new PrintStream(&quot;D:\\放乱七八糟\\File.txt&quot;);</span><br><span class="line">ps.write(97);</span><br><span class="line">ps.close();</span><br><span class="line">	&#125;</span><br><span class="line">文件：文件的内容是a</span><br><span class="line">```</span><br><span class="line"></span><br><span class="line">用自己的方法是原样输出</span><br><span class="line">	public static void main(String []args) throws IOException, ClassNotFoundException &#123;</span><br><span class="line"></span><br><span class="line">PrintStream ps=new PrintStream(&quot;D:\\放乱七八糟\\File.txt&quot;);</span><br><span class="line">ps.println(&quot;a&quot;);</span><br><span class="line">ps.println(97);</span><br><span class="line">ps.println(100);</span><br><span class="line">ps.println(&quot;我是&quot;);</span><br><span class="line">ps.close();</span><br><span class="line">	&#125;</span><br><span class="line">	文件内容是：a</span><br><span class="line">              97</span><br><span class="line">              100</span><br><span class="line">              我是</span><br></pre></td></tr></table></figure>

<p>可以改变输出语句的目的地（打印流的流向）</p>
<p>输出语句：默认在控制台输出</p>
<p>使用System.setOut放法改变输出语句的目的为参数传递的打印流的目的地</p>
<p>​      static void setOut(printStream out)</p>
<p>​     <strong>重新分配”标准”输出流</strong></p>
<p><strong>下面这个是将System.out的输出重定向到文件输出而不是在屏幕上输出</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">	public static void main(String []args) throws IOException, ClassNotFoundException &#123;</span><br><span class="line">		System.out.println(&quot;我在控制台输出&quot;);</span><br><span class="line"></span><br><span class="line">PrintStream ps=new PrintStream(&quot;D:\\放乱七八糟\\File.txt&quot;);</span><br><span class="line">System.setOut(ps);//把输出语句的目的地改变为打印流的目的地</span><br><span class="line">System.out.println(&quot;我在打印流的目的地中输出&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>改变这个输出语句在流里输出</p>
<p>使用System的setIn()方法将系统标准输入重定向到该文件输入流，不会等待用户输入而是直接输出了文件的内容</p>
<h1 id="java的多线程详解"><a href="#java的多线程详解" class="headerlink" title="java的多线程详解"></a>java的多线程详解</h1><h2 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h2><p>多线程案例：一起开黑打王者荣耀，你给我发消息的时候我也能给你发消息</p>
<p><strong>多线程：</strong></p>
<p>可以实现一个并发操作，在一个程序中可以定义多个线程并同时运行它们，每个线程可以执行不同的任务。</p>
<p><strong>进程（Process）：</strong>在操作系统中运行的程序就是进程，比如你的qq播放器游戏IDE</p>
<p>进程则是执行程序的一次执行过程，它是一个动态的概念，是系统资源分配的单位</p>
<p><strong>线程(Thread)：</strong>一个进程可以有多个线程，如视频中同时听声音，看图像，看弹幕等等</p>
<p>进程可以包含多个线程，一个进程至少有一个Main线程，不然没有存在的意义</p>
<p>多线程和多任务的区别：<strong>多任务是针对操作系统而言的</strong>，代表操作系统可以同时执行的程序个数；<strong>多线程是针对一个程序而言的</strong>，代表一个程序可以同时执行的线程的个数，每个线程完成不同的任务。</p>
<p>在一个进程中，如果开辟了多个线程，线程的运行由调度器安排调度，调度器(cpu)是与操作系统紧密相关的，先后顺序是不能人为干预的</p>
<p>对同一份资源操作时，会存在资源抢夺的问题，需要加入并发控制（10000个人抢100张票必定有人抢不到）</p>
<p><img src="C:\Users#赵梓皓&\AppData\Roaming\Typora\typora-user-images\image-20220704100010536.png" alt="image-20220704100010536"></p>
<h2 id="继承Thread类"><a href="#继承Thread类" class="headerlink" title="继承Thread类"></a>继承Thread类</h2><ul>
<li>创建一个新的执行线程有两种方法。 一个是将一个类声明为<code>Thread</code>的子类。  这个子类应该重写<code>run</code>类的方法<code>Thread</code> 。  创建线程对象，调用start()方法启动线程</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Hello</span> <span class="keyword">extends</span> <span class="title class_">Thread</span>&#123;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">	<span class="comment">//run方法线程体</span></span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">20</span>;i++) &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;我在看书&quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">&#125;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span> &#123;</span><br><span class="line">		<span class="comment">//main线程主线程</span></span><br><span class="line">		<span class="comment">//创建一个线程对象</span></span><br><span class="line">		Hello testThread=<span class="keyword">new</span> <span class="title class_">Hello</span>();</span><br><span class="line">		<span class="comment">//调用start()方法开启线程</span></span><br><span class="line">		testThread.start();</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">20</span>;i++) &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;我在学习&quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">用start方法是开了一条新线程，两条线程同时执行（线程不一定立即执行,cpu调度安排），如果是调用run方法则就是先执行run方法再回到主线程执行</span><br></pre></td></tr></table></figure>

<p>注意：县城开启不一定立即执行，由cpu调度执行</p>
<p><strong>网图下载</strong></p>
<p><img src="C:\Users#赵梓皓&\AppData\Roaming\Typora\typora-user-images\image-20220704095925383.png" alt="image-20220704095925383"></p>
<p>建立多个TestThread2对象，开辟多个线程，同时执行</p>
<h2 id="实现Runnable接口"><a href="#实现Runnable接口" class="headerlink" title="实现Runnable接口"></a>实现Runnable接口</h2><p>定义MyRunnable类实现Runnable接口</p>
<p>实现run()方法，编写线程执行体</p>
<p>创建线程对象，调用start()方法启动线程</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="comment">//run方法线程体</span></span><br><span class="line">			<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">20</span>;i++) &#123;</span><br><span class="line">				System.out.println(<span class="string">&quot;我在看书&quot;</span>);</span><br><span class="line">			&#125;</span><br><span class="line">	&#125;</span><br><span class="line">		<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span> &#123;</span><br><span class="line">            <span class="comment">//创建一个runnable接口的实现类对象</span></span><br><span class="line">			Hello testThread3=<span class="keyword">new</span> <span class="title class_">Hello</span>();</span><br><span class="line">			<span class="comment">//创建线程对象，通过线程对象来开启我们的线程，代理</span></span><br><span class="line">			Thread thread=<span class="keyword">new</span> <span class="title class_">Thread</span>(testThread3);</span><br><span class="line">			thread.start();</span><br><span class="line">			<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">20</span>;i++) &#123;</span><br><span class="line">				System.out.println(<span class="string">&quot;我在学习&quot;</span>);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br></pre></td></tr></table></figure>

<p><strong>小结</strong></p>
<p><img src="C:\Users#赵梓皓&\AppData\Roaming\Typora\typora-user-images\image-20220704105709084.png" alt="image-20220704105709084"></p>
<p><strong>初始并发问题</strong></p>
<p>&#x2F;&#x2F;多个线程同时操作同一个对象</p>
<p>&#x2F;&#x2F;买火车票的例子</p>
<p>&#x2F;&#x2F;返现问题：多个线程操作同一个资源的情况下，线程不安全，数据紊乱，就是小明老师黄牛党都拿到了第十张票，</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Hello</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="type">int</span> ticketNums=<span class="number">10</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">while</span>(<span class="literal">true</span>) &#123;</span><br><span class="line">    	<span class="keyword">if</span>(ticketNums&lt;=<span class="number">0</span>) &#123;</span><br><span class="line">    		<span class="keyword">break</span>;</span><br><span class="line">    	&#125;</span><br><span class="line">    	<span class="keyword">try</span> &#123;</span><br><span class="line">			Thread.sleep(<span class="number">200</span>);<span class="comment">//模拟延时,是当前线程进入休息状态</span></span><br><span class="line">		&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">			<span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">    	System.out.println(Thread.currentThread().getName()+<span class="string">&quot;--&gt;拿到了第&quot;</span>+ticketNums--+<span class="string">&quot;票&quot;</span>);</span><br><span class="line">    	</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span> &#123;</span><br><span class="line">	Hello ticket=<span class="keyword">new</span> <span class="title class_">Hello</span>();</span><br><span class="line">	<span class="comment">//Thread后面的第二个参数是这个线程的名字</span></span><br><span class="line">	<span class="keyword">new</span> <span class="title class_">Thread</span>(ticket,<span class="string">&quot;小明&quot;</span>).start();</span><br><span class="line">	<span class="keyword">new</span> <span class="title class_">Thread</span>(ticket,<span class="string">&quot;老师&quot;</span>).start();</span><br><span class="line">	<span class="keyword">new</span> <span class="title class_">Thread</span>(ticket,<span class="string">&quot;黄牛党&quot;</span>).start();</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="龟兔赛跑"><a href="#龟兔赛跑" class="headerlink" title="龟兔赛跑"></a>龟兔赛跑</h2><p>相当于乌龟和兔子是两条线程</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> hello;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Hello</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line">	<span class="keyword">private</span> String winner;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;=<span class="number">100</span>;i++) &#123;</span><br><span class="line">		<span class="comment">//模拟兔子休息</span></span><br><span class="line">		<span class="keyword">if</span>(Thread.currentThread().getName().equals(<span class="string">&quot;兔子&quot;</span>)&amp;&amp;i%<span class="number">10</span>==<span class="number">0</span>) &#123;</span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				Thread.sleep(<span class="number">2</span>);</span><br><span class="line">			&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//判断比赛是否结束</span></span><br><span class="line">		<span class="type">boolean</span> flag=gameOver(i);</span><br><span class="line">		<span class="comment">//如果比赛结束了，就停止程序</span></span><br><span class="line">		<span class="keyword">if</span>(flag) &#123;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println(Thread.currentThread().getName()+<span class="string">&quot;--&gt;跑了&quot;</span>+i+<span class="string">&quot;步&quot;</span>);</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">gameOver</span><span class="params">(<span class="type">int</span> step)</span> &#123;</span><br><span class="line">	<span class="comment">//判断是否存在胜利者</span></span><br><span class="line">	<span class="keyword">if</span>(winner!=<span class="literal">null</span>) &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span>(step&gt;=<span class="number">100</span>) &#123;</span><br><span class="line">			winner=Thread.currentThread().getName();</span><br><span class="line">			System.out.println(<span class="string">&quot;winner is&quot;</span>+winner);</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span> &#123;</span><br><span class="line">	Hello race=<span class="keyword">new</span> <span class="title class_">Hello</span>();</span><br><span class="line">	<span class="keyword">new</span> <span class="title class_">Thread</span>(race,<span class="string">&quot;兔子&quot;</span>).start();</span><br><span class="line">	<span class="keyword">new</span> <span class="title class_">Thread</span>(race,<span class="string">&quot;乌龟&quot;</span>).start();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="实现Callable接口"><a href="#实现Callable接口" class="headerlink" title="实现Callable接口"></a>实现Callable接口</h2><p>好处：1.可以定义返回值       2.可以抛出异常</p>
<p><img src="C:\Users#赵梓皓&\AppData\Roaming\Typora\typora-user-images\image-20220704145056423.png" alt="image-20220704145056423"></p>
<p>t1就是实现Callable接口的类的实例化对象</p>
<p>要重写call方法，可以自己设定它的返回值和哪个Collable接口的泛型类型一致</p>
<p><img src="C:\Users#赵梓皓&\AppData\Roaming\Typora\typora-user-images\image-20220704144914060.png" alt="image-20220704144914060"></p>
<h2 id="静态代理模式"><a href="#静态代理模式" class="headerlink" title="静态代理模式"></a>静态代理模式</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> hello;</span><br><span class="line"><span class="comment">//静态代理模式：</span></span><br><span class="line"><span class="comment">//真实对象和代理对象都要实现同一个接口</span></span><br><span class="line"><span class="comment">//代理对象要代理真实角色</span></span><br><span class="line"><span class="comment">//好处：</span></span><br><span class="line">        <span class="comment">//代理对象可以做很多真实对象做不了的事情</span></span><br><span class="line">        <span class="comment">//真实对象专注做自己的事情</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Hello</span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span> &#123;</span><br><span class="line">		WeddingCompany weddingCompany=<span class="keyword">new</span> <span class="title class_">WeddingCompany</span>(<span class="keyword">new</span> <span class="title class_">You</span>());<span class="comment">//我来、把自己给婚庆公司</span></span><br><span class="line">		weddingCompany.HappyMarry();<span class="comment">//婚庆公司代理我结婚，没有通过我直接去调用结婚的方法</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Marry</span>&#123;</span><br><span class="line">	<span class="keyword">void</span> <span class="title function_">HappyMarry</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">You</span> <span class="keyword">implements</span> <span class="title class_">Marry</span>&#123;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">HappyMarry</span><span class="params">()</span> &#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;我要结婚了&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//婚庆公司代理我去结婚，还是我去结婚</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">WeddingCompany</span> <span class="keyword">implements</span> <span class="title class_">Marry</span>&#123;</span><br><span class="line">	<span class="comment">//这个地方是一个真实的结婚的角色</span></span><br><span class="line">	<span class="keyword">private</span> Marry target;</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">WeddingCompany</span><span class="params">(Marry target)</span> &#123;</span><br><span class="line">		<span class="built_in">this</span>.target=target;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">HappyMarry</span><span class="params">()</span> &#123;</span><br><span class="line">		before();</span><br><span class="line">	        <span class="built_in">this</span>.target.HappyMarry();<span class="comment">//这就是真实对象</span></span><br><span class="line">	        after();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">after</span><span class="params">()</span> &#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;结婚之后，收尾款&quot;</span>);</span><br><span class="line">		</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">before</span><span class="params">()</span> &#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;结婚之前，布置现场&quot;</span>);</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>类比到多线程：new Thread(()-&gt;System.out.println(“我爱你”)).start();</p>
<p>Thread类代理Runnable接口那个真实对象</p>
<h2 id="线程状态"><a href="#线程状态" class="headerlink" title="线程状态"></a>线程状态</h2><p><img src="C:\Users#赵梓皓&\AppData\Roaming\Typora\typora-user-images\image-20220704153420537.png" alt="image-20220704153420537"></p>
<p>new是创建状态             dead是死亡状态</p>
<h2 id="停止线程"><a href="#停止线程" class="headerlink" title="停止线程"></a>停止线程</h2><p>不推荐使用jdk提供的stop()  destroy()方法</p>
<p>推荐线程自己停下来</p>
<p>建议使用一个标志位进行终止变量 当flag&#x3D;false，则终止线程运行</p>
<p>&#x2F;&#x2F;测试stop<br>&#x2F;&#x2F;1.建议线程正常停止—》利用次数，不建议死循环<br>&#x2F;&#x2F;2.建议使用标志位–&gt;设置一个标志位<br>&#x2F;&#x2F;3.不要使用stop或者destroy等果实或者JDK不建议使用的方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Hello</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//1设置一个标识位</span></span><br><span class="line">	<span class="keyword">private</span> <span class="type">boolean</span> flag=<span class="literal">true</span>;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="type">int</span> i=<span class="number">0</span>;</span><br><span class="line">		<span class="keyword">while</span>(flag) &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;run    thread&quot;</span>+i++);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//2.设置一个公开的方法停止线程</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">stop</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="built_in">this</span>.flag=<span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span> &#123;</span><br><span class="line">		Hello teststop=<span class="keyword">new</span> <span class="title class_">Hello</span>();</span><br><span class="line">		<span class="keyword">new</span> <span class="title class_">Thread</span>(teststop).start();</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">1000</span>;i++) &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;main&quot;</span>+i);</span><br><span class="line">			<span class="keyword">if</span>(i==<span class="number">900</span>) &#123;</span><br><span class="line">				<span class="comment">//调用stop方法切换标志位，让线程停止</span></span><br><span class="line">				teststop.stop();</span><br><span class="line">				System.out.println(<span class="string">&quot;线程该停止了&quot;</span>);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="线程休眠（sleep）"><a href="#线程休眠（sleep）" class="headerlink" title="线程休眠（sleep）"></a>线程休眠（sleep）</h2><p>sleep指定当前线程阻塞的毫秒数</p>
<p>sleep存在异常InterruptedException</p>
<p>sleep时间达到后线程进入就绪状态</p>
<p>sleep可以模拟网络延迟，倒计时等</p>
<p>每一个对象都有一个锁，sleep不会释放锁</p>
<p><strong>&#x2F;&#x2F;模拟网络延时，放大问题的发生性</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Hello</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="type">int</span> ticketNums=<span class="number">10</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">while</span>(<span class="literal">true</span>) &#123;</span><br><span class="line">    	<span class="keyword">if</span>(ticketNums&lt;=<span class="number">0</span>) &#123;</span><br><span class="line">    		<span class="keyword">break</span>;</span><br><span class="line">    	&#125;</span><br><span class="line">    	<span class="keyword">try</span> &#123;</span><br><span class="line">			Thread.sleep(<span class="number">200</span>);<span class="comment">//模拟延时,是当前线程进入休息状态</span></span><br><span class="line">		&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">			<span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">    	System.out.println(Thread.currentThread().getName()+<span class="string">&quot;--&gt;拿到了第&quot;</span>+ticketNums--+<span class="string">&quot;票&quot;</span>);</span><br><span class="line">    	</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span> &#123;</span><br><span class="line">	Hello ticket=<span class="keyword">new</span> <span class="title class_">Hello</span>();</span><br><span class="line">	<span class="comment">//Thread后面的第二个参数是这个线程的名字</span></span><br><span class="line">	<span class="keyword">new</span> <span class="title class_">Thread</span>(ticket,<span class="string">&quot;小明&quot;</span>).start();</span><br><span class="line">	<span class="keyword">new</span> <span class="title class_">Thread</span>(ticket,<span class="string">&quot;老师&quot;</span>).start();</span><br><span class="line">	<span class="keyword">new</span> <span class="title class_">Thread</span>(ticket,<span class="string">&quot;黄牛党&quot;</span>).start();</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>模拟倒计时</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Hello</span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">tenDown</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException&#123;</span><br><span class="line">		<span class="type">int</span> num=<span class="number">10</span>;</span><br><span class="line">		<span class="keyword">while</span>(<span class="literal">true</span>) &#123;</span><br><span class="line">			Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">			System.out.println(num--);</span><br><span class="line">			<span class="keyword">if</span>(num&lt;=<span class="number">0</span>) &#123;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span> &#123;</span><br><span class="line">		</span><br><span class="line"></span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			tenDown();</span><br><span class="line">		&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>获取当前系统时间</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Hello</span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span> &#123;</span><br><span class="line">	      Date startTime=<span class="keyword">new</span> <span class="title class_">Date</span>(System.currentTimeMillis());	<span class="comment">//获取当前的时间Mon Jul 04 16:40:30 CST 2022</span></span><br><span class="line">	      <span class="keyword">while</span>(<span class="literal">true</span>) &#123;</span><br><span class="line">	      <span class="keyword">try</span> &#123;</span><br><span class="line">			Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">			System.out.println(<span class="keyword">new</span> <span class="title class_">SimpleDateFormat</span>(<span class="string">&quot;HH:mm:ss&quot;</span>).format(startTime));<span class="comment">//16:40:30</span></span><br><span class="line">			startTime=<span class="keyword">new</span> <span class="title class_">Date</span>(System.currentTimeMillis());</span><br><span class="line">		&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">	      </span><br><span class="line">	      &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="礼让线程"><a href="#礼让线程" class="headerlink" title="礼让线程"></a>礼让线程</h2><p>礼让线程(yield)：让当前正在执行的线程暂停，但不阻塞</p>
<p>将线程从运行状态转为就绪状态</p>
<p>让cpu重新调度，礼让不一定成功，看CPU心情</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">public class Hello&#123;</span><br><span class="line"></span><br><span class="line">	public static void main(String []args) &#123;</span><br><span class="line">		Myyield e=new Myyield();</span><br><span class="line">	new Thread(e,&quot;a&quot;).start();</span><br><span class="line">	new Thread(e,&quot;b&quot;).start();</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">class Myyield implements Runnable&#123;</span><br><span class="line"></span><br><span class="line">	@Override</span><br><span class="line">	public void run() &#123;</span><br><span class="line">		System.out.println(Thread.currentThread().getName()+&quot;线程开始执行&quot;);</span><br><span class="line">		Thread.yield();//礼让</span><br><span class="line">		System.out.println(Thread.currentThread().getName()+&quot;线程停止执行&quot;);</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">结果：a线程开始执行</span><br><span class="line">     b线程开始执行</span><br><span class="line">     a线程停止执行</span><br><span class="line">     b线程停止执行</span><br></pre></td></tr></table></figure>

<h2 id="线程强制执行（join）"><a href="#线程强制执行（join）" class="headerlink" title="线程强制执行（join）"></a>线程强制执行（join）</h2><p>join合并线程，待此线程执行完成之后再执行其他线程，其他线程阻塞</p>
<p>可以想象成插队</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Hello</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">1000</span>;i++) &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;线程vip来了&quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">		<span class="comment">//启动我们的线程</span></span><br><span class="line">		Hello testjoin=<span class="keyword">new</span> <span class="title class_">Hello</span>();</span><br><span class="line">		Thread a=<span class="keyword">new</span> <span class="title class_">Thread</span>(testjoin);</span><br><span class="line">		a.start();</span><br><span class="line">		<span class="comment">//主线程</span></span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">500</span>;i++) &#123;</span><br><span class="line">			<span class="keyword">if</span>(i==<span class="number">200</span>) &#123;</span><br><span class="line">				a.join();<span class="comment">//强制让run方法线程执行完毕再执行主线程</span></span><br><span class="line">			&#125;</span><br><span class="line">			System.out.println(<span class="string">&quot;main&quot;</span>+i);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;	</span><br></pre></td></tr></table></figure>

<h2 id="观测线程状态"><a href="#观测线程状态" class="headerlink" title="观测线程状态"></a>观测线程状态</h2><ul>
<li><ul>
<li><a href="../../java/lang/Thread.State.html#NEW"><code>NEW</code></a><br>尚未启动的线程处于此状态。 </li>
<li><a href="../../java/lang/Thread.State.html#RUNNABLE"><code>RUNNABLE</code></a><br>在Java虚拟机中执行的线程处于此状态。 </li>
<li><a href="../../java/lang/Thread.State.html#BLOCKED"><code>BLOCKED</code></a><br>被阻塞等待监视器锁定的线程处于此状态。 </li>
<li><a href="../../java/lang/Thread.State.html#WAITING"><code>WAITING</code></a><br>正在等待另一个线程执行特定动作的线程处于此状态。 </li>
<li><a href="../../java/lang/Thread.State.html#TIMED_WAITING"><code>TIMED_WAITING</code></a><br>正在等待另一个线程执行动作达到指定等待时间的线程处于此状态。 </li>
<li><a href="../../java/lang/Thread.State.html#TERMINATED"><code>TERMINATED</code></a><br>已退出的线程处于此状态</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Hello</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">		Thread thread=<span class="keyword">new</span> <span class="title class_">Thread</span>(()-&gt;&#123;</span><br><span class="line">			<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">5</span>;i++) &#123;</span><br><span class="line">				<span class="keyword">try</span> &#123;</span><br><span class="line">					Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">				&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">					<span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">					e.printStackTrace();</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			System.out.println(<span class="string">&quot;abc&quot;</span>);</span><br><span class="line">			</span><br><span class="line">		&#125;);</span><br><span class="line">	</span><br><span class="line">	           <span class="comment">//观察状态		</span></span><br><span class="line">				Thread.State state=thread.getState();</span><br><span class="line">	            System.out.println(state);<span class="comment">//NEW</span></span><br><span class="line">		        <span class="comment">//观察启动后</span></span><br><span class="line">	            thread.start();</span><br><span class="line">	            state=thread.getState();</span><br><span class="line">	            <span class="keyword">while</span>(state!=Thread.State.TERMINATED) &#123;</span><br><span class="line">	            	Thread.sleep(<span class="number">100</span>);</span><br><span class="line">	            	state=thread.getState();</span><br><span class="line">	            	System.out.println(state);</span><br><span class="line">	            &#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">死亡之后的线程不能够被重新启动，一个线程不能够启动两次</span><br></pre></td></tr></table></figure>

<h2 id="线程的优先级"><a href="#线程的优先级" class="headerlink" title="线程的优先级"></a>线程的优先级</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Hello</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">		System.out.println(Thread.currentThread().getPriority());<span class="comment">//主线程默认优先级</span></span><br><span class="line">		MyPriority myPriority=<span class="keyword">new</span> <span class="title class_">MyPriority</span>();</span><br><span class="line">		Thread t1=<span class="keyword">new</span> <span class="title class_">Thread</span>(myPriority,<span class="string">&quot;1&quot;</span>);</span><br><span class="line">		Thread t2=<span class="keyword">new</span> <span class="title class_">Thread</span>(myPriority,<span class="string">&quot;2&quot;</span>);</span><br><span class="line">		Thread t3=<span class="keyword">new</span> <span class="title class_">Thread</span>(myPriority,<span class="string">&quot;3&quot;</span>);</span><br><span class="line">		Thread t4=<span class="keyword">new</span> <span class="title class_">Thread</span>(myPriority,<span class="string">&quot;4&quot;</span>);</span><br><span class="line">		Thread t5=<span class="keyword">new</span> <span class="title class_">Thread</span>(myPriority,<span class="string">&quot;5&quot;</span>);</span><br><span class="line">		Thread t6=<span class="keyword">new</span> <span class="title class_">Thread</span>(myPriority,<span class="string">&quot;6&quot;</span>);</span><br><span class="line">		<span class="comment">//先设置优先级，再启动</span></span><br><span class="line">		t1.start();</span><br><span class="line">		t2.setPriority(<span class="number">1</span>);</span><br><span class="line">		t2.start();</span><br><span class="line">		t3.setPriority(<span class="number">4</span>);</span><br><span class="line">		t3.start();</span><br><span class="line">		t4.setPriority(Thread.MAX_PRIORITY);</span><br><span class="line">		t4.start();</span><br><span class="line">		<span class="comment">//设置优先级大于10小于0会报错</span></span><br><span class="line">		<span class="comment">/*t5.setPriority(-1);</span></span><br><span class="line"><span class="comment">		t5.start();</span></span><br><span class="line"><span class="comment">		t6.setPriority(11);</span></span><br><span class="line"><span class="comment">		t6.start();*/</span>	</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyPriority</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">		System.out.println(Thread.currentThread().getName()+<span class="string">&quot;--&gt;&quot;</span>+Thread.currentThread().getPriority());</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>优先级低只是意味着获得调度的概率低，并不是优先级低就不会被调用了，这都是看cpu的调度</p>
<p>优先级低的执行，优先级高的在等待，这个就会造成性能倒置</p>
<h2 id="守护线程"><a href="#守护线程" class="headerlink" title="守护线程"></a>守护线程</h2><p>线程分为用户线程（main）和守护线程（gc）</p>
<p>虚拟机必须确保用户线程执行完毕</p>
<p>虚拟机不用等待守护线程执行完毕</p>
<p>如，后台记录操作日志，监控内存，垃圾回收等待</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Hello</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">	   <span class="type">God</span> <span class="variable">god</span> <span class="operator">=</span><span class="keyword">new</span> <span class="title class_">God</span>();</span><br><span class="line">	   You you=<span class="keyword">new</span> <span class="title class_">You</span>();</span><br><span class="line">	   <span class="type">Thread</span> <span class="variable">thread</span> <span class="operator">=</span><span class="keyword">new</span> <span class="title class_">Thread</span>(god);</span><br><span class="line">	   thread.setDaemon(<span class="literal">true</span>);<span class="comment">//默认是false表示是用户线程,正常的线程都是用户线程</span></span><br><span class="line">	   thread.start();<span class="comment">//上帝守护线程启动，这个线程不停止程序也会在用户线程执行完毕时停止,这时守护线程也就停止了</span></span><br><span class="line">	   <span class="keyword">new</span> <span class="title class_">Thread</span>(you).start();<span class="comment">//你  用户线程启动</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">God</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">while</span>(<span class="literal">true</span>) &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;上帝健康快乐地活着&quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">You</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">36000</span>;i++) &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;我健康快乐的活着&quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println(<span class="string">&quot;goodbyeworld&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="线程同步"><a href="#线程同步" class="headerlink" title="线程同步"></a>线程同步</h2><p>多个线程操作同一个资源</p>
<p>并发：同一个对象被多个线程同时操作</p>
<p>保证线程安全要有队列而且要有锁，线程同步需要队列加锁</p>
<p>锁就相当于排队上厕所的时候，你进去把门关上防止后面的人进来，等你解决完了下一个人才能够进来</p>
<p>关键词：synchronized    当一个线程获得对象的排它锁，独占资源，其他线程必须等待</p>
<p>存在问题：1.一个线程持有锁会导致其他所有需要此锁的线程挂起</p>
<p>​                     2.在多线竞争下，加锁释放锁会导致比较多的上下文切换和调度延时，引起性能问题</p>
<p>​                    3.如果一个优先级高的线程等待一个优先级低的线程释放锁，会导致优先级倒置，引起性能问题</p>
<p><strong>不安全的买票</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.text.SimpleDateFormat;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="comment">//不安全的买票</span></span><br><span class="line"><span class="comment">//可能三个人都抢到同一个第十张票</span></span><br><span class="line"><span class="comment">//出现负数，就是他们都认为有一张票，当他们买完之后有人拿到的就是负的</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Hello</span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span> &#123;</span><br><span class="line">		buyticket station=<span class="keyword">new</span> <span class="title class_">buyticket</span>();</span><br><span class="line">		<span class="keyword">new</span> <span class="title class_">Thread</span>(station,<span class="string">&quot;小明&quot;</span>).start();</span><br><span class="line">		<span class="keyword">new</span> <span class="title class_">Thread</span>(station,<span class="string">&quot;小红&quot;</span>).start();</span><br><span class="line">		<span class="keyword">new</span> <span class="title class_">Thread</span>(station,<span class="string">&quot;小蓝&quot;</span>).start();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">buyticket</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line">	<span class="comment">//票</span></span><br><span class="line">	<span class="keyword">private</span> <span class="type">int</span> ticketNum=<span class="number">10</span>;</span><br><span class="line">	<span class="type">boolean</span> flag=<span class="literal">true</span>;<span class="comment">//外部停止方式</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="comment">//买票</span></span><br><span class="line">		<span class="keyword">while</span>(flag) &#123;</span><br><span class="line">			</span><br><span class="line"></span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				buy();</span><br><span class="line">			&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">				<span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">buy</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">		<span class="comment">//判断是否有票</span></span><br><span class="line">		<span class="keyword">if</span>(ticketNum&lt;=<span class="number">0</span>) &#123;</span><br><span class="line">			flag=<span class="literal">false</span>;</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//模拟延时</span></span><br><span class="line">		Thread.sleep(<span class="number">100</span>);</span><br><span class="line">		<span class="comment">//买票</span></span><br><span class="line">		System.out.println(Thread.currentThread().getName()+<span class="string">&quot;拿到&quot;</span>+ticketNum--);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>银行取钱不安全</strong></p>
<p>最后钱会变成负数，总共100，你想取50你对象想去100，你俩看到的都是余额100块，所以会造成余额为负数</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Hello</span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span> &#123;</span><br><span class="line">		<span class="comment">//账户</span></span><br><span class="line">		Account account=<span class="keyword">new</span> <span class="title class_">Account</span>(<span class="number">100</span>,<span class="string">&quot;结婚基金&quot;</span>);</span><br><span class="line">		</span><br><span class="line"></span><br><span class="line">		Drawing you=<span class="keyword">new</span> <span class="title class_">Drawing</span>(account,<span class="number">50</span>,<span class="string">&quot;你&quot;</span>);</span><br><span class="line">		Drawing girl=<span class="keyword">new</span> <span class="title class_">Drawing</span>(account,<span class="number">100</span>,<span class="string">&quot;她&quot;</span>);<span class="comment">//第三个参数传入的是这个线程的名字</span></span><br><span class="line">		you.start();</span><br><span class="line">		girl.start();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Account</span>&#123;</span><br><span class="line">	<span class="type">int</span> money;<span class="comment">//金额</span></span><br><span class="line">	String name;<span class="comment">//卡名</span></span><br><span class="line">	Account account;<span class="comment">//账户</span></span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">Account</span><span class="params">(<span class="type">int</span> money, String name)</span> &#123;</span><br><span class="line">		<span class="built_in">super</span>();</span><br><span class="line">		<span class="built_in">this</span>.money = money;</span><br><span class="line">		<span class="built_in">this</span>.name = name;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//银行：模拟取款</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Drawing</span> <span class="keyword">extends</span> <span class="title class_">Thread</span>&#123;</span><br><span class="line">	<span class="comment">//取了多少钱</span></span><br><span class="line">	<span class="type">int</span> drawingMoney;</span><br><span class="line">	<span class="comment">//现在手里有多少钱</span></span><br><span class="line">	<span class="type">int</span>  nowMoney;</span><br><span class="line">	Account account ;</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">Drawing</span><span class="params">(Account account, <span class="type">int</span> drawingMoney, String name)</span> &#123;</span><br><span class="line">		<span class="built_in">super</span>(name);<span class="comment">//这个线程的名字</span></span><br><span class="line">		<span class="built_in">this</span>.account = account;</span><br><span class="line">		<span class="built_in">this</span>.drawingMoney = drawingMoney;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="comment">//判断有没有钱</span></span><br><span class="line">		<span class="keyword">if</span>(account.money-drawingMoney&lt;<span class="number">0</span>) &#123;</span><br><span class="line">			System.out.println(Thread.currentThread().getName()+<span class="string">&quot;钱不够取不到&quot;</span>);</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			Thread.sleep(<span class="number">3000</span>);</span><br><span class="line">		&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">			<span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//卡内金额=金额-你取的钱</span></span><br><span class="line">		account.money=account.money-drawingMoney;</span><br><span class="line">		<span class="comment">//你手里的钱</span></span><br><span class="line">		nowMoney=nowMoney+drawingMoney;</span><br><span class="line"></span><br><span class="line">		System.out.println(account.name+<span class="string">&quot;余额为:&quot;</span>+account.money);</span><br><span class="line">		<span class="comment">//Thread.currentThread().getName()=this.getName()</span></span><br><span class="line">		System.out.println(<span class="built_in">this</span>.getName()+<span class="string">&quot;手里的钱:&quot;</span>+nowMoney);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ArrayList集合线程不安全</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.text.SimpleDateFormat;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Hello</span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span> &#123;</span><br><span class="line">		List&lt;String&gt; lise=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;String&gt;();</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">10000</span>;i++) &#123;</span><br><span class="line">			<span class="keyword">new</span> <span class="title class_">Thread</span>(()-&gt;&#123;</span><br><span class="line">				lise.add(Thread.currentThread().getName());</span><br><span class="line">			&#125;).start();</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			Thread.sleep(<span class="number">3000</span>);</span><br><span class="line">		&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">			<span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println(lise.size());</span><br><span class="line">		</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">结果：<span class="number">9992</span></span><br><span class="line">    可能会有两个元素同时占同一个坑位</span><br></pre></td></tr></table></figure>

<p>线程同步的修改</p>
<p>使用synchronized修饰那个会出现线程问题的方法</p>
<p>这个买票的例子就是一个对象所以在buy方法前面加一个synchronized就可以</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">import java.text.SimpleDateFormat;</span><br><span class="line">import java.util.Date;</span><br><span class="line"></span><br><span class="line">//不安全的买票</span><br><span class="line">//可能三个人都抢到同一个第十张票</span><br><span class="line">//出现负数，就是他们都认为有一张票，当他们买完之后有人拿到的就是负的</span><br><span class="line">public class Main&#123;</span><br><span class="line">	public static void main(String []args) &#123;</span><br><span class="line">		buyticket station=new buyticket();</span><br><span class="line">		new Thread(station,&quot;小明&quot;).start();</span><br><span class="line">		new Thread(station,&quot;小红&quot;).start();</span><br><span class="line">		new Thread(station,&quot;小蓝&quot;).start();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class buyticket implements Runnable&#123;</span><br><span class="line">	//票</span><br><span class="line">	private int ticketNum=10;</span><br><span class="line">	boolean flag=true;//外部停止方式</span><br><span class="line">	public void run() &#123;</span><br><span class="line">		//买票</span><br><span class="line">		while(flag) &#123;</span><br><span class="line">			</span><br><span class="line"></span><br><span class="line">			try &#123;</span><br><span class="line">				buy();</span><br><span class="line">			&#125; catch (InterruptedException e) &#123;</span><br><span class="line">				// TODO Auto-generated catch block</span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	//synchronized同步方法，锁的是this，会一个一个进来</span><br><span class="line">	private synchronized void buy() throws InterruptedException &#123;</span><br><span class="line">		//判断是否有票</span><br><span class="line">		if(ticketNum&lt;=0) &#123;</span><br><span class="line">			flag=false;</span><br><span class="line">			return;</span><br><span class="line">		&#125;</span><br><span class="line">		//模拟延时</span><br><span class="line">		Thread.sleep(100);</span><br><span class="line">		//买票</span><br><span class="line">		System.out.println(Thread.currentThread().getName()+&quot;拿到&quot;+ticketNum--);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>下面这个取钱的如果按照上面那个一样在run方法前面加synchronized还是会出现负的余额，因为它是两个对象</p>
<p>这个就要用同步块   synchronized (Obj){}</p>
<p>obj称之为同步监视器</p>
<p>同步监视器的执行过程</p>
<p>1.第一个线程访问，锁定同步监视器，执行器中的代码</p>
<p>2.第二个·线程访问，发现同步监视器被锁定，无法继续访问</p>
<p>3.第一个线程访问完毕，解锁同步监视器</p>
<p>4.第二个线程访问，发现同步监视器没有锁，然后锁定并访问</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">public class Main&#123;</span><br><span class="line">	public static void main(String []args) &#123;</span><br><span class="line">		//账户</span><br><span class="line">		Account account=new Account(100,&quot;结婚基金&quot;);</span><br><span class="line">		</span><br><span class="line"></span><br><span class="line">		Drawing you=new Drawing(account,50,&quot;你&quot;);</span><br><span class="line">		Drawing girl=new Drawing(account,100,&quot;她&quot;);//第三个参数传入的是这个线程的名字</span><br><span class="line">		you.start();</span><br><span class="line">		girl.start();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">class Account&#123;</span><br><span class="line">	int money;//金额</span><br><span class="line">	String name;//卡名</span><br><span class="line">	Account account;//账户</span><br><span class="line">	public Account(int money, String name) &#123;</span><br><span class="line">		super();</span><br><span class="line">		this.money = money;</span><br><span class="line">		this.name = name;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">//银行：模拟取款</span><br><span class="line">class Drawing extends Thread&#123;</span><br><span class="line">	//取了多少钱</span><br><span class="line">	int drawingMoney;</span><br><span class="line">	//现在手里有多少钱</span><br><span class="line">	int  nowMoney;</span><br><span class="line">	Account account ;</span><br><span class="line">	public Drawing(Account account, int drawingMoney, String name) &#123;</span><br><span class="line">		super(name);//这个线程的名字</span><br><span class="line">		this.account = account;</span><br><span class="line">		this.drawingMoney = drawingMoney;</span><br><span class="line">	&#125;</span><br><span class="line">	public void run() &#123;</span><br><span class="line">		//判断有没有钱</span><br><span class="line">		synchronized(account) &#123;//这里面是就是需要排队使用的资源，也就是account对象</span><br><span class="line">		if(account.money-drawingMoney&lt;0) &#123;</span><br><span class="line">			System.out.println(Thread.currentThread().getName()+&quot;钱不够取不到&quot;);</span><br><span class="line">			return;</span><br><span class="line">		&#125;</span><br><span class="line">		try &#123;</span><br><span class="line">			Thread.sleep(3000);</span><br><span class="line">		&#125; catch (InterruptedException e) &#123;</span><br><span class="line">			// TODO Auto-generated catch block</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">		//卡内金额=金额-你取的钱</span><br><span class="line">		account.money=account.money-drawingMoney;</span><br><span class="line">		//你手里的钱</span><br><span class="line">		nowMoney=nowMoney+drawingMoney;</span><br><span class="line"></span><br><span class="line">		System.out.println(account.name+&quot;余额为:&quot;+account.money);</span><br><span class="line">		//Thread.currentThread().getName()=this.getName()</span><br><span class="line">		System.out.println(this.getName()+&quot;手里的钱:&quot;+nowMoney);</span><br><span class="line">	&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>下面这个和上面那个一样，锁住的是lise集合</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.text.SimpleDateFormat;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span> &#123;</span><br><span class="line">		List&lt;String&gt; lise=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;String&gt;();</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">10000</span>;i++) &#123;</span><br><span class="line">			<span class="keyword">new</span> <span class="title class_">Thread</span>(()-&gt;&#123;</span><br><span class="line">				<span class="keyword">synchronized</span>(lise) &#123;</span><br><span class="line">				lise.add(Thread.currentThread().getName());</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;).start();</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			Thread.sleep(<span class="number">3000</span>);</span><br><span class="line">		&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">			<span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println(lise.size());</span><br><span class="line">		</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>放在synchronized块里面的是可能会出现问题的代码</p>
<h2 id="一个线程安全的集合"><a href="#一个线程安全的集合" class="headerlink" title="一个线程安全的集合"></a>一个线程安全的集合</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.text.SimpleDateFormat;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.CopyOnWriteArrayList;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span> &#123;</span><br><span class="line">		CopyOnWriteArrayList&lt;String&gt; list=<span class="keyword">new</span> <span class="title class_">CopyOnWriteArrayList</span>&lt;String&gt;();</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">1000</span>;i++) &#123;</span><br><span class="line">			<span class="keyword">new</span> <span class="title class_">Thread</span>(()-&gt;&#123;</span><br><span class="line">				list.add(Thread.currentThread().getName());</span><br><span class="line">			&#125;).start();</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println(list.size());</span><br><span class="line">		</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="死锁"><a href="#死锁" class="headerlink" title="死锁"></a>死锁</h2><p>多个线程各自占有一些共享资源，并且互相等待其他线程占有的资源才能运行，而导致两个或者多个线程都在等待对方释放资源，都停止执行的情形，某一个同步块同时拥有两个以上的锁时，就可能会发生死锁的问题</p>
<p>&#x2F;&#x2F;死锁：多个线程互相抱着对方需要的资源，然后形成僵持</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span> &#123;</span><br><span class="line">		MakeUp  g1=<span class="keyword">new</span> <span class="title class_">MakeUp</span>(<span class="number">0</span>,<span class="string">&quot;灰姑娘&quot;</span>);</span><br><span class="line">		MakeUp  g2=<span class="keyword">new</span> <span class="title class_">MakeUp</span>(<span class="number">1</span>,<span class="string">&quot;白雪公主&quot;</span>);</span><br><span class="line">		</span><br><span class="line"></span><br><span class="line">		g1.start();</span><br><span class="line">		g2.start();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//口红</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Lipstick</span>&#123;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//镜子</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Mirror</span>&#123;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MakeUp</span> <span class="keyword">extends</span> <span class="title class_">Thread</span>&#123;</span><br><span class="line">	<span class="comment">//需要的资源只有一份，用static保证只有一份</span></span><br><span class="line">	<span class="keyword">static</span> Lipstick lipstick=<span class="keyword">new</span> <span class="title class_">Lipstick</span>();</span><br><span class="line">	<span class="keyword">static</span> Mirror mirror=<span class="keyword">new</span> <span class="title class_">Mirror</span>();</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">MakeUp</span><span class="params">(<span class="type">int</span> choice,String girlname)</span> &#123;</span><br><span class="line">		<span class="built_in">this</span>.choice=choice;</span><br><span class="line">		<span class="built_in">this</span>.girlname=girlname;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="type">int</span> choice;<span class="comment">//选择</span></span><br><span class="line">	String girlname;<span class="comment">//使用化妆品的人</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			makeup();</span><br><span class="line">		&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">			<span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//化妆，互相持有对方的锁，就是需要拿到对方的资源</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">makeup</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">		<span class="keyword">if</span>(choice==<span class="number">0</span>) &#123;</span><br><span class="line">			<span class="keyword">synchronized</span>(lipstick) &#123;</span><br><span class="line">				System.out.println(<span class="built_in">this</span>.girlname+<span class="string">&quot;获得口红的锁&quot;</span>);</span><br><span class="line">				Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">				</span><br><span class="line"></span><br><span class="line">				<span class="keyword">synchronized</span>(mirror) &#123;<span class="comment">//一秒钟之后获得镜子</span></span><br><span class="line">					System.out.println(<span class="built_in">this</span>.girlname+<span class="string">&quot;获得镜子的锁&quot;</span>);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="keyword">synchronized</span>(mirror) &#123;</span><br><span class="line">				System.out.println(<span class="built_in">this</span>.girlname+<span class="string">&quot;获得镜子的锁&quot;</span>);</span><br><span class="line">				Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">				</span><br><span class="line">				<span class="keyword">synchronized</span>(lipstick) &#123;<span class="comment">//一秒钟之后获得镜子</span></span><br><span class="line">					System.out.println(<span class="built_in">this</span>.girlname+<span class="string">&quot;获得口红的锁&quot;</span>);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">​		</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">结果：</span><br><span class="line">    白雪公主获得镜子的锁</span><br><span class="line">灰姑娘获得口红的锁</span><br><span class="line">    这样之后他们还想要对方的东西，所以程序就卡死了</span><br></pre></td></tr></table></figure>

<p>解决方法</p>
<p>变成两个锁，不是一个锁在另一个锁里面</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.text.SimpleDateFormat;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.CopyOnWriteArrayList;</span><br><span class="line"></span><br><span class="line"><span class="comment">//死锁：多个线程互相抱着对方需要的资源，然后形成僵持</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span> &#123;</span><br><span class="line">		MakeUp  g1=<span class="keyword">new</span> <span class="title class_">MakeUp</span>(<span class="number">0</span>,<span class="string">&quot;灰姑娘&quot;</span>);</span><br><span class="line">		MakeUp  g2=<span class="keyword">new</span> <span class="title class_">MakeUp</span>(<span class="number">1</span>,<span class="string">&quot;白雪公主&quot;</span>);</span><br><span class="line">		</span><br><span class="line"></span><br><span class="line">		g1.start();</span><br><span class="line">		g2.start();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//口红</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Lipstick</span>&#123;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//镜子</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Mirror</span>&#123;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MakeUp</span> <span class="keyword">extends</span> <span class="title class_">Thread</span>&#123;</span><br><span class="line">	<span class="comment">//需要的资源只有一份，用static保证只有一份</span></span><br><span class="line">	<span class="keyword">static</span> Lipstick lipstick=<span class="keyword">new</span> <span class="title class_">Lipstick</span>();</span><br><span class="line">	<span class="keyword">static</span> Mirror mirror=<span class="keyword">new</span> <span class="title class_">Mirror</span>();</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">MakeUp</span><span class="params">(<span class="type">int</span> choice,String girlname)</span> &#123;</span><br><span class="line">		<span class="built_in">this</span>.choice=choice;</span><br><span class="line">		<span class="built_in">this</span>.girlname=girlname;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="type">int</span> choice;<span class="comment">//选择</span></span><br><span class="line">	String girlname;<span class="comment">//使用化妆品的人</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			makeup();</span><br><span class="line">		&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">			<span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//化妆，互相持有对方的锁，就是需要拿到对方的资源</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">makeup</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">		<span class="keyword">if</span>(choice==<span class="number">0</span>) &#123;</span><br><span class="line">			<span class="keyword">synchronized</span>(lipstick) &#123;</span><br><span class="line">				System.out.println(<span class="built_in">this</span>.girlname+<span class="string">&quot;获得口红的锁&quot;</span>);</span><br><span class="line">				Thread.sleep(<span class="number">1000</span>);</span><br><span class="line"></span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">			<span class="keyword">synchronized</span>(mirror) &#123;<span class="comment">//一秒钟之后获得镜子</span></span><br><span class="line">				System.out.println(<span class="built_in">this</span>.girlname+<span class="string">&quot;获得镜子的锁&quot;</span>);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="keyword">synchronized</span>(mirror) &#123;</span><br><span class="line">				System.out.println(<span class="built_in">this</span>.girlname+<span class="string">&quot;获得镜子的锁&quot;</span>);</span><br><span class="line">				Thread.sleep(<span class="number">1000</span>);	</span><br><span class="line"></span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">synchronized</span>(lipstick) &#123;<span class="comment">//一秒钟之后获得镜子</span></span><br><span class="line">				System.out.println(<span class="built_in">this</span>.girlname+<span class="string">&quot;获得口红的锁&quot;</span>);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;	</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>产生死锁的条件：1.互斥条件：一个资源每次只能被一个进程使用</p>
<p>2，请求与保持条件：一个进程因请求资源而阻塞时，对已获得的资源保持不放</p>
<p>3.不剥夺条件：进程已获得的资源，在未使用完之前，不能强行剥夺</p>
<p>4.循环等待条件：若干进程之间形成一种头尾相接的循环等待资源关闭</p>
<p>破坏上面的一个条件就可以避免死锁的发生</p>
<h2 id="Lock锁"><a href="#Lock锁" class="headerlink" title="Lock锁"></a>Lock锁</h2><p>控制多个线程对共享资源进行访问的工具</p>
<p>ReentrantLock类实现了Lock</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">import java.util.concurrent.locks.ReentrantLock;</span><br><span class="line"></span><br><span class="line">public class Main&#123;</span><br><span class="line">	public static void main(String args[]) &#123;</span><br><span class="line">	testlock testlock1=new testlock();</span><br><span class="line">	new Thread(testlock1,&quot;小蓝&quot;).start();</span><br><span class="line">	new Thread(testlock1,&quot;小红&quot;).start();</span><br><span class="line">	new Thread(testlock1,&quot;小明&quot;).start();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class testlock implements Runnable&#123;</span><br><span class="line">private int ticketnums=10;</span><br><span class="line">//定义lock锁</span><br><span class="line">private final ReentrantLock lock=new ReentrantLock();</span><br><span class="line">	@Override</span><br><span class="line">	public void run() &#123;</span><br><span class="line">	while(true) &#123;</span><br><span class="line">		try &#123;</span><br><span class="line">			lock.lock();//加锁</span><br><span class="line">			if(ticketnums&gt;0) &#123;</span><br><span class="line">				try &#123;</span><br><span class="line">					Thread.sleep(1000);</span><br><span class="line">				&#125; catch (InterruptedException e) &#123;</span><br><span class="line">					// TODO Auto-generated catch block</span><br><span class="line">					e.printStackTrace();</span><br><span class="line">				&#125;</span><br><span class="line">				System.out.println(Thread.currentThread().getName()+&quot;拿到了第&quot;+ticketnums--+&quot;票&quot;);</span><br><span class="line">		&#125;</span><br><span class="line">			else</span><br><span class="line">			&#123;</span><br><span class="line">				break;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		finally&#123;</span><br><span class="line">			//解锁</span><br><span class="line">			lock.unlock();</span><br><span class="line">		&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		&#125;</span><br></pre></td></tr></table></figure>

<p>加锁和解锁最好是在try和finally里面，而且try中是可能会出现问题的代码</p>
<h2 id="线程协作"><a href="#线程协作" class="headerlink" title="线程协作"></a>线程协作</h2><p>线程通信：这是一个线程同步问题，生产者和消费者共享同一个资源，并且生产者和消费者之间相互依赖，互为条件</p>
<p>对于生产者，没有生产产品之前，要通知消费者等待，有了产品之后，马上通知消费者消费</p>
<p>对于消费者，在消费之后，要通知生产者结束消费，需要生产新的产品以供消费</p>
<p>在生产者消费者问题中，仅有synchronized是不够的</p>
<p>​                synchronized可阻止并发更新同一个共享资源，实现了同步</p>
<p>​                synchronized不能用来实现不同线程之间的消息传递</p>
<p>通过一个标志来判断什么时候应该等待，什么时候应该唤醒</p>
<p>notifyAll方法是唤醒线程只能唤醒wait等待的线程</p>
<p>wait方法是让该线程等待</p>
<h3 id="管程法"><a href="#管程法" class="headerlink" title="管程法"></a>管程法</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.concurrent.locks.ReentrantLock;</span><br><span class="line"></span><br><span class="line"><span class="comment">//测试：生产者消费者模型，利用缓冲区来解决：管程法</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span> &#123;</span><br><span class="line">		SynContainer container=<span class="keyword">new</span> <span class="title class_">SynContainer</span>();</span><br><span class="line">		<span class="keyword">new</span> <span class="title class_">Productor</span>(container).start();</span><br><span class="line">		<span class="keyword">new</span> <span class="title class_">Consumer</span>(container).start();</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//生产者</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Productor</span> <span class="keyword">extends</span> <span class="title class_">Thread</span>&#123;</span><br><span class="line">	SynContainer container;</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">Productor</span><span class="params">(SynContainer container)</span> &#123;</span><br><span class="line">		<span class="built_in">this</span>.container=container;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//生产</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">	    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">100</span>;i++) &#123;</span><br><span class="line">	    	System.out.println(<span class="string">&quot;生产了&quot;</span>+i+<span class="string">&quot;只鸡&quot;</span>);</span><br><span class="line">	    	container.push(<span class="keyword">new</span> <span class="title class_">Chicken</span>(i));</span><br><span class="line">	    &#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//消费者</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Consumer</span> <span class="keyword">extends</span> <span class="title class_">Thread</span>&#123;</span><br><span class="line">	SynContainer container;</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">Consumer</span><span class="params">(SynContainer container)</span> &#123;</span><br><span class="line">		<span class="built_in">this</span>.container=container;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//消费</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">100</span>;i++) &#123;</span><br><span class="line">	    	System.out.println(<span class="string">&quot;消费了--&gt;&quot;</span>+container.pop().id+<span class="string">&quot;只鸡&quot;</span>);</span><br><span class="line">	    &#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//产品</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Chicken</span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> id;</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">Chicken</span><span class="params">(<span class="type">int</span> id)</span> &#123;</span><br><span class="line">		<span class="built_in">this</span>.id=id;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//缓冲区</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SynContainer</span>&#123;</span><br><span class="line">	<span class="comment">//需要一个容器大小</span></span><br><span class="line">	Chicken[] chickens=<span class="keyword">new</span> <span class="title class_">Chicken</span>[<span class="number">10</span>];</span><br><span class="line">	<span class="comment">//容器计数器</span></span><br><span class="line">	<span class="type">int</span> count=<span class="number">0</span>;</span><br><span class="line">	<span class="comment">//生产者放入产品</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">push</span><span class="params">(Chicken chicken)</span> &#123;</span><br><span class="line">		<span class="comment">//如果容器满了就要等待消费者消费</span></span><br><span class="line">		<span class="keyword">if</span>(count==chickens.length) &#123;</span><br><span class="line">			<span class="comment">//通知生产者消费，生产等待</span></span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				<span class="built_in">this</span>.wait();</span><br><span class="line">			&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">				<span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//如果没有满，我们就需要放入产品</span></span><br><span class="line">		chickens[count]=chicken;</span><br><span class="line">		count++;</span><br><span class="line">		</span><br><span class="line"></span><br><span class="line">		<span class="comment">//可以通知消费者消费了</span></span><br><span class="line">	<span class="built_in">this</span>.notifyAll();</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//消费者消费产品</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">synchronized</span> Chicken <span class="title function_">pop</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="comment">//判断是否能消费</span></span><br><span class="line">		<span class="keyword">if</span>(count==<span class="number">0</span>) &#123;</span><br><span class="line">	       <span class="comment">//等待生产者生产，消费者等待</span></span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				<span class="built_in">this</span>.wait();</span><br><span class="line">			&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">				<span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//如果可以消费</span></span><br><span class="line">		count--;</span><br><span class="line">		Chicken chicken=chickens[count];</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//吃完了，通知生产者生产</span></span><br><span class="line">		<span class="built_in">this</span>.notifyAll();</span><br><span class="line">		<span class="keyword">return</span> chicken;</span><br><span class="line">	&#125;	</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="信号灯法"><a href="#信号灯法" class="headerlink" title="信号灯法"></a>信号灯法</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.concurrent.locks.ReentrantLock;</span><br><span class="line"></span><br><span class="line"><span class="comment">//测试：生产者消费者模型，信号灯法，标志位解决</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span> &#123;</span><br><span class="line">		TV tv=<span class="keyword">new</span> <span class="title class_">TV</span>();</span><br><span class="line">		<span class="keyword">new</span> <span class="title class_">Player</span>(tv).start();</span><br><span class="line">		<span class="keyword">new</span> <span class="title class_">Watcher</span>(tv).start();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//生产者-&gt;演员</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Player</span> <span class="keyword">extends</span> <span class="title class_">Thread</span>&#123;</span><br><span class="line">	TV tv;</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">Player</span><span class="params">(TV tv)</span> &#123;</span><br><span class="line">		<span class="built_in">this</span>.tv=tv;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">20</span>;i++) &#123;</span><br><span class="line">			<span class="keyword">if</span>(i%<span class="number">2</span>==<span class="number">0</span>) &#123;</span><br><span class="line">				<span class="built_in">this</span>.tv.play(<span class="string">&quot;快乐大本营播放中&quot;</span>);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span></span><br><span class="line">			&#123;</span><br><span class="line">				<span class="built_in">this</span>.tv.play(<span class="string">&quot;抖音:记录美好生活&quot;</span>);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//消费者-&gt;观众</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Watcher</span> <span class="keyword">extends</span> <span class="title class_">Thread</span>&#123;</span><br><span class="line">	TV tv;</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">Watcher</span><span class="params">(TV tv)</span> &#123;</span><br><span class="line">		<span class="built_in">this</span>.tv=tv;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">20</span>;i++) &#123;</span><br><span class="line">			<span class="built_in">this</span>.tv.watch();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//产品-&gt;节目</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">TV</span>&#123;</span><br><span class="line">	<span class="comment">//演员表演，观众等待  t</span></span><br><span class="line">	<span class="comment">//观众观看，演员等待  f</span></span><br><span class="line">	String voice;<span class="comment">//表演的节目</span></span><br><span class="line">	<span class="type">boolean</span> flag=<span class="literal">true</span>;</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	<span class="comment">//表演</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">play</span><span class="params">(String voice)</span> &#123;</span><br><span class="line">		<span class="keyword">if</span>(!flag) &#123;</span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				<span class="built_in">this</span>.wait();</span><br><span class="line">			&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">				<span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println(<span class="string">&quot;演员表演了&quot;</span>+voice);</span><br><span class="line">		<span class="comment">//通知观众观看</span></span><br><span class="line">		<span class="built_in">this</span>.notifyAll();<span class="comment">//通知唤醒</span></span><br><span class="line">		<span class="built_in">this</span>.voice=voice;</span><br><span class="line">		<span class="built_in">this</span>.flag=!<span class="built_in">this</span>.flag;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//观看</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">watch</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">if</span>(flag) &#123;</span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				<span class="built_in">this</span>.wait();</span><br><span class="line">			&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">				<span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println(<span class="string">&quot;观看了&quot;</span>+voice);</span><br><span class="line">		<span class="comment">//通知演员要表演了</span></span><br><span class="line">		<span class="built_in">this</span>.notifyAll();</span><br><span class="line">		<span class="built_in">this</span>.flag=!<span class="built_in">this</span>.flag;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="线程池"><a href="#线程池" class="headerlink" title="线程池"></a>线程池</h2><h1 id="java反射"><a href="#java反射" class="headerlink" title="java反射"></a>java反射</h1><p>1.Reflection是被视为动态语言的关键，反射机制允许程序在执行期借助于Reflection API取得任何类的内部信息，并能直接操作任意对象的内部属性和方法</p>
<p>2.加载完类之后，在堆内存中的方法区就产生了一个Class类型的对象，这个对象就包含了完整的类的结构信息，我们可以通过这个对象看到类的结构，这个对象就像一个面镜子，透过这个镜子看到类的结构，所以我们形象的称之为，反射</p>
<p>动态语言和静态语言的区别就是动态语言在运行时代码可以根据某些条件改变自身结构</p>
<p>java之所以成为准动态语言是因为有反射机制</p>
<p>正常方式：引入需要的包类名称 —》通过new实例化对象–》取得实例化对象</p>
<p>反射方式：实例化对象–》getClass()方法–》得到完整的包类名称</p>
<h2 id="反射的功能"><a href="#反射的功能" class="headerlink" title="反射的功能"></a>反射的功能</h2><p><strong>反射的功能</strong></p>
<p><strong>反射相关的API</strong></p>
<p>java.lang.Class:代表一个类</p>
<p>java.lang.reflect.Method:代表类的方法</p>
<p>java.lang.reflect.Field:代表类的成员变量</p>
<p>java.lang.reflect.Constructor:代表类的构造器</p>
<h2 id="一个反射的演示"><a href="#一个反射的演示" class="headerlink" title="一个反射的演示"></a>一个反射的演示</h2><p>Person类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Person</span><span class="params">(String name, <span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">private</span> <span class="title function_">Person</span><span class="params">(String name)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.name=name;</span><br><span class="line">&#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Person&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, age=&quot;</span> + age +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">show</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;你好，我是一个人&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> String <span class="title function_">showNation</span><span class="params">(String nation)</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;我的国籍是&quot;</span>+nation);</span><br><span class="line">        <span class="keyword">return</span> nation;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAge</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(<span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ReflectionTest</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Constructor;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Field;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.InvocationTargetException;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ReflectionTest</span> &#123;</span><br><span class="line">    <span class="comment">//反射之前，对于Person操作</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">//创建Person类的对象</span></span><br><span class="line">        Person p1=<span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;Tom&quot;</span>,<span class="number">12</span>);</span><br><span class="line">        <span class="comment">//通过对象，调用其内部属性方法</span></span><br><span class="line">        p1.age=<span class="number">10</span>;</span><br><span class="line">        System.out.println(p1.toString());</span><br><span class="line">        p1.show();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//在Person类外部不能通过person对象调用内部私有结构</span></span><br><span class="line">    <span class="comment">//比如name。showNation()以及私有的构造器</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//反射之后，对于Person的操作，做的是和上面一样的事</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">()</span> <span class="keyword">throws</span> NoSuchMethodException, IllegalAccessException, InvocationTargetException, InstantiationException, NoSuchFieldException &#123;</span><br><span class="line">        <span class="comment">//获取一个Class类的实例对象</span></span><br><span class="line">        Class clazz=Person.class;</span><br><span class="line">        <span class="comment">//1.通过反射，创建Person类的对象</span></span><br><span class="line">           <span class="comment">//获取构造器</span></span><br><span class="line">           Constructor cons=clazz.getConstructor(String.class,<span class="type">int</span>.class);</span><br><span class="line">           <span class="comment">//创建实例</span></span><br><span class="line">           Object obj=cons.newInstance(<span class="string">&quot;Tom&quot;</span>,<span class="number">12</span>);</span><br><span class="line">           Person p=(Person)obj;</span><br><span class="line">           System.out.println(p.toString());</span><br><span class="line"></span><br><span class="line">           <span class="comment">//2.通过反射，调用对象的指定属性方法</span></span><br><span class="line">        Field age=clazz.getDeclaredField(<span class="string">&quot;age&quot;</span>);</span><br><span class="line">        age.set(p,<span class="number">10</span>);</span><br><span class="line">        System.out.println(p.toString());</span><br><span class="line">        <span class="comment">//调用空参的show方法</span></span><br><span class="line">        Method show=clazz.getDeclaredMethod(<span class="string">&quot;show&quot;</span>);</span><br><span class="line">        show.invoke(p);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>疑问：通过直接new的方式或反射的方式都可以调用公共的结构，开发中到底用哪个</p>
<p>建议：用直接new的方式</p>
<p>疑问：什么时候用反射的方式</p>
<p>反射的特性是动态性，比如在编译的时候你无法确定到底是要实例化哪个类就是要用这种反射的方式</p>
<h2 id="关于Class类理解"><a href="#关于Class类理解" class="headerlink" title="关于Class类理解"></a>关于Class类理解</h2><p>1.类的加载过程</p>
<p>   程序经过javac.exe命令以后，会生成一个或多个字节码文件（.class结尾）</p>
<p>   接着我们使用java.exe命令对某个字节码文件进行解释运行，相当于将某个字节码文件加载到内存中，此过程就称为类的加载，加载到内存中的类，我们就称为运行时类，此运行时类，就作为Class的一个实例</p>
<p>2.换句话说，Class的实例就对应的一个运行时类</p>
<p>3.加载<strong>到内存中的运行时类，会缓存一定的时间，在此时间之内，我们可以通过不同的方式来获取此运行时类</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//获取大的class实例的方式</span></span><br><span class="line"> <span class="meta">@Test</span></span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test3</span><span class="params">()</span> <span class="keyword">throws</span> ClassNotFoundException &#123;</span><br><span class="line">     <span class="comment">//方式一</span></span><br><span class="line">     <span class="comment">//加上泛型之后就避免了你后面进行强转</span></span><br><span class="line">     Class&lt;Person&gt; clazz1=Person.class;</span><br><span class="line">     System.out.println(clazz1);</span><br><span class="line">     <span class="comment">//方式二:通过运行时类的对象</span></span><br><span class="line">     Person p1=<span class="keyword">new</span> <span class="title class_">Person</span>();</span><br><span class="line">     Class clazz2=p1.getClass();</span><br><span class="line">     System.out.println(clazz2);</span><br><span class="line"></span><br><span class="line">     <span class="comment">//方式三：调用Class的静态方法，forName(String classPath)</span></span><br><span class="line">     <span class="comment">//这个路径就是看以src为基准，这种文件直接在src下就直接用文件名，如果底下还有包，就要加上包名</span></span><br><span class="line">     Class clazz3=Class.forName(<span class="string">&quot;Person&quot;</span>);</span><br><span class="line">     System.out.println(clazz3);</span><br><span class="line">     System.out.println(clazz1==clazz2);</span><br><span class="line">     System.out.println(clazz2==clazz3);</span><br><span class="line"></span><br><span class="line">     <span class="comment">//方式四</span></span><br><span class="line">     <span class="type">ClassLoader</span> <span class="variable">classLoader</span> <span class="operator">=</span> ReflectionTest.class.getClassLoader();</span><br><span class="line">     Class clazz4=classLoader.loadClass(<span class="string">&quot;Person&quot;</span>);</span><br><span class="line">     System.out.println(clazz1==clazz4);</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<p>其他可以有Class实例的类型</p>
<p>哪些类型可以有Class对象？ </p>
<p>（1）class： 外部类，成员(成员内部类，静态内部类)，局部内部类，匿名内部类 </p>
<p>（2）interface：接口 （3）[]：数组 （4）enum：枚举 （5）annotation：注解@interface </p>
<p>（6）primitive type：基本数据类型 （7）void</p>
<h2 id="理解类的加载过程"><a href="#理解类的加载过程" class="headerlink" title="理解类的加载过程"></a>理解类的加载过程</h2><p><img src="C:\Users#赵梓皓&\AppData\Roaming\Typora\typora-user-images\image-20220927113944650.png" alt="image-20220927113944650"></p>
<p><img src="C:\Users#赵梓皓&\AppData\Roaming\Typora\typora-user-images\image-20220927115032333.png" alt="image-20220927115032333"></p>
<p><strong>在类的加载过程中就已经执行了静态代码块，构建对象才调用实例代码块和构造方法，且实例代码块比构造方法早</strong></p>
<p><strong>子类加载时，先加载子类的父类，也就是父类的静态代码块先执行再是子类的静态代码块</strong></p>
<p><strong>子类实例化时，先是父类的实例代码块和构造器再是子类的实例代码块和构造器</strong></p>
<h2 id="ClassLoader"><a href="#ClassLoader" class="headerlink" title="ClassLoader"></a>ClassLoader</h2><p>类加载器作用：</p>
<p>将class文件字节码内容加载到内存中，并将这些静态数据转换成方 法区的运行时数据结构，然后在堆中生成一个代表这个类的java.lang.Class对象，作为 方法区中类数据的访问入口。</p>
<p>类缓存：标准的JavaSE类加载器可以按要求查找类，但一旦某个类被加载到类加载器 中，它将维持加载（缓存）一段时间。不过JVM垃圾回收机制可以回收这些Class对象。</p>
<p><img src="C:\Users#赵梓皓&\AppData\Roaming\Typora\typora-user-images\image-20220927121211719.png" alt="image-20220927121211719"></p>
<p>读取文件的时候，把这个Transparent native-to-ascii conversion勾上</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.util.Properties;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ClassLoaderTest</span> &#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">// 1.获取一个系统类加载器</span></span><br><span class="line">        <span class="type">ClassLoader</span> <span class="variable">classLoader</span> <span class="operator">=</span> ClassLoaderTest.class.getClassLoader();</span><br><span class="line">        System.out.println(classLoader);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//调用系统类加载器的getParent()：获取扩展类加载器</span></span><br><span class="line">        <span class="type">ClassLoader</span> <span class="variable">classLoader1</span> <span class="operator">=</span> classLoader.getParent();</span><br><span class="line">        System.out.println(classLoader1);</span><br><span class="line">        <span class="comment">//调用扩展类加载器的getParent()：无法获取引导类加载器</span></span><br><span class="line">        <span class="comment">//引导类加载器主要负责加载java的核心类库，无法加载自定义类的。</span></span><br><span class="line">        <span class="type">ClassLoader</span> <span class="variable">classLoader2</span> <span class="operator">=</span> classLoader1.getParent();</span><br><span class="line">        System.out.println(classLoader2);</span><br><span class="line"></span><br><span class="line">        <span class="type">ClassLoader</span> <span class="variable">classLoader3</span> <span class="operator">=</span> String.class.getClassLoader();</span><br><span class="line">        System.out.println(classLoader3);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    Properties 用来读取配置文件</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        Properties pros=<span class="keyword">new</span> <span class="title class_">Properties</span>();</span><br><span class="line">        <span class="comment">//读取配置文件的方式一</span></span><br><span class="line">        <span class="comment">//此时的文件默认在当前的module下</span></span><br><span class="line">        FileInputStream fis=<span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;./jdbc.properties&quot;</span>);</span><br><span class="line">        <span class="comment">//FileInputStream fis=new FileInputStream(&quot;src\\jdbc1.properties&quot;);</span></span><br><span class="line">        System.out.println(fis);</span><br><span class="line">        <span class="comment">//pros.load(fis);</span></span><br><span class="line">        <span class="comment">//读取配置文件的方式二，使用ClassLoader</span></span><br><span class="line">        <span class="type">ClassLoader</span> <span class="variable">classLoader</span> <span class="operator">=</span> ClassLoaderTest.class.getClassLoader();</span><br><span class="line">        <span class="comment">//这个方法直接是映射到src下的文件</span></span><br><span class="line">        <span class="comment">//在java中路径字符串中/和\\都是一样的</span></span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">resource</span> <span class="operator">=</span> classLoader.getResourceAsStream(<span class="string">&quot;jdbc1.properties&quot;</span>);</span><br><span class="line">        pros.load(resource);</span><br><span class="line">        String user=pros.getProperty(<span class="string">&quot;user&quot;</span>);</span><br><span class="line">        String password=pros.getProperty(<span class="string">&quot;password&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;user=&quot;</span>+user+<span class="string">&quot;password=&quot;</span>+password);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="java项目中的路径问题"><a href="#java项目中的路径问题" class="headerlink" title="java项目中的路径问题"></a>java项目中的路径问题</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">File file=new File(&quot;/&quot;);</span><br><span class="line">System.out.println(file.getAbsolutePath());</span><br><span class="line">//D:\</span><br><span class="line">File file1=new File(&quot;.&quot;);</span><br><span class="line">System.out.println(file1.getAbsolutePath());</span><br><span class="line">D:\IDEAjava工程\javaSE\javareflect\.</span><br></pre></td></tr></table></figure>

<p>&#x2F;代表的是盘符</p>
<p>.代表的是工程目录下的</p>
<p>使用FileInputStream fis&#x3D;new FileInputStream(“jdbc.properties”);</p>
<p>所以这个jdbc.properties也可以是.&#x2F;jdbc.properties</p>
<p>默认就是项目路径下，而不是src路径下，也可以用    全部的整个路径比如D:\IDEAjava工程\javaSE\javareflect\jdbc.properties</p>
<p>InputStream resource &#x3D; classLoader.getResourceAsStream(“jdbc1.properties”);方法就是映射到scr目录下</p>
<p>一般就不用相对路径了，用不明白</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">而且idea中路径字符串中\\和/是同样的效果</span><br></pre></td></tr></table></figure>

<h2 id="创建运行时类的对象和体会动态"><a href="#创建运行时类的对象和体会动态" class="headerlink" title="创建运行时类的对象和体会动态"></a>创建运行时类的对象和体会动态</h2><p>加载到内存中的类我们就把它叫做运行时类</p>
<p>test1时创建运行时类的对象</p>
<p>test2是体会反射的动态性，就是在编译时不能确定创建哪个类对象，运行时才确定创建对象的类型          </p>
<p>并且方法有参数别用@test</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Random;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 通过反射创建对应的运行时类的对象</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">NewInstanceTest</span> &#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span> <span class="keyword">throws</span> IllegalAccessException, InstantiationException &#123;</span><br><span class="line">        <span class="comment">//用了泛型之后后面就不用强转了</span></span><br><span class="line">        Class&lt;Person&gt; clazz=Person.class;</span><br><span class="line">        <span class="comment">//newInstance();调用子方法创建对应的运行时类的对象</span></span><br><span class="line">        <span class="comment">//其实内部还是调用了Person的空参构造器，</span></span><br><span class="line">        <span class="comment">//所以这个方法要求1.类必须有空参构造器</span></span><br><span class="line">        <span class="comment">// 2.这个空参构造器的权限不是私有。通常为public</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//在javabean中要求提供一个public的空参构造其，原因：</span></span><br><span class="line">        <span class="comment">//1.便于通过反射，创建运行时类的对象</span></span><br><span class="line">        <span class="comment">//2.便于子类继承此运行时类时，默认调用super(),保证父类有空参构造器</span></span><br><span class="line">        <span class="type">Person</span> <span class="variable">obj</span> <span class="operator">=</span> clazz.newInstance();</span><br><span class="line">        System.out.println(obj);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">()</span> &#123;</span><br><span class="line"><span class="type">int</span> num=<span class="keyword">new</span> <span class="title class_">Random</span>().nextInt(<span class="number">3</span>);<span class="comment">//0.1.2</span></span><br><span class="line">String path=<span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">switch</span>(num) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">        path = <span class="string">&quot;java.util.Date&quot;</span>;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">        path = <span class="string">&quot;java.lang.Object&quot;</span>;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">        path = <span class="string">&quot;Person&quot;</span>;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">Object</span> <span class="variable">obj</span> <span class="operator">=</span> getInstance(path);</span><br><span class="line">            System.out.println(obj);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">catch</span>(Exception e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 创建一个指定类的对象</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> classPath  指定类的全类名</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throwsException</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">getInstance</span><span class="params">(String classPath)</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">        Class clazz=Class.forName(classPath);</span><br><span class="line">        <span class="keyword">return</span> clazz.newInstance();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="提供结构丰富的Person类"><a href="#提供结构丰富的Person类" class="headerlink" title="提供结构丰富的Person类"></a>提供结构丰富的Person类</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.java;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Person</span> <span class="keyword">extends</span> <span class="title class_">Creature</span>&lt;String&gt; <span class="keyword">implements</span> <span class="title class_">Comparable</span>&lt;String&gt;,MyInterface&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> id;</span><br><span class="line">    <span class="keyword">protected</span> <span class="type">int</span> score;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Person</span><span class="params">()</span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">Person</span><span class="params">(String name)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.name=name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Person</span><span class="params">(String name,<span class="type">int</span> age)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.name=name;</span><br><span class="line">        <span class="built_in">this</span>.age=age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> String <span class="title function_">show</span><span class="params">(String nation)</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;我的国际时&quot;</span>+nation);</span><br><span class="line">        <span class="keyword">return</span> nation;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">display</span><span class="params">(String interests)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> interests;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compareTo</span><span class="params">(String o)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">info</span><span class="params">()</span> &#123;</span><br><span class="line">     System.out.println(<span class="string">&quot;我是一个人&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="获取运行时类的属性结构及其内部结构"><a href="#获取运行时类的属性结构及其内部结构" class="headerlink" title="获取运行时类的属性结构及其内部结构"></a>获取运行时类的属性结构及其内部结构</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.java1;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.atguigu.java.Person;</span><br><span class="line"><span class="keyword">import</span> com.sun.deploy.util.SystemUtils;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Field;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Modifier;</span><br><span class="line"><span class="keyword">import</span> java.util.Locale;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">获取运行时类的属性结构</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FieldTest</span> &#123;</span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span>&#123;</span><br><span class="line">    Class clazz= Person.class;</span><br><span class="line">    <span class="comment">//获取属性结构</span></span><br><span class="line">    <span class="comment">//getFields():获取当前运行时类及其父类中声明为public访问权限的属性</span></span><br><span class="line">    Field[] fields = clazz.getFields();</span><br><span class="line">    <span class="keyword">for</span> (Field f : fields) &#123;</span><br><span class="line">        System.out.println(f);</span><br><span class="line">    &#125;</span><br><span class="line">System.out.println(<span class="string">&quot;******************&quot;</span>);</span><br><span class="line">    <span class="comment">//getDeclaredFields():获取当前运行时类当中的所有属性</span></span><br><span class="line">    Field[] declaredFields = clazz.getDeclaredFields();</span><br><span class="line">    <span class="keyword">for</span> (Field f : declaredFields) &#123;</span><br><span class="line">        System.out.println(f);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//每一个属性的具体的部分也是可以拿到的</span></span><br><span class="line"><span class="comment">//权限，修饰符，数据类型，变量名，变量值</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">()</span>&#123;</span><br><span class="line">    Class clazz=Person.class;</span><br><span class="line">        Field[] declaredFields = clazz.getDeclaredFields();</span><br><span class="line">        <span class="keyword">for</span> (Field f : declaredFields) &#123;</span><br><span class="line">        <span class="comment">//1.权限修饰符</span></span><br><span class="line">            <span class="comment">//这个地方获取的是一个表示访问类型的数字</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">modifier</span> <span class="operator">=</span>f.getModifiers();</span><br><span class="line">            <span class="comment">//这个地方是将访问类型的数字转换成访问类型的文字,空白是默认类型</span></span><br><span class="line">            System.out.println(Modifier.toString(modifier));</span><br><span class="line">            <span class="comment">//2.数据类型</span></span><br><span class="line">               Class type=f.getType();<span class="comment">//type获得的是一个类型</span></span><br><span class="line">               System.out.println(type.getName());<span class="comment">//这样是获得type的全名</span></span><br><span class="line">            <span class="comment">//3.变量名</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> f.getName();</span><br><span class="line">            System.out.println(name);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="获取运行时类的方法结构和内部结构"><a href="#获取运行时类的方法结构和内部结构" class="headerlink" title="获取运行时类的方法结构和内部结构"></a>获取运行时类的方法结构和内部结构</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.java1;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.atguigu.java.Person;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Modifier;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">获取运行时类的方法结构</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MethodTest</span> &#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">Class</span> <span class="variable">clazz</span> <span class="operator">=</span> Person.class;</span><br><span class="line">        <span class="comment">//getMethods:获取当前运行时类及其所有父类中声明为public权限的方法</span></span><br><span class="line">        Method[] methods = clazz.getMethods();</span><br><span class="line">        <span class="keyword">for</span> (Method m : methods) &#123;</span><br><span class="line">            System.out.println(m);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;****************************&quot;</span>);</span><br><span class="line">        <span class="comment">//获取当前运行时类中声明的所有方法，不包含父类中声明的</span></span><br><span class="line">        Method[] declaredMethods = clazz.getDeclaredMethods();</span><br><span class="line">        <span class="keyword">for</span> (Method m : declaredMethods) &#123;</span><br><span class="line">            System.out.println(m);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    @注解</span></span><br><span class="line"><span class="comment">    权限修饰符，返回值类型，方法名（参数类型 形参名1，...）throws Exception()&#123;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">Class</span> <span class="variable">clazz</span> <span class="operator">=</span> Person.class;</span><br><span class="line">        Method[] methods = clazz.getDeclaredMethods();</span><br><span class="line">        <span class="keyword">for</span> (Method m : methods) &#123;</span><br><span class="line">            <span class="comment">//获取权限修饰符</span></span><br><span class="line">            System.out.println(Modifier.toString(m.getModifiers()));</span><br><span class="line"></span><br><span class="line">            <span class="comment">//获取方法的返回值类型</span></span><br><span class="line">            System.out.println(m.getReturnType().getName());</span><br><span class="line"></span><br><span class="line">            <span class="comment">//获取方法名</span></span><br><span class="line">            System.out.println(m.getName());</span><br><span class="line">            System.out.println(<span class="string">&quot;(&quot;</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//获取形参列表</span></span><br><span class="line">            Class[] parameterTypes = m.getParameterTypes();</span><br><span class="line">            <span class="keyword">if</span> (!(parameterTypes != <span class="literal">null</span> &amp;&amp; parameterTypes.length == <span class="number">0</span>)) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; parameterTypes.length; i++) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (i == parameterTypes.length - <span class="number">1</span>) &#123;</span><br><span class="line">                        System.out.println(parameterTypes[i].getName() + <span class="string">&quot; args_&quot;</span> + i);</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    System.out.println(parameterTypes[i].getName() + <span class="string">&quot; args_&quot;</span> + i + <span class="string">&quot;,&quot;</span>);</span><br><span class="line"></span><br><span class="line">                &#125;</span><br><span class="line">                System.out.println(<span class="string">&quot;)&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//获取抛出的异常</span></span><br><span class="line">            Class[] exceptionTypes = m.getExceptionTypes();</span><br><span class="line">            <span class="keyword">if</span> (exceptionTypes.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                System.out.print(<span class="string">&quot;throws&quot;</span>);</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; exceptionTypes.length; i++) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (i == exceptionTypes.length - <span class="number">1</span>) &#123;</span><br><span class="line">                        System.out.println(exceptionTypes[i].getName());</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    System.out.println(exceptionTypes[i].getName() + <span class="string">&quot;,&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="获取运行时类的构造器结构"><a href="#获取运行时类的构造器结构" class="headerlink" title="获取运行时类的构造器结构"></a>获取运行时类的构造器结构</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">package com.atguigu.java1;</span><br><span class="line"></span><br><span class="line">import com.atguigu.java.Person;</span><br><span class="line">import org.junit.Test;</span><br><span class="line"></span><br><span class="line">import java.lang.reflect.Constructor;</span><br><span class="line">import java.lang.reflect.Method;</span><br><span class="line"></span><br><span class="line">public class OtherTest &#123;</span><br><span class="line">@Test</span><br><span class="line">    public void test1()&#123;</span><br><span class="line">    Class clazz= Person.class;</span><br><span class="line">    //getConstructors获取当前运行时类中声明为public的构造器</span><br><span class="line">    Constructor[] constructors = clazz.getConstructors();</span><br><span class="line">    for (Constructor constructor : constructors) &#123;</span><br><span class="line">        System.out.println(constructor);</span><br><span class="line">    &#125;</span><br><span class="line">    System.out.println(&quot;***********************&quot;);</span><br><span class="line">    //getDeclaredMethods获取当前运行时类中声明的所有的构造器</span><br><span class="line">    Constructor[] declaredMethods = clazz.getDeclaredConstructors();</span><br><span class="line">    for (Constructor declaredMethod : declaredMethods) &#123;</span><br><span class="line">        System.out.println(declaredMethod);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="获取运行时类的父类和泛型"><a href="#获取运行时类的父类和泛型" class="headerlink" title="获取运行时类的父类和泛型"></a>获取运行时类的父类和泛型</h2><p><strong>ParameterizedType是Type的子接口</strong></p>
<p><strong>Type是Class的父接口</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">   <span class="comment">/*</span></span><br><span class="line"><span class="comment">    获取运行时类的父类</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">Class</span> <span class="variable">clazz</span> <span class="operator">=</span> Person.class;</span><br><span class="line"></span><br><span class="line">        <span class="type">Class</span> <span class="variable">superclass</span> <span class="operator">=</span> clazz.getSuperclass();</span><br><span class="line">        System.out.println(superclass);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    获取运行时类的带泛型的父类</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test3</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">Class</span> <span class="variable">clazz</span> <span class="operator">=</span> Person.class;</span><br><span class="line"></span><br><span class="line">        <span class="type">Type</span> <span class="variable">genericSuperclass</span> <span class="operator">=</span> clazz.getGenericSuperclass();</span><br><span class="line">        System.out.println(genericSuperclass);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    获取运行时类的带泛型的父类的泛型</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    代码：逻辑性代码  vs 功能性代码</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test4</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">Class</span> <span class="variable">clazz</span> <span class="operator">=</span> Person.class;</span><br><span class="line"></span><br><span class="line">        <span class="type">Type</span> <span class="variable">genericSuperclass</span> <span class="operator">=</span> clazz.getGenericSuperclass();</span><br><span class="line">        <span class="comment">//ParameterizedType是Type的子接口</span></span><br><span class="line">        <span class="comment">//Type是Class的父接口，就像是List和ArrayList的关系</span></span><br><span class="line">        <span class="type">ParameterizedType</span> <span class="variable">paramType</span> <span class="operator">=</span> (ParameterizedType) genericSuperclass;</span><br><span class="line">        <span class="comment">//获取泛型类型</span></span><br><span class="line">        Type[] actualTypeArguments = paramType.getActualTypeArguments();</span><br><span class="line"><span class="comment">//        System.out.println(actualTypeArguments[0].getTypeName());</span></span><br><span class="line">        <span class="comment">//将Type类型强转为class，然后再用getName，只有Type才有getTypename方法</span></span><br><span class="line">        System.out.println(((Class)actualTypeArguments[<span class="number">0</span>]).getName());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    获取运行时类实现的接口</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test5</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">Class</span> <span class="variable">clazz</span> <span class="operator">=</span> Person.class;</span><br><span class="line"></span><br><span class="line">        Class[] interfaces = clazz.getInterfaces();</span><br><span class="line">        <span class="keyword">for</span>(Class c : interfaces)&#123;</span><br><span class="line">            System.out.println(c);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        System.out.println();</span><br><span class="line">        <span class="comment">//获取运行时类的父类实现的接口</span></span><br><span class="line">        Class[] interfaces1 = clazz.getSuperclass().getInterfaces();</span><br><span class="line">        <span class="keyword">for</span>(Class c : interfaces1)&#123;</span><br><span class="line">            System.out.println(c);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h2 id="获取运行时类实现的接口，所在的包，注解"><a href="#获取运行时类实现的接口，所在的包，注解" class="headerlink" title="获取运行时类实现的接口，所在的包，注解"></a>获取运行时类实现的接口，所在的包，注解</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">获取运行时类实现的接口</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test5</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">Class</span> <span class="variable">clazz</span> <span class="operator">=</span> Person.class;</span><br><span class="line"></span><br><span class="line">    Class[] interfaces = clazz.getInterfaces();</span><br><span class="line">    <span class="keyword">for</span>(Class c : interfaces)&#123;</span><br><span class="line">        System.out.println(c);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    System.out.println();</span><br><span class="line">    <span class="comment">//获取运行时类的父类实现的接口</span></span><br><span class="line">    Class[] interfaces1 = clazz.getSuperclass().getInterfaces();</span><br><span class="line">    <span class="keyword">for</span>(Class c : interfaces1)&#123;</span><br><span class="line">        System.out.println(c);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    获取运行时类所在的包</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test6</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">Class</span> <span class="variable">clazz</span> <span class="operator">=</span> Person.class;</span><br><span class="line"></span><br><span class="line">    <span class="type">Package</span> <span class="variable">pack</span> <span class="operator">=</span> clazz.getPackage();</span><br><span class="line">    System.out.println(pack);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    获取运行时类声明的注解</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test7</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">Class</span> <span class="variable">clazz</span> <span class="operator">=</span> Person.class;</span><br><span class="line"></span><br><span class="line">    Annotation[] annotations = clazz.getAnnotations();</span><br><span class="line">    <span class="keyword">for</span>(Annotation annos : annotations)&#123;</span><br><span class="line">        System.out.println(annos);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="调用运行时类的指定结构"><a href="#调用运行时类的指定结构" class="headerlink" title="调用运行时类的指定结构"></a>调用运行时类的指定结构</h2><p>指定结构主要指的是属性和方法构造器</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/09/28/java/" data-id="cl8lcekew0000moui8nfgdqor" data-title="" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/2022/09/28/c%E8%AF%AD%E8%A8%80-1/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">c语言</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/09/">September 2022</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2022/09/28/java/">(no title)</a>
          </li>
        
          <li>
            <a href="/2022/09/28/c%E8%AF%AD%E8%A8%80-1/">c语言</a>
          </li>
        
          <li>
            <a href="/2022/09/28/javaweb/">javaweb</a>
          </li>
        
          <li>
            <a href="/2022/09/28/hello-world/">Hello World</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2022 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>