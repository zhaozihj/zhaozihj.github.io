

<!DOCTYPE html>
<html lang="en" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/img/fluid.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="John Doe">
  <meta name="keywords" content="">
  
    <meta name="description" content="Javaweb HTML.CSS,Javascript前端三刺客HTML是超文本标记语言，是一个网站页面的主要内容和主体框架（主要是实现内容） CSS是层叠样式表，主要用来控制调整网页的样式，它与网页的结构和内容没有关系，仅仅是通过不同语义的标签来调整网页内容的不同表现样式。(主要是实现表现，一种呈现的效果) JavaScript是一种完整的网页脚本语言，有自己独立的语法，可以完成复杂的程序逻辑，">
<meta property="og:type" content="article">
<meta property="og:title" content="javaweb">
<meta property="og:url" content="http://example.com/2022/09/29/javaweb/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="Javaweb HTML.CSS,Javascript前端三刺客HTML是超文本标记语言，是一个网站页面的主要内容和主体框架（主要是实现内容） CSS是层叠样式表，主要用来控制调整网页的样式，它与网页的结构和内容没有关系，仅仅是通过不同语义的标签来调整网页内容的不同表现样式。(主要是实现表现，一种呈现的效果) JavaScript是一种完整的网页脚本语言，有自己独立的语法，可以完成复杂的程序逻辑，">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/img/pikaqiu.bmp">
<meta property="article:published_time" content="2022-09-29T11:22:42.000Z">
<meta property="article:modified_time" content="2022-10-13T07:32:36.113Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://example.com/img/pikaqiu.bmp">
  
  
  
  <title>javaweb - Hexo</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.9.3","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg","onlypost":true,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 6.3.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>java宝库</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                Home
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                Archives
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                Categories
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                Tags
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                About
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="javaweb"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2022-09-29 19:22" pubdate>
          September 29, 2022 pm
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          335k words
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          2790 mins
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">javaweb</h1>
            
            
              <div class="markdown-body">
                
                <p><strong>Javaweb</strong></p>
<h2 id="HTML-CSS-Javascript前端三刺客"><a href="#HTML-CSS-Javascript前端三刺客" class="headerlink" title="HTML.CSS,Javascript前端三刺客"></a>HTML.CSS,Javascript前端三刺客</h2><p>HTML是超文本标记语言，是一个网站页面的主要内容和主体框架（主要是实现内容）</p>
<p>CSS是层叠样式表，主要用来控制调整网页的样式，它与网页的结构和内容没有关系，仅仅是通过不同语义的标签来调整网页内容的不同表现样式。(主要是实现表现，一种呈现的效果)</p>
<p>JavaScript是一种完整的网页脚本语言，有自己独立的语法，可以完成复杂的程序逻辑，而HTML和CSS仅仅是标记语言，不具备编程语言的程序逻辑。(行为，指的是页面中元素与输入设备交互的响应，一般使用javascript技术实现)</p>
<p>B&#x2F;S软件结构：</p>
<p>客户端：浏览器             服务器端：web服务器</p>
<h3 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h3><h4 id="html书写规范"><a href="#html书写规范" class="headerlink" title="html书写规范"></a>html书写规范</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><span class="hljs-comment">&lt;!--约束，声明--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;zh_CN&quot;</span>&gt;</span><span class="hljs-comment">&lt;!--html标签表示html的开始  lang=&quot;zh_CN表示中文&quot;--&gt;</span><br><span class="hljs-comment">&lt;!--html标签中一般分为两部分，head和body--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>  <span class="hljs-comment">&lt;!--表示头部信息，一般包含三部分内容，title标签，css样式，js代码--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><span class="hljs-comment">&lt;!--表示当前页面使用UTF-8字符集--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>标题<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><span class="hljs-comment">&lt;!--表示标题--&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><span class="hljs-comment">&lt;!--body标签是整个html页面显示的主体内容--&gt;</span><br>hello<br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h4 id="html标签"><a href="#html标签" class="headerlink" title="html标签"></a>html标签</h4><p>1.标签名大小写不敏感</p>
<p>2.标签名有自己的属性         </p>
<p> 基本属性：bgcolor&#x3D;“red”  可以修改简单的样式</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--背景颜色属性--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span> <span class="hljs-attr">bgcolor</span>=<span class="hljs-string">&quot;green&quot;</span>&gt;</span><span class="hljs-comment">&lt;!--body标签是整个html页面显示的主体内容--&gt;</span><br></code></pre></td></tr></table></figure>

<p>  事件属性：  onclick&#x3D;“alert(‘你好’);”    </p>
<p>点击body主题内容触发</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--onclick表示点击事件--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;alert(1)&quot;</span>&gt;</span><span class="hljs-comment">&lt;!--body标签是整个html页面显示的主体内容--&gt;</span><br></code></pre></td></tr></table></figure>

<p>3.分为单标签和双标签 &lt;标签名 &#x2F;&gt;        和&lt;标签名&gt;     &lt;&#x2F;标签名&gt;</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">&lt;br /&gt;换行       &lt;hr /&gt;<br></code></pre></td></tr></table></figure>

<p><strong>标签语法</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>0-标签语法.html<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br><br>   <span class="hljs-comment">&lt;!-- ①标签不能交叉嵌套 --&gt;</span><br>   正确：<span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>早安，尚硅谷<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>   错误：<span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>早安，尚硅谷<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">hr</span> /&gt;</span><br><br>   <span class="hljs-comment">&lt;!-- ②标签必须正确关闭(闭合) --&gt;</span><br>   <span class="hljs-comment">&lt;!-- i.有文本内容的标签： --&gt;</span><br>   正确：<span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>早安，尚硅谷<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>   错误：<span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>早安，尚硅谷<br>   <span class="hljs-tag">&lt;<span class="hljs-name">hr</span> /&gt;</span><br>   <br>   <span class="hljs-comment">&lt;!-- ii.没有文本内容的标签： --&gt;</span><br>   正确：<span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span>1<br>   错误：<span class="hljs-tag">&lt;<span class="hljs-name">br</span> &gt;</span>2<br>   <span class="hljs-tag">&lt;<span class="hljs-name">hr</span> /&gt;</span><br>   <br>   <span class="hljs-comment">&lt;!-- ③属性必须有值，属性值必须加引号 --&gt;</span><br>   正确：<span class="hljs-tag">&lt;<span class="hljs-name">font</span> <span class="hljs-attr">color</span>=<span class="hljs-string">&quot;blue&quot;</span>&gt;</span>早安，尚硅谷<span class="hljs-tag">&lt;/<span class="hljs-name">font</span>&gt;</span><br>   错误：<span class="hljs-tag">&lt;<span class="hljs-name">font</span> <span class="hljs-attr">color</span>=<span class="hljs-string">blue</span>&gt;</span>早安，尚硅谷<span class="hljs-tag">&lt;/<span class="hljs-name">font</span>&gt;</span><br>   错误：<span class="hljs-tag">&lt;<span class="hljs-name">font</span> <span class="hljs-attr">color</span>&gt;</span>早安，尚硅谷<span class="hljs-tag">&lt;/<span class="hljs-name">font</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">hr</span> /&gt;</span><br>      <br>   <span class="hljs-comment">&lt;!-- ④注释不能嵌套 --&gt;</span><br>   正确：<span class="hljs-comment">&lt;!-- 注释内容 --&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span><br>   错误：<span class="hljs-comment">&lt;!-- 注释内容 &lt;!-- 注释内容 --&gt;</span>--&gt;<br>   <span class="hljs-tag">&lt;<span class="hljs-name">hr</span> /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p><strong>font标签</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>1.font标签.html<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>   <span class="hljs-comment">&lt;!-- 字体标签</span><br><span class="hljs-comment">    需求1：在网页上显示 我是字体标签 ，并修改字体为 宋体，颜色为红色。</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">    font标签是字体标签,它可以用来修改文本的字体,颜色,大小(尺寸)</span><br><span class="hljs-comment">      color属性修改颜色</span><br><span class="hljs-comment">      face属性修改字体</span><br><span class="hljs-comment">      size属性修改文本大小</span><br><span class="hljs-comment">    --&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">font</span> <span class="hljs-attr">color</span>=<span class="hljs-string">&quot;red&quot;</span> <span class="hljs-attr">face</span>=<span class="hljs-string">&quot;宋体&quot;</span> <span class="hljs-attr">size</span>=<span class="hljs-string">&quot;7&quot;</span>&gt;</span>我是字体标签<span class="hljs-tag">&lt;/<span class="hljs-name">font</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p><strong>特殊字符</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>2.特殊字符.html<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>	<span class="hljs-comment">&lt;!-- 特殊字符</span><br><span class="hljs-comment">	需求1：把 &lt;br&gt; 换行标签 变成文本 转换成字符显示在页面上</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">	常用的特殊字符:</span><br><span class="hljs-comment">		&lt;	===&gt;&gt;&gt;&gt;		&amp;lt;</span><br><span class="hljs-comment">		&gt;   ===&gt;&gt;&gt;&gt;		&amp;gt;</span><br><span class="hljs-comment">	  空格	===&gt;&gt;&gt;&gt;		&amp;nbsp;</span><br><span class="hljs-comment">如果在html文件中出现多个空白字符，那么就只保留一个，必须用特殊字符才可以出现多个空格</span><br><span class="hljs-comment">	 --&gt;</span><br>	我是<span class="hljs-symbol">&amp;lt;</span>br<span class="hljs-symbol">&amp;gt;</span>标签<span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span><br>	国哥好<span class="hljs-symbol">&amp;nbsp;</span><span class="hljs-symbol">&amp;nbsp;</span><span class="hljs-symbol">&amp;nbsp;</span><span class="hljs-symbol">&amp;nbsp;</span><span class="hljs-symbol">&amp;nbsp;</span><span class="hljs-symbol">&amp;nbsp;</span><span class="hljs-symbol">&amp;nbsp;</span><span class="hljs-symbol">&amp;nbsp;</span><span class="hljs-symbol">&amp;nbsp;</span><span class="hljs-symbol">&amp;nbsp;</span><span class="hljs-symbol">&amp;nbsp;</span><span class="hljs-symbol">&amp;nbsp;</span><span class="hljs-symbol">&amp;nbsp;</span><span class="hljs-symbol">&amp;nbsp;</span><span class="hljs-symbol">&amp;nbsp;</span><span class="hljs-symbol">&amp;nbsp;</span><span class="hljs-symbol">&amp;nbsp;</span><span class="hljs-symbol">&amp;nbsp;</span><span class="hljs-symbol">&amp;nbsp;</span><span class="hljs-symbol">&amp;nbsp;</span><span class="hljs-symbol">&amp;nbsp;</span><span class="hljs-symbol">&amp;nbsp;</span><span class="hljs-symbol">&amp;nbsp;</span><span class="hljs-symbol">&amp;nbsp;</span><span class="hljs-symbol">&amp;nbsp;</span><span class="hljs-symbol">&amp;nbsp;</span><span class="hljs-symbol">&amp;nbsp;</span>帅啊!<br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p><strong>标题标签</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>3.标题标签.html<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>   <span class="hljs-comment">&lt;!-- 标题标签</span><br><span class="hljs-comment">    需求1：演示标题1到 标题6的</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">      h1 - h6 都是标题标签</span><br><span class="hljs-comment">      h1 最大</span><br><span class="hljs-comment">      h6 最小</span><br><span class="hljs-comment">         align 属性是对齐属性</span><br><span class="hljs-comment">            left      左对齐(默认)</span><br><span class="hljs-comment">            center    剧中</span><br><span class="hljs-comment">            right     右对齐</span><br><span class="hljs-comment">    --&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">align</span>=<span class="hljs-string">&quot;left&quot;</span>&gt;</span>标题1<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">align</span>=<span class="hljs-string">&quot;center&quot;</span>&gt;</span>标题2<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">h3</span> <span class="hljs-attr">align</span>=<span class="hljs-string">&quot;right&quot;</span>&gt;</span>标题3<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">h4</span>&gt;</span>标题4<span class="hljs-tag">&lt;/<span class="hljs-name">h4</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">h5</span>&gt;</span>标题5<span class="hljs-tag">&lt;/<span class="hljs-name">h5</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">h6</span>&gt;</span>标题6<span class="hljs-tag">&lt;/<span class="hljs-name">h6</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">h7</span>&gt;</span>标题7<span class="hljs-tag">&lt;/<span class="hljs-name">h7</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p><strong>超链接标签</strong></p>
<p>网页中点击跳转的内容就是超链接</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>4.超链接.html<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>   <span class="hljs-comment">&lt;!-- a标签是 超链接</span><br><span class="hljs-comment">         href属性设置连接的地址</span><br><span class="hljs-comment">         target属性设置哪个目标进行跳转</span><br><span class="hljs-comment">            _self     表示当前页面(默认值)</span><br><span class="hljs-comment">            _blank    表示打开新页面来进行跳转</span><br><span class="hljs-comment">    --&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;http://localhost:8080&quot;</span>&gt;</span>百度<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;http://localhost:8080&quot;</span> <span class="hljs-attr">target</span>=<span class="hljs-string">&quot;_self&quot;</span>&gt;</span>百度_self<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;http://localhost:8080&quot;</span> <span class="hljs-attr">target</span>=<span class="hljs-string">&quot;_blank&quot;</span>&gt;</span>百度_blank<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p><strong>列表标签</strong></p>
<p>和浏览器有关的或多或少都会有一些兼容问题，所以换了个浏览器可能会不一样比如下面的type</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--需求1：使用无序，列表方式，把东北F4，赵四，刘能，小沈阳，宋小宝，展示出来</span><br><span class="hljs-comment">        ul 是无序列表</span><br><span class="hljs-comment">            type属性可以修改列表项前面的符号</span><br><span class="hljs-comment">        li  是列表项</span><br><span class="hljs-comment">    --&gt;</span><br>    <span class="hljs-comment">&lt;!--无序列表--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;none&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>赵四<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>刘能<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>小沈阳<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>宋小宝<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br>  <span class="hljs-comment">&lt;!--有序列表,前面会加上序号--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">ol</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;none&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>赵四<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>刘能<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>小沈阳<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>宋小宝<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">ol</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p><strong>img标签</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>5.img标签.html<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--需求1：使用img标签显示一张美女的照片。并修改宽高，和边框属性</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">        img标签是图片标签,用来显示图片</span><br><span class="hljs-comment">            src属性可以设置图片的路径</span><br><span class="hljs-comment">            width属性设置图片的宽度</span><br><span class="hljs-comment">            height属性设置图片的高度</span><br><span class="hljs-comment">            border属性设置图片边框大小</span><br><span class="hljs-comment">            alt属性设置当指定路径找不到图片时,用来代替显示的文本内容</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">        在JavaSE中路径也分为相对路径和绝对路径.</span><br><span class="hljs-comment">            相对路径:从工程名开始算</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">            绝对路径:盘符:/目录/文件名</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">        在web中路径分为相对路径和绝对路径两种</span><br><span class="hljs-comment">            相对路径:</span><br><span class="hljs-comment">                .           表示当前文件所在的目录</span><br><span class="hljs-comment">                ..          表示当前文件所在的上一级目录</span><br><span class="hljs-comment">                文件名      表示当前文件所在目录的文件,相当于 ./文件名            ./ 可以省略</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">            绝对路径:</span><br><span class="hljs-comment">                正确格式是:  http://ip:port/工程名/资源路径</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">                错误格式是:  盘符:/目录/文件名</span><br><span class="hljs-comment">    --&gt;</span><br>    <span class="hljs-comment">&lt;!--下面这些值的单位是像素--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;1.jpg&quot;</span> <span class="hljs-attr">width</span>=<span class="hljs-string">&quot;200&quot;</span> <span class="hljs-attr">height</span>=<span class="hljs-string">&quot;260&quot;</span> <span class="hljs-attr">border</span>=<span class="hljs-string">&quot;1&quot;</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">&quot;美女找不到&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../../2.jpg&quot;</span> <span class="hljs-attr">width</span>=<span class="hljs-string">&quot;200&quot;</span> <span class="hljs-attr">height</span>=<span class="hljs-string">&quot;260&quot;</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">&quot;美女找不到&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../imgs/3.jpg&quot;</span> <span class="hljs-attr">width</span>=<span class="hljs-string">&quot;200&quot;</span> <span class="hljs-attr">height</span>=<span class="hljs-string">&quot;260&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../imgs/4.jpg&quot;</span> <span class="hljs-attr">width</span>=<span class="hljs-string">&quot;200&quot;</span> <span class="hljs-attr">height</span>=<span class="hljs-string">&quot;260&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../imgs/5.jpg&quot;</span> <span class="hljs-attr">width</span>=<span class="hljs-string">&quot;200&quot;</span> <span class="hljs-attr">height</span>=<span class="hljs-string">&quot;260&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../imgs/6.jpg&quot;</span> <span class="hljs-attr">width</span>=<span class="hljs-string">&quot;200&quot;</span> <span class="hljs-attr">height</span>=<span class="hljs-string">&quot;260&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p><strong>表格标签</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span> <span class="hljs-keyword">PUBLIC</span> <span class="hljs-string">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span> <span class="hljs-string">&quot;http://www.w3.org/TR/html4/loose.dtd&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;Content-Type&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;text/html; charset=UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>表格标签<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-comment">&lt;!--</span><br><span class="hljs-comment">	需求1：做一个 带表头的 ，三行，三列的表格，并显示边框</span><br><span class="hljs-comment">	需求2：修改表格的宽度，高度，表格的对齐方式，单元格间距。</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">		table 标签是表格标签</span><br><span class="hljs-comment">			border 设置表格标框</span><br><span class="hljs-comment">			width 设置表格宽度</span><br><span class="hljs-comment">			height 设置表格高度</span><br><span class="hljs-comment">			align 设置表格相对于页面的对齐方式</span><br><span class="hljs-comment">			cellspacing 设置单元格间距</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">		tr	 是行标签</span><br><span class="hljs-comment">		th	是表头标签</span><br><span class="hljs-comment">		td  是单元格标签</span><br><span class="hljs-comment">			align 设置单元格文本对齐方式</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">		b 是加粗标签</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">	--&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">table</span> <span class="hljs-attr">align</span>=<span class="hljs-string">&quot;center&quot;</span> <span class="hljs-attr">border</span>=<span class="hljs-string">&quot;1&quot;</span> <span class="hljs-attr">width</span>=<span class="hljs-string">&quot;300&quot;</span> <span class="hljs-attr">height</span>=<span class="hljs-string">&quot;300&quot;</span> <span class="hljs-attr">cellspacing</span>=<span class="hljs-string">&quot;0&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>1.1<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span><br>        <span class="hljs-comment">&lt;!--注释上面和下面的两个标签是等价的--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span> <span class="hljs-attr">align</span>=<span class="hljs-string">&quot;center&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">b</span>&gt;</span>1.1<span class="hljs-tag">&lt;/<span class="hljs-name">b</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>1.2<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>1.3<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>2.1<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>2.2<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>2.3<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>3.1<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>3.2<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>3.3<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p><strong>表格跨行跨列标签</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span> <span class="hljs-keyword">PUBLIC</span> <span class="hljs-string">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span> <span class="hljs-string">&quot;http://www.w3.org/TR/html4/loose.dtd&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br>	<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>		<span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;Content-Type&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;text/html; charset=UTF-8&quot;</span>&gt;</span><br>		<span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>7.表格的跨行跨列<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>	<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br>	<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-comment">&lt;!--	需求1：</span><br><span class="hljs-comment">			新建一个五行，五列的表格，</span><br><span class="hljs-comment">			第一行，第一列的单元格要跨两列，</span><br><span class="hljs-comment">			第二行第一列的单元格跨两行，</span><br><span class="hljs-comment">			第四行第四列的单元格跨两行两列。</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">			colspan 属性设置跨列，被作用的单元格横向合并一个</span><br><span class="hljs-comment">			rowspan 属性设置跨行,指的是被作用的单元格向下合并一个</span><br><span class="hljs-comment">			--&gt;</span><br><br>		<span class="hljs-tag">&lt;<span class="hljs-name">table</span> <span class="hljs-attr">width</span>=<span class="hljs-string">&quot;500&quot;</span> <span class="hljs-attr">height</span>=<span class="hljs-string">&quot;500&quot;</span> <span class="hljs-attr">cellspacing</span>=<span class="hljs-string">&quot;0&quot;</span> <span class="hljs-attr">border</span>=<span class="hljs-string">&quot;1&quot;</span>&gt;</span><br>			<span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>				<span class="hljs-tag">&lt;<span class="hljs-name">td</span> <span class="hljs-attr">colspan</span>=<span class="hljs-string">&quot;2&quot;</span>&gt;</span>1.1<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>				<span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>1.3<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>				<span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>1.4<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>				<span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>1.5<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>			<span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>			<span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>				<span class="hljs-tag">&lt;<span class="hljs-name">td</span> <span class="hljs-attr">rowspqn</span>=<span class="hljs-string">&quot;2&quot;</span>&gt;</span>2.1<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>				<span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>2.2<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>				<span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>2.3<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>				<span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>2.4<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>				<span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>2.5<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>			<span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>			<span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>				<span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>3.2<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>				<span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>3.3<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>				<span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>3.4<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>				<span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>3.5<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>			<span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>			<span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>				<span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>4.1<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>				<span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>4.2<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>				<span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>4.3<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>				<span class="hljs-tag">&lt;<span class="hljs-name">td</span> <span class="hljs-attr">colspan</span>=<span class="hljs-string">&quot;2&quot;</span> <span class="hljs-attr">rowspan</span>=<span class="hljs-string">&quot;2&quot;</span>&gt;</span>4.4<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>			<span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>			<span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>				<span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>5.1<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>				<span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>5.2<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>				<span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>5.3<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>			<span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>		<span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span><br>	<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p><strong>iframe标签</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>8.iframe标签.html<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>	我是一个单独的完整的页面<span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span><br>    <span class="hljs-comment">&lt;!--ifarme标签可以在页面上开辟一个小区域显示一个单独的页面</span><br><span class="hljs-comment">            ifarme和a标签组合使用的步骤:</span><br><span class="hljs-comment">                1 在iframe标签中使用name属性定义一个名称</span><br><span class="hljs-comment">                2 在a标签的target属性上设置iframe的name的属性值</span><br><span class="hljs-comment">    --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">iframe</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;3.标题标签.html&quot;</span> <span class="hljs-attr">width</span>=<span class="hljs-string">&quot;200&quot;</span> <span class="hljs-attr">height</span>=<span class="hljs-string">&quot;200&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;abc&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">iframe</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;0-标签语法.html&quot;</span> <span class="hljs-attr">target</span>=<span class="hljs-string">&quot;abc&quot;</span>&gt;</span>0-标签语法.html<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;1.font标签.html&quot;</span> <span class="hljs-attr">target</span>=<span class="hljs-string">&quot;abc&quot;</span>&gt;</span>1.font标签.html<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;2.特殊字符.html&quot;</span> <span class="hljs-attr">target</span>=<span class="hljs-string">&quot;abc&quot;</span>&gt;</span>2.特殊字符.html<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p><strong>表单显示</strong></p>
<p>什么是表单，表单就是html页面中用来收集用户信息的所有元素的集合，然后把这些信息发送给服务器</p>
<p>同时用<table>标签让表单像表格一样的形式</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>表单的显示<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-comment">&lt;!--需求1:创建一个个人信息注册的表单界面。包含用户名，密码，确认密码。性别（单选），兴趣爱好（多选），国籍（下拉列表）。</span><br><span class="hljs-comment">隐藏域，自我评价（多行文本域）。重置，提交。--&gt;</span><br><br>    <span class="hljs-comment">&lt;!--</span><br><span class="hljs-comment">        form标签就是表单</span><br><span class="hljs-comment">            input type=text     是文件输入框  value设置默认显示内容</span><br><span class="hljs-comment">            input type=password 是密码输入框  value设置默认显示内容</span><br><span class="hljs-comment">            input type=radio    是单选框    name属性可以对其进行分组   checked=&quot;checked&quot;表示默认选中</span><br><span class="hljs-comment">            input type=checkbox 是复选框   checked=&quot;checked&quot;表示默认选中</span><br><span class="hljs-comment">            input type=reset    是重置按钮      value属性修改按钮上的文本</span><br><span class="hljs-comment">            input type=submit   是提交按钮      value属性修改按钮上的文本</span><br><span class="hljs-comment">            input type=button   是按钮          value属性修改按钮上的文本</span><br><span class="hljs-comment">            input type=file     是文件上传域</span><br><span class="hljs-comment">            input type=hidden   是隐藏域    当我们要发送某些信息，而这些信息，不需要用户参与，就可以使用隐藏域（提交的时候同时发送给服务器）</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">            select 标签是下拉列表框</span><br><span class="hljs-comment">            option 标签是下拉列表框中的选项 selected=&quot;selected&quot;设置默认选中</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">            textarea 表示多行文本输入框 （起始标签和结束标签中的内容是默认值）</span><br><span class="hljs-comment">                rows 属性设置可以显示几行的高度</span><br><span class="hljs-comment">                cols 属性设置每行可以显示几个字符宽度</span><br><span class="hljs-comment"></span><br><span class="hljs-comment"></span><br><span class="hljs-comment"></span><br><span class="hljs-comment"></span><br><span class="hljs-comment">    --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">form</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">align</span>=<span class="hljs-string">&quot;center&quot;</span>&gt;</span>用户注册<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">table</span> <span class="hljs-attr">align</span>=<span class="hljs-string">&quot;center&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span> 用户名称：<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><br>                    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;默认值&quot;</span>/&gt;</span><br>                <span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span> 用户密码：<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;abc&quot;</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>确认密码：<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;abc&quot;</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>             <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>性别：<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><br>                    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;radio&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;sex&quot;</span>/&gt;</span>男<br>                    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;radio&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;sex&quot;</span> <span class="hljs-attr">checked</span>=<span class="hljs-string">&quot;checked&quot;</span>  /&gt;</span>女<br>                <span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>             <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span> 兴趣爱好：<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><br>                    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">checked</span>=<span class="hljs-string">&quot;checked&quot;</span> /&gt;</span>Java<br>                    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> /&gt;</span>JavaScript<br>                    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> /&gt;</span>C++<br>                <span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>             <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>国籍：<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><br>                    <span class="hljs-tag">&lt;<span class="hljs-name">select</span>&gt;</span><br>                        <span class="hljs-tag">&lt;<span class="hljs-name">option</span>&gt;</span>--请选择国籍--<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>                        <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">selected</span>=<span class="hljs-string">&quot;selected&quot;</span>&gt;</span>中国<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>                        <span class="hljs-tag">&lt;<span class="hljs-name">option</span>&gt;</span>美国<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>                        <span class="hljs-tag">&lt;<span class="hljs-name">option</span>&gt;</span>小日本<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>                    <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br>                <span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>             <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>自我评价：<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">textarea</span> <span class="hljs-attr">rows</span>=<span class="hljs-string">&quot;10&quot;</span> <span class="hljs-attr">cols</span>=<span class="hljs-string">&quot;20&quot;</span>&gt;</span>我才是默认值<span class="hljs-tag">&lt;/<span class="hljs-name">textarea</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>             <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;reset&quot;</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">td</span> <span class="hljs-attr">align</span>=<span class="hljs-string">&quot;center&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;提交&quot;</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>文件上传<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;file&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p><strong>表单提交的细节</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>表单的显示<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--</span><br><span class="hljs-comment">        form标签是表单标签</span><br><span class="hljs-comment">            action属性设置提交的服务器地址</span><br><span class="hljs-comment">            method属性设置提交的方式GET(默认值)或POST</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">        表单提交的时候，数据没有发送给服务器的三种情况：</span><br><span class="hljs-comment">            1、表单项没有name属性值(可是我测试的真实情况是没有也可以)</span><br><span class="hljs-comment">            2、单选、复选（下拉列表中的option标签）都需要添加value属性，以便发送给服务器</span><br><span class="hljs-comment">            3、表单项不在提交的form标签中</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">        GET请求的特点是：</span><br><span class="hljs-comment">            1、浏览器地址栏中的地址是：action属性[+?+请求参数]</span><br><span class="hljs-comment">                请求参数的格式是：name=value&amp;name=value</span><br><span class="hljs-comment">            2、不安全</span><br><span class="hljs-comment">            3、它有数据长度的限制</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">        POST请求的特点是：</span><br><span class="hljs-comment">            1、浏览器地址栏中只有action属性值</span><br><span class="hljs-comment">            2、相对于GET请求要安全</span><br><span class="hljs-comment">            3、理论上没有数据长度的限制</span><br><span class="hljs-comment">    --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;http://www.baidu.com&quot;</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;get&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;hidden&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;action&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;login&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">align</span>=<span class="hljs-string">&quot;center&quot;</span>&gt;</span>用户注册<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">table</span> <span class="hljs-attr">align</span>=<span class="hljs-string">&quot;center&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span> 用户名称：<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><br>                    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;username&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;默认值&quot;</span>/&gt;</span><br>                <span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span> 用户密码：<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;abc&quot;</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>             <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>性别：<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><br>                    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;radio&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;sex&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;boy&quot;</span>/&gt;</span>男<br>                    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;radio&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;sex&quot;</span> <span class="hljs-attr">checked</span>=<span class="hljs-string">&quot;checked&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;girl&quot;</span> /&gt;</span>女<br>                <span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>             <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span> 兴趣爱好：<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><br>                    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;hobby&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">checked</span>=<span class="hljs-string">&quot;checked&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;java&quot;</span>/&gt;</span>Java<br>                    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;hobby&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;js&quot;</span>/&gt;</span>JavaScript<br>                    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;hobby&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;cpp&quot;</span>/&gt;</span>C++<br>                <span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>             <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>国籍：<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><br>                    <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;country&quot;</span>&gt;</span><br>                        <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;none&quot;</span>&gt;</span>--请选择国籍--<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>                        <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;cn&quot;</span> <span class="hljs-attr">selected</span>=<span class="hljs-string">&quot;selected&quot;</span>&gt;</span>中国<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>                        <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;usa&quot;</span>&gt;</span>美国<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>                        <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;jp&quot;</span>&gt;</span>小日本<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>                    <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br>                <span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>             <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>自我评价：<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">textarea</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;desc&quot;</span> <span class="hljs-attr">rows</span>=<span class="hljs-string">&quot;10&quot;</span> <span class="hljs-attr">cols</span>=<span class="hljs-string">&quot;20&quot;</span>&gt;</span>我才是默认值<span class="hljs-tag">&lt;/<span class="hljs-name">textarea</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>             <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;reset&quot;</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">td</span> <span class="hljs-attr">align</span>=<span class="hljs-string">&quot;center&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p><strong>其他标签div span  p等等</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>其他标签<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>        <span class="hljs-comment">&lt;!--需求1：div、span、p标签的演示</span><br><span class="hljs-comment">            div标签       默认独占一行</span><br><span class="hljs-comment">            span标签      它的长度是封装数据的长度</span><br><span class="hljs-comment">            p段落标签     默认会在段落的上方和下方各空出一行来（如果已有就不再空）</span><br><span class="hljs-comment">        --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>div标签1<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>div标签2<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>span标签1<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>span标签2<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>p段落标签1<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>p段落标签2<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h3 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h3><p>css是层叠样式表单，是用于控制网页样式并允许将样式信息与网页内容分割的一种标记性语言</p>
<p>选择器：1.浏览器根据选择器绝顶受css样式影响的html元素&lt;标签&gt;</p>
<p>属性：是你要改变的样式名，并且每一个属性都有一个值，属性和值被冒号分开，并由花括号包裹，这样就是一个完整的声明，例如</p>
<p>p{color:blue}</p>
<p>多个声明：如果要定义不止一个声明，则需要用分号将每个声明分开，虽然最后一条声明的最后可以不加分号，但尽量在每条声明的末尾加上分号</p>
<p>例如：</p>
<p>p{</p>
<p>color:red;</p>
<p>font-size:30px;</p>
<p>}</p>
<p>不过一般一行只写一个属性   </p>
<p>css注释&#x2F;*     *&#x2F;</p>
<h4 id="CSS和HTML的结合方式"><a href="#CSS和HTML的结合方式" class="headerlink" title="CSS和HTML的结合方式"></a>CSS和HTML的结合方式</h4><p><strong>结合方式一</strong></p>
<p>在标签的属性上设置“key:value value”,修改标签样式</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--需求1：分别定义两个 div、span标签，分别修改每个 div 标签的样式为：边框1个像素，实线，红色。--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;border: 1px solid red;&quot;</span>&gt;</span>div标签1<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;border: 1px solid red;&quot;</span>&gt;</span>div标签2<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;border: 1px solid red;&quot;</span>&gt;</span>span标签1<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;border: 1px solid red;&quot;</span>&gt;</span>span标签2<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>缺点：1.如果标签写多了，样式多了，代码量太大</p>
<p>​            2.可读性非常差</p>
<p>​            3.Css代码没有什么复用性可言</p>
<p><strong>结合方式二</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--style标签专门用来定义css样式代码--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/css&quot;</span>&gt;</span><span class="language-css"></span><br><span class="language-css">        <span class="hljs-comment">/* 需求1：分别定义两个 div、span标签，分别修改每个 div 标签的样式为：边框1个像素，实线，红色。*/</span></span><br><span class="language-css">        <span class="hljs-selector-tag">div</span>&#123;</span><br><span class="language-css">            <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid red;</span><br><span class="language-css">        &#125;</span><br><span class="language-css">        <span class="hljs-selector-tag">span</span>&#123;</span><br><span class="language-css">            <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid red;</span><br><span class="language-css">        &#125;</span><br><span class="language-css">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>div标签1<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>div标签2<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>span标签1<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>span标签2<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>缺点：1.只能在一个页面内复用代码，不能再多个页面中复用css代码</p>
<p>​          2.维护起来不方便，实际的项目中会有成千上万的也买你，要到每个页面中去修改，工作量太大了</p>
<p><strong>结合方式三</strong></p>
<p>把css样式写成一个单独的css文件，再通过link标签引入即可复用</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--link标签专门用来引入css样式代码--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;stylesheet&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/css&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;1.css&quot;</span>/&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>div标签1<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>div标签2<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>span标签1<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>span标签2<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h4 id="标签名选择器"><a href="#标签名选择器" class="headerlink" title="标签名选择器"></a>标签名选择器</h4><p>标签名选择器的格式是</p>
<p>标签名{</p>
<p>属性:值</p>
<p>}</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>CSS选择器<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/css&quot;</span>&gt;</span><span class="language-css"></span><br><span class="language-css">      <span class="hljs-selector-tag">div</span>&#123;</span><br><span class="language-css">         <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid yellow;</span><br><span class="language-css">         <span class="hljs-attribute">color</span>: blue;</span><br><span class="language-css">         <span class="hljs-attribute">font-size</span>: <span class="hljs-number">30px</span>;</span><br><span class="language-css">      &#125;</span><br><span class="language-css">      <span class="hljs-selector-tag">span</span>&#123;</span><br><span class="language-css">         <span class="hljs-attribute">border</span>: <span class="hljs-number">5px</span> dashed  blue;</span><br><span class="language-css">         <span class="hljs-attribute">color</span>: yellow;</span><br><span class="language-css">         <span class="hljs-attribute">font-size</span>: <span class="hljs-number">20px</span>;</span><br><span class="language-css">      &#125;</span><br><span class="language-css">   </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>   <span class="hljs-comment">&lt;!-- </span><br><span class="hljs-comment">   需求1：在所有div标签上修改字体颜色为蓝色，字体大小30个像素。边框为1像素黄色实线。</span><br><span class="hljs-comment">   并且修改所有span 标签的字体颜色为黄色，字体大小20个像素。边框为5像素蓝色虚线。</span><br><span class="hljs-comment">    --&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>div标签1<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>div标签2<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>span标签1<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>span标签2<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>标签名选择器可以决定哪些标签被动的使用这个样式</p>
<h4 id="id选择器"><a href="#id选择器" class="headerlink" title="id选择器"></a>id选择器</h4><p>id选择器的格式是：</p>
<p>#id 属性值{</p>
<p>属性:值</p>
<p>}</p>
<p>id选择器，可以让我们通过id属性选择性的去使用这个样式</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>ID选择器<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/css&quot;</span>&gt;</span><span class="language-css"></span><br><span class="language-css"></span><br><span class="language-css">      <span class="hljs-selector-id">#id001</span>&#123;</span><br><span class="language-css">         <span class="hljs-attribute">color</span>: blue;</span><br><span class="language-css">         <span class="hljs-attribute">font-size</span>: <span class="hljs-number">30px</span>;</span><br><span class="language-css">         <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> yellow solid;</span><br><span class="language-css">      &#125;</span><br><span class="language-css"></span><br><span class="language-css">      <span class="hljs-selector-id">#id002</span>&#123;</span><br><span class="language-css">         <span class="hljs-attribute">color</span>: red;</span><br><span class="language-css">         <span class="hljs-attribute">font-size</span>: <span class="hljs-number">20px</span>;</span><br><span class="language-css">         <span class="hljs-attribute">border</span>: <span class="hljs-number">5px</span> blue dotted ;</span><br><span class="language-css">      &#125;</span><br><span class="language-css"></span><br><span class="language-css">   </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>    <br>   <span class="hljs-comment">&lt;!--</span><br><span class="hljs-comment">   需求1：分别定义两个 div 标签，</span><br><span class="hljs-comment">   第一个div 标签定义 id 为 id001 ，然后根据id 属性定义css样式修改字体颜色为蓝色，</span><br><span class="hljs-comment">   字体大小30个像素。边框为1像素黄色实线。</span><br><span class="hljs-comment">   </span><br><span class="hljs-comment">   第二个div 标签定义 id 为 id002 ，然后根据id 属性定义css样式 修改的字体颜色为红色，字体大小20个像素。</span><br><span class="hljs-comment">   边框为5像素蓝色点线。</span><br><span class="hljs-comment">    --&gt;</span><br>   <br>   <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;id002&quot;</span>&gt;</span>div标签1<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;id001&quot;</span>&gt;</span>div标签2<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h4 id="class选择器"><a href="#class选择器" class="headerlink" title="class选择器"></a>class选择器</h4><p>class 类型选择器的格式是</p>
<p>.class属性值{</p>
<p>属性:值</p>
<p>}</p>
<p>class类型选择器可以通过class属性有效的选择地去使用这个样式</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>	<span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>	<span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>class类型选择器<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>	<span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/css&quot;</span>&gt;</span><span class="language-css"></span><br><span class="language-css">		<span class="hljs-selector-class">.class01</span>&#123;</span><br><span class="language-css">			<span class="hljs-attribute">color</span>: blue;</span><br><span class="language-css">			<span class="hljs-attribute">font-size</span>: <span class="hljs-number">30px</span>;</span><br><span class="language-css">			<span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid yellow;</span><br><span class="language-css">		&#125;</span><br><span class="language-css"></span><br><span class="language-css">		<span class="hljs-selector-class">.class02</span>&#123;</span><br><span class="language-css">			<span class="hljs-attribute">color</span>: grey;</span><br><span class="language-css">			<span class="hljs-attribute">font-size</span>: <span class="hljs-number">26px</span>;</span><br><span class="language-css">			<span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid red;</span><br><span class="language-css">		&#125;</span><br><span class="language-css">	</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>	<span class="hljs-comment">&lt;!--</span><br><span class="hljs-comment">		需求1：修改 class 属性值为 class01的 span 或 div 标签，字体颜色为蓝色，字体大小30个像素。边框为1像素黄色实线。</span><br><span class="hljs-comment">		需求2：修改 class 属性值为 class02的 div 标签，字体颜色为灰色，字体大小26个像素。边框为1像素红色实线。</span><br><span class="hljs-comment">	 --&gt;</span><br><br>	<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;class01&quot;</span>&gt;</span>div标签class01<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>	<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;class02&quot;</span>&gt;</span>div标签<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>	<span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;class02&quot;</span>&gt;</span>span标签class01<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>	<span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>span标签2<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br><br><br></code></pre></td></tr></table></figure>

<h4 id="组合选择器"><a href="#组合选择器" class="headerlink" title="组合选择器"></a>组合选择器</h4><p>组合选择器的格式是：</p>
<p>选择器1,选择器2,选择器n{</p>
<p>属性:值</p>
<p>}</p>
<p>让多个选择器或者多种类型的选择器共用同一块代码</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>class类型选择器<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/css&quot;</span>&gt;</span><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-class">.class01</span> , <span class="hljs-selector-id">#id01</span>&#123;</span><br><span class="language-css">            <span class="hljs-attribute">color</span>: blue;</span><br><span class="language-css">            <span class="hljs-attribute">font-size</span>: <span class="hljs-number">20px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">border</span>:  yellow <span class="hljs-number">1px</span> solid;</span><br><span class="language-css">        &#125;</span><br><span class="language-css">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>	<span class="hljs-comment">&lt;!-- </span><br><span class="hljs-comment">	需求1：修改 class=&quot;class01&quot; 的div 标签 和 id=&quot;id01&quot; 所有的span标签，</span><br><span class="hljs-comment">	字体颜色为蓝色，字体大小20个像素。边框为1像素黄色实线。</span><br><span class="hljs-comment">	 --&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;id01&quot;</span>&gt;</span>div标签class01<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;class01&quot;</span>&gt;</span>span 标签<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>  <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>div标签<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>div标签id01<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br><br><br></code></pre></td></tr></table></figure>

<h4 id="css常用样式"><a href="#css常用样式" class="headerlink" title="css常用样式"></a>css常用样式</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>06-css常用样式.html<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/css&quot;</span>&gt;</span><span class="language-css"></span><br><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-tag">div</span>&#123;</span><br><span class="language-css">            <span class="hljs-attribute">color</span>: red;  红色</span><br><span class="language-css">            <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> yellow solid; 边框属性</span><br><span class="language-css">            <span class="hljs-attribute">width</span>: <span class="hljs-number">300px</span>;   宽度</span><br><span class="language-css">            <span class="hljs-attribute">height</span>: <span class="hljs-number">300px</span>;   高度</span><br><span class="language-css">            <span class="hljs-attribute">background-color</span>: green;  背景颜色</span><br><span class="language-css">            <span class="hljs-attribute">font-size</span>: <span class="hljs-number">30px</span>;  字体大小</span><br><span class="language-css">            <span class="hljs-attribute">margin-left</span>: auto;   这个和下面那个两行表示<span class="hljs-selector-tag">div</span>居中</span><br><span class="language-css">            <span class="hljs-attribute">margin-right</span>: auto;</span><br><span class="language-css">            <span class="hljs-attribute">text-align</span>: center;  文字居中</span><br><span class="language-css">        &#125;</span><br><span class="language-css">        <span class="hljs-selector-tag">table</span>&#123;</span><br><span class="language-css">            <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> red solid;   设置边框</span><br><span class="language-css">            <span class="hljs-attribute">border-collapse</span>: collapse;  将边框合并，就是<span class="hljs-selector-tag">td</span>单元格的边框和表格的边框合并</span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-tag">td</span>&#123;</span><br><span class="language-css">            <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> red solid;</span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-tag">a</span>&#123;</span><br><span class="language-css">            <span class="hljs-attribute">text-decoration</span>: none;  超链接去下划线</span><br><span class="language-css"></span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">        <span class="hljs-selector-tag">ul</span>&#123;</span><br><span class="language-css">            <span class="hljs-attribute">list-style</span>: none; 列表去除修饰</span><br><span class="language-css">        &#125;</span><br><span class="language-css"></span><br><span class="language-css">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>11111111111<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>11111111111<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>11111111111<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>11111111111<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>11111111111<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">table</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>1.1<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>1.2<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;http://www.baidu.com&quot;</span>&gt;</span>百度<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>我是div标签<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h3 id="Javascript"><a href="#Javascript" class="headerlink" title="Javascript"></a>Javascript</h3><h3 id="jQuery"><a href="#jQuery" class="headerlink" title="jQuery"></a>jQuery</h3><p>jQuery就是javascript和查询，他就是辅助javascript开发的js类库</p>
<p>jQuery 的核心思想就是write less ，do more 所以他实现了很多浏览器的兼容问题</p>
<p>基础使用</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;!<span class="hljs-variable constant_">DOCTYPE</span> html <span class="hljs-variable constant_">PUBLIC</span> <span class="hljs-string">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span> <span class="hljs-string">&quot;http://www.w3.org/TR/html4/loose.dtd&quot;</span>&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;Content-Type&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;text/html; charset=UTF-8&quot;</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Insert title here<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span></span><br><span class="language-xml">   <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../script/jquery-1.7.2.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml">   <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-comment">// window.onload = function () &#123;</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-comment">//     var btnObj = document.getElementById(&quot;btnId&quot;);</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-comment">//     // alert(btnObj);//[object HTMLButtonElement]   ====&gt;&gt;&gt;  dom对象</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-comment">//     btnObj.onclick = function () &#123;</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-comment">//        alert(&quot;js 原生的单击事件&quot;);</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-comment">//     &#125;</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-comment">// &#125;</span></span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">      $(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123; <span class="hljs-comment">// 表示页面加载完成 之后，相当 window.onload = function () &#123;&#125;</span></span></span><br><span class="language-javascript"><span class="language-xml">         <span class="hljs-keyword">var</span> $btnObj = $(<span class="hljs-string">&quot;#btnId&quot;</span>); <span class="hljs-comment">// 表示按id查询标签对象，jQuery对象变量都加一个$</span></span></span><br><span class="language-javascript"><span class="language-xml">         $btnObj.<span class="hljs-title function_">click</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123; <span class="hljs-comment">// 绑定单击事件</span></span></span><br><span class="language-javascript"><span class="language-xml">            <span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;jQuery 的单击事件&quot;</span>);</span></span><br><span class="language-javascript"><span class="language-xml">         &#125;);</span></span><br><span class="language-javascript"><span class="language-xml">      &#125;);</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">   </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml"></span><br><span class="language-xml"></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span></span><br><span class="language-xml">   <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;btnId&quot;</span>&gt;</span>SayHello<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></span><br></code></pre></td></tr></table></figure>

<p>jQuery中的$是一个函数</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;!<span class="hljs-variable constant_">DOCTYPE</span> html <span class="hljs-variable constant_">PUBLIC</span> <span class="hljs-string">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span> <span class="hljs-string">&quot;http://www.w3.org/TR/html4/loose.dtd&quot;</span>&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;Content-Type&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;text/html; charset=UTF-8&quot;</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Insert title here<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml">   <span class="hljs-comment">&lt;!--引入jQuery文件--&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../script/jquery-1.7.2.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">   <span class="hljs-comment">//使用$()代替window.onload</span></span></span><br><span class="language-javascript"><span class="language-xml">$(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-comment">//使用选择器获取按钮对象，随后绑定单击响应函数</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-comment">//表示按id查询对象</span></span></span><br><span class="language-javascript"><span class="language-xml">      $(<span class="hljs-string">&quot;#btnId&quot;</span>).<span class="hljs-title function_">click</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span></span><br><span class="language-javascript"><span class="language-xml">         <span class="hljs-comment">//弹出Hello</span></span></span><br><span class="language-javascript"><span class="language-xml">         <span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;Hello&#x27;</span>);</span></span><br><span class="language-javascript"><span class="language-xml">      &#125;);</span></span><br><span class="language-javascript"><span class="language-xml">   &#125;);</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml"></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml">   <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;btnId&quot;</span>&gt;</span>SayHello<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></span><br></code></pre></td></tr></table></figure>

<p>为按钮添加响应函数</p>
<p>1.使用jQuery查询到标签对象</p>
<p>2.使用标签对象.click(function(){});</p>
<h4 id="介绍"><a href="#介绍" class="headerlink" title="$介绍"></a>$介绍</h4><p>$是jQuery的核心函数，能完成jQuery的很多功能，$()就是调用$这个函数</p>
<p>1.传入的参数是函数时</p>
<p>表示页面加载完成之后。相当于window.onload&#x3D;function(){};</p>
<p>2.传入的参数为HTML字符串时，会对我们创建这个html标签对象</p>
<p>3.传入参数为【选择器字符串时】，</p>
<p>$(“#id属性值”)：id选择器，根据id查询标签对象</p>
<p>$(“标签名”):   标签名选择器，根据指定的标签名查询标签对象</p>
<p>$(“.class属性值”):类型选择器，根据class属性查询标签对象</p>
<p>4.传入的参数是dom对象，将这个dom对象转换为jQuery对象</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;!<span class="hljs-variable constant_">DOCTYPE</span> html <span class="hljs-variable constant_">PUBLIC</span> <span class="hljs-string">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span> <span class="hljs-string">&quot;http://www.w3.org/TR/html4/loose.dtd&quot;</span>&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;Content-Type&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;text/html; charset=UTF-8&quot;</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Insert title here<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../script/jquery-1.7.2.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">   <span class="hljs-comment">//核心函数的4个作用</span></span></span><br><span class="language-javascript"><span class="language-xml">    $(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-comment">// alert(&quot;页面加载完成之后，自动调用&quot;);</span></span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-comment">//将生成的html标签对象直接加给了body标签，这样就可以显示</span></span></span><br><span class="language-javascript"><span class="language-xml">        $(<span class="hljs-string">&quot;    &lt;div&gt;&quot;</span> +</span></span><br><span class="language-javascript"><span class="language-xml">            <span class="hljs-string">&quot;        &lt;span&gt;div-span1&lt;/span&gt;&quot;</span> +</span></span><br><span class="language-javascript"><span class="language-xml">            <span class="hljs-string">&quot;        &lt;span&gt;div-span2&lt;/span&gt;&quot;</span> +</span></span><br><span class="language-javascript"><span class="language-xml">            <span class="hljs-string">&quot;    &lt;/div&gt;&quot;</span>).<span class="hljs-title function_">appendTo</span>(<span class="hljs-string">&quot;body&quot;</span>);</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-comment">// alert($(&quot;button&quot;).length);</span></span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-keyword">var</span> btnObj = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;btn01&quot;</span>);</span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-comment">// alert(btnObj);</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-comment">// alert( $(btnObj) );</span></span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-comment">// alert( $(&quot;&lt;h1&gt;&lt;/h1&gt;&quot;) );</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-title function_">alert</span>($(<span class="hljs-string">&quot;button&quot;</span>));</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">    &#125;);</span></span><br><span class="language-javascript"><span class="language-xml">   <span class="hljs-comment">//传入参数为[函数]时：在文档加载完成后执行这个函数</span></span></span><br><span class="language-javascript"><span class="language-xml">   <span class="hljs-comment">//传入参数为[HTML字符串]时：根据这个字符串创建元素节点对象，创建的是jQuery对象</span></span></span><br><span class="language-javascript"><span class="language-xml">   <span class="hljs-comment">//传入参数为[选择器字符串]时：根据这个字符串查找元素节点对象，创建的是jQuery对象</span></span></span><br><span class="language-javascript"><span class="language-xml">   <span class="hljs-comment">//传入参数为[DOM对象]时：将DOM对象包装为jQuery对象返回</span></span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;btn01&quot;</span>&gt;</span>按钮1<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">button</span>&gt;</span>按钮2<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">button</span>&gt;</span>按钮3<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></span><br></code></pre></td></tr></table></figure>

<h4 id="jQuery对象和dom对象区分"><a href="#jQuery对象和dom对象区分" class="headerlink" title="jQuery对象和dom对象区分"></a>jQuery对象和dom对象区分</h4><p>DOM对象</p>
<p>1.通过各种方法查询出来的标签对象是dom对象</p>
<p>jQuery对象</p>
<p>1.通过jQuery提供的API创建的对象，是jQuery对象      alert( $(“<h1></h1>“) );</p>
<p>2.通过JQuery包装的Dom对象，也是JQuery对象         alert( $(btnObj) );  btnObj是一个dom对象</p>
<p>3.它通过JQuery提供的API查询到的对象，是JQuery对象     alert($(“button”));</p>
<p>JQuery对象alert出来的效果是[Object Object]</p>
<h4 id="jQuery对象的本质"><a href="#jQuery对象的本质" class="headerlink" title="jQuery对象的本质"></a>jQuery对象的本质</h4><p>jQuery对象是            dom对象的数组+jQuery提供的一系列功能函数</p>
<h4 id="jQuery对象和Dom对象的使用区别"><a href="#jQuery对象和Dom对象的使用区别" class="headerlink" title="jQuery对象和Dom对象的使用区别"></a>jQuery对象和Dom对象的使用区别</h4><p>jQuery对象不能使用dom对象的属性和方法</p>
<p>dom对象也不能使用jQuery对象的属性和方法</p>
<h4 id="Dom对象和JQuery对象之间的相互转换"><a href="#Dom对象和JQuery对象之间的相互转换" class="headerlink" title="Dom对象和JQuery对象之间的相互转换"></a>Dom对象和JQuery对象之间的相互转换</h4><p>1.dom对象转化为jQUery对象</p>
<p>现有Dom对象，然后  $(Dom)对象就可以转换为jQuery对象</p>
<p>2.jQuery对象转为dom对象</p>
<p>现有jQuery对象，jQuery对象[下标]取出相应的dom对象</p>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Insert title here</title>
<script type="text/javascript" src="../script/jquery-1.7.2.js"></script>
<script type="text/javascript">
​    

<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><code class="hljs awk"><br><br>    <span class="hljs-regexp">//</span>jQuery对象的本质的演示<br><br>   $(<span class="hljs-keyword">function</span>()&#123;<br>      <span class="hljs-regexp">//</span>testDiv.css(<span class="hljs-string">&quot;color&quot;</span>,<span class="hljs-string">&quot;red&quot;</span>)<br>      <span class="hljs-regexp">//</span>testDiv.style.color = <span class="hljs-string">&quot;blue&quot;</span>;<br><br>      <span class="hljs-regexp">//</span> var arr = [<span class="hljs-number">12</span>,<span class="hljs-string">&quot;abc&quot;</span>,true];<br>      <span class="hljs-regexp">//</span><br>      <span class="hljs-regexp">//</span> var <span class="hljs-variable">$btns</span> = $(<span class="hljs-string">&quot;button&quot;</span>);<br>      <span class="hljs-regexp">//</span><br>      <span class="hljs-regexp">//</span> <span class="hljs-keyword">for</span> (var i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-variable">$btns</span>.length; i++)&#123;<br>      <span class="hljs-regexp">//</span>     alert(<span class="hljs-variable">$btns</span>[i]);<br>      <span class="hljs-regexp">//</span> &#125;<br><br><br><br>    <span class="hljs-regexp">//</span>jQuery和Dom的使用区别的演示<br>       <span class="hljs-regexp">//</span>document.getElementById(<span class="hljs-string">&quot;testDiv&quot;</span>).innerHTML = <span class="hljs-string">&quot;这是dom对象的属性InnerHTML&quot;</span>;<br>       <span class="hljs-regexp">//</span>$(<span class="hljs-string">&quot;#testDiv&quot;</span>).innerHTML = <span class="hljs-string">&quot;这是dom对象的属性InnerHTML&quot;</span>;<br>    <br>       <span class="hljs-regexp">//</span>$(<span class="hljs-string">&quot;#testDiv&quot;</span>).click(<span class="hljs-keyword">function</span> () &#123;<br>         <span class="hljs-regexp">//</span>alert(<span class="hljs-string">&quot;click()是jQuery对象的方法&quot;</span>);<br>       <span class="hljs-regexp">//</span>&#125;);<br>    <br>       <span class="hljs-regexp">//</span>document.getElementById(<span class="hljs-string">&quot;testDiv&quot;</span>).click(<span class="hljs-keyword">function</span> () &#123;<br>         <span class="hljs-regexp">//</span>alert(<span class="hljs-string">&quot;click()是jQuery对象的方法&quot;</span>);<br>       <span class="hljs-regexp">//</span>&#125;);<br>       <br>       <br>       <span class="hljs-regexp">//</span>下面是jQuery对象转换为dom对象的演示，用下标来取出<br>      <span class="hljs-regexp">//</span> alert( $(document.getElementById(<span class="hljs-string">&quot;testDiv&quot;</span>))[<span class="hljs-number">0</span>] );<br>    <br>      alert( $(<span class="hljs-string">&quot;button:first&quot;</span>) );<br><br>   &#125;);<br><br>&lt;/script&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br><br>   &lt;div id=<span class="hljs-string">&quot;testDiv&quot;</span>&gt;Atguigu is Very Good!&lt;/div&gt;<br><br>   &lt;button id=<span class="hljs-string">&quot;dom2dom&quot;</span>&gt;使用DOM对象调用DOM方法&lt;/button&gt;<br>   &lt;button id=<span class="hljs-string">&quot;dom2jQuery&quot;</span>&gt;使用DOM对象调用jQuery方法&lt;/button&gt;<br>   &lt;button id=<span class="hljs-string">&quot;jQuery2jQuery&quot;</span>&gt;使用jQuery对象调用jQuery方法&lt;/button&gt;<br>   &lt;button id=<span class="hljs-string">&quot;jQuery2dom&quot;</span>&gt;使用jQuery对象调用DOM方法&lt;/button&gt;<br><br><br><br>&lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>

<h4 id="jQuery基本选择器"><a href="#jQuery基本选择器" class="headerlink" title="jQuery基本选择器"></a>jQuery基本选择器</h4><p>基本选择器</p>
<p>#ID  选择器：根据id查找标签对象</p>
<p>.class  选择器：根据class查找标签对象</p>
<p>element  选择器：根据标签名查找标签对象</p>
<p>*选择器：表示任意的，所有的元素</p>
<p>selector1,selector2 组合器：合并选择器1,选择器2的结果并返回</p>
<p>特殊的</p>
<p>p.myClass表示标签名必须是p标签，而且class类型还要是myClass</p>
<p>基本选择器的代码</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;!<span class="hljs-variable constant_">DOCTYPE</span> <span class="hljs-variable constant_">HTML</span> <span class="hljs-variable constant_">PUBLIC</span> <span class="hljs-string">&quot;-//W3C//DTD HTML 4.01//EN&quot;</span> <span class="hljs-string">&quot;http://www.w3.org/TR/html4/strict.dtd&quot;</span>&gt;<br>&lt;html&gt;<br>   &lt;head&gt;<br>      &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;<br>      &lt;title&gt;Untitled Document&lt;/title&gt;<br>      &lt;style type=&quot;text/css&quot;&gt;<br>         div, span, p &#123;<br>             width: 140px;<br>             height: 140px;<br>             margin: 5px;<br>             background: #aaa;<br>             border: #000 1px solid;<br>             float: left;<br>             font-size: 17px;<br>             font-family: Verdana;<br>         &#125;<br>         &lt;!--应该是div标签且class为mini--&gt;<br>         div.mini &#123;<br>             width: 55px;<br>             height: 55px;<br>             background-color: #aaa;<br>             font-size: 12px;<br>         &#125;<br>         <br>         div.hide &#123;<br>             display: none;<br>         &#125;<br>      &lt;/style&gt;<br>      &lt;script type=&quot;text/javascript&quot; src=&quot;../script/jquery-1.7.2.js&quot;&gt;&lt;/script&gt;<br>      &lt;script type=&quot;text/javascript&quot;&gt;<br>         <br>            $(function () &#123;<br>               //1.选择 id 为 one 的元素 &quot;background-color&quot;,&quot;#bbffaa&quot;<br>               $(&quot;#btn1&quot;).click(function () &#123;<br>                  // css() 方法 可以设置和获取样式,第二个参数是颜色属性的值<br>                  $(&quot;#one&quot;).css(&quot;background-color&quot;,&quot;#bbffaa&quot;);<br>               &#125;);<br><br><br>               //2.选择 class 为 mini 的所有元素<br>               $(&quot;#btn2&quot;).click(function () &#123;<br>                  $(&quot;.mini&quot;).css(&quot;background-color&quot;,&quot;#bbffaa&quot;);<br>               &#125;);<br><br>               //3.选择 元素名是 div 的所有元素<br>               $(&quot;#btn3&quot;).click(function () &#123;<br>                  $(&quot;div&quot;).css(&quot;background-color&quot;,&quot;#bbffaa&quot;);<br>               &#125;);<br><br>               //4.选择所有的元素<br>               $(&quot;#btn4&quot;).click(function () &#123;<br>                  $(&quot;*&quot;).css(&quot;background-color&quot;,&quot;#bbffaa&quot;);<br>               &#125;);<br><br>               //5.选择所有的 span 元素和id为two的元素<br>               $(&quot;#btn5&quot;).click(function () &#123;<br>                  $(&quot;span,#two&quot;).css(&quot;background-color&quot;,&quot;#bbffaa&quot;);<br>               &#125;);<br><br>            &#125;);<br><br>      &lt;/script&gt;<br>   &lt;/head&gt;<br>   &lt;body&gt;<br>&lt;!--   &lt;div&gt;<br>      &lt;h1&gt;基本选择器&lt;/h1&gt;<br>   &lt;/div&gt;  --&gt;   <br>      &lt;input type=&quot;button&quot; value=&quot;选择 id 为 one 的元素&quot; id=&quot;btn1&quot; /&gt;<br>      &lt;input type=&quot;button&quot; value=&quot;选择 class 为 mini 的所有元素&quot; id=&quot;btn2&quot; /&gt;<br>      &lt;input type=&quot;button&quot; value=&quot;选择 元素名是 div 的所有元素&quot; id=&quot;btn3&quot; /&gt;<br>      &lt;input type=&quot;button&quot; value=&quot;选择 所有的元素&quot; id=&quot;btn4&quot; /&gt;<br>      &lt;input type=&quot;button&quot; value=&quot;选择 所有的 span 元素和id为two的元素&quot; id=&quot;btn5&quot; /&gt;<br>      <br>      &lt;br&gt;<br>      &lt;div class=&quot;one&quot; id=&quot;one&quot;&gt;<br>         id 为 one,class 为 one 的div<br>         &lt;div class=&quot;mini&quot;&gt;class为mini&lt;/div&gt;<br>      &lt;/div&gt;<br>      &lt;div class=&quot;one&quot; id=&quot;two&quot; title=&quot;test&quot;&gt;<br>         id为two,class为one,title为test的div<br>         &lt;div class=&quot;mini&quot; title=&quot;other&quot;&gt;class为mini,title为other&lt;/div&gt;<br>         &lt;div class=&quot;mini&quot; title=&quot;test&quot;&gt;class为mini,title为test&lt;/div&gt;<br>      &lt;/div&gt;<br>      &lt;div class=&quot;one&quot;&gt;<br>         &lt;div class=&quot;mini&quot;&gt;class为mini&lt;/div&gt;<br>         &lt;div class=&quot;mini&quot;&gt;class为mini&lt;/div&gt;<br>         &lt;div class=&quot;mini&quot;&gt;class为mini&lt;/div&gt;<br>         &lt;div class=&quot;mini&quot;&gt;&lt;/div&gt;<br>      &lt;/div&gt;<br>      &lt;div class=&quot;one&quot;&gt;<br>         &lt;div class=&quot;mini&quot;&gt;class为mini&lt;/div&gt;<br>         &lt;div class=&quot;mini&quot;&gt;class为mini&lt;/div&gt;<br>         &lt;div class=&quot;mini&quot;&gt;class为mini&lt;/div&gt;<br>         &lt;div class=&quot;mini&quot; title=&quot;tesst&quot;&gt;class为mini,title为tesst&lt;/div&gt;<br>      &lt;/div&gt;<br>       &lt;!--display:none就是不显示--&gt;<br>      &lt;div style=&quot;display:none;&quot; class=&quot;none&quot;&gt;style的display为&quot;none&quot;的div&lt;/div&gt;<br>      &lt;div class=&quot;hide&quot;&gt;class为&quot;hide&quot;的div&lt;/div&gt;<br>      &lt;div&gt;<br>         包含input的type为&quot;hidden&quot;的div&lt;input type=&quot;hidden&quot; size=&quot;8&quot;&gt;<br>      &lt;/div&gt;<br>      &lt;span class=&quot;one&quot; id=&quot;span&quot;&gt;^^span元素^^&lt;/span&gt;<br>   &lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>

<h4 id="jQuery层级选择器"><a href="#jQuery层级选择器" class="headerlink" title="jQuery层级选择器"></a>jQuery层级选择器</h4><p>ancestor descendant 后代选择器 ：在给定的祖先元素下匹配所有的后代元素 </p>
<p>parent &gt; child 子元素选择器：在给定的父元素下匹配所有的子元素 </p>
<p>prev + next 相邻元素选择器：匹配所有紧接在 prev 元素后的 next 元素 </p>
<p>prev ~ sibings 之后的兄弟元素选择器：匹配 prev 元素之后的所有 siblings 元素</p>
<p>儿子元素和孙子元素是有区别的，而且后代元素包括所有的后代包括儿子孙子</p>
<p>$(“lable + input”) 所有紧跟在lable标签后面的input标签，必须是紧跟</p>
<p>$(“form &gt; input”)匹配表单中所有的子级input元素，只有儿子辈的，没有孙子辈的</p>
<p>$(“form input”)匹配form后代的所有的input元素</p>
<p>$(“form ~input”)找到form后面所有与form同辈的input元素</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;!<span class="hljs-variable constant_">DOCTYPE</span> <span class="hljs-variable constant_">HTML</span> <span class="hljs-variable constant_">PUBLIC</span> <span class="hljs-string">&quot;-//W3C//DTD HTML 4.01//EN&quot;</span> <span class="hljs-string">&quot;http://www.w3.org/TR/html4/strict.dtd&quot;</span>&gt;<br>&lt;html&gt;<br>   &lt;head&gt;<br>      &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;<br>      &lt;title&gt;Untitled Document&lt;/title&gt;<br>      &lt;style type=&quot;text/css&quot;&gt;<br>         div, span, p &#123;<br>             width: 140px;<br>             height: 140px;<br>             margin: 5px;<br>             background: #aaa;<br>             border: #000 1px solid;<br>             float: left;<br>             font-size: 17px;<br>             font-family: Verdana;<br>         &#125;<br>         <br>         div.mini &#123;<br>             width: 55px;<br>             height: 55px;<br>             background-color: #aaa;<br>             font-size: 12px;<br>         &#125;<br>         <br>         div.hide &#123;<br>             display: none;<br>         &#125;        <br>      &lt;/style&gt;<br>      &lt;script type=&quot;text/javascript&quot; src=&quot;../script/jquery-1.7.2.js&quot;&gt;&lt;/script&gt;<br>      &lt;script type=&quot;text/javascript&quot;&gt;<br>         $(document).ready(function()&#123;  //$(function()&#123;&#125;);的全写<br>            //1.选择 body 内的所有 div 元素<br>            $(&quot;#btn1&quot;).click(function()&#123;<br>               $(&quot;body div&quot;).css(&quot;background&quot;, &quot;#bbffaa&quot;);<br>            &#125;);<br><br>            //2.在 body 内, 选择div子元素  <br>            $(&quot;#btn2&quot;).click(function()&#123;<br>               $(&quot;body &gt; div&quot;).css(&quot;background&quot;, &quot;#bbffaa&quot;);<br>            &#125;);<br><br>            //3.选择 id 为 one 的下一个 div 元素 <br>            $(&quot;#btn3&quot;).click(function()&#123;<br>               $(&quot;#one+div&quot;).css(&quot;background&quot;, &quot;#bbffaa&quot;);<br>            &#125;);<br><br>            //4.选择 id 为 two 的元素后面的所有 div 兄弟元素<br>            $(&quot;#btn4&quot;).click(function()&#123;<br>               $(&quot;#two~div&quot;).css(&quot;background&quot;, &quot;#bbffaa&quot;);<br>            &#125;);<br>         &#125;);<br>      &lt;/script&gt;<br>   &lt;/head&gt;<br>   &lt;body&gt; <br>   <br>&lt;!--   &lt;div&gt;<br>      &lt;h1&gt;层级选择器:根据元素的层级关系选择元素&lt;/h1&gt;<br>      ancestor descendant  ：<br>      parent &gt; child           ：<br>      prev + next          ：<br>      prev ~ siblings       ：<br>   &lt;/div&gt;  --&gt;<br>      &lt;input type=&quot;button&quot; value=&quot;选择 body 内的所有 div 元素&quot; id=&quot;btn1&quot; /&gt;<br>      &lt;input type=&quot;button&quot; value=&quot;在 body 内, 选择div子元素&quot; id=&quot;btn2&quot; /&gt;<br>      &lt;input type=&quot;button&quot; value=&quot;选择 id 为 one 的下一个 div 元素&quot; id=&quot;btn3&quot; /&gt;<br>      &lt;input type=&quot;button&quot; value=&quot;选择 id 为 two 的元素后面的所有 div 兄弟元素&quot; id=&quot;btn4&quot; /&gt;<br>      &lt;br&gt;&lt;br&gt;<br>      &lt;div class=&quot;one&quot; id=&quot;one&quot;&gt;<br>         id 为 one,class 为 one 的div<br>         &lt;div class=&quot;mini&quot;&gt;class为mini&lt;/div&gt;<br>      &lt;/div&gt;<br>      &lt;div class=&quot;one&quot; id=&quot;two&quot; title=&quot;test&quot;&gt;<br>         id为two,class为one,title为test的div<br>         &lt;div class=&quot;mini&quot; title=&quot;other&quot;&gt;class为mini,title为other&lt;/div&gt;<br>         &lt;div class=&quot;mini&quot; title=&quot;test&quot;&gt;class为mini,title为test&lt;/div&gt;<br>      &lt;/div&gt;<br>      &lt;div class=&quot;one&quot;&gt;<br>         &lt;div class=&quot;mini&quot;&gt;class为mini&lt;/div&gt;<br>         &lt;div class=&quot;mini&quot;&gt;class为mini&lt;/div&gt;<br>         &lt;div class=&quot;mini&quot;&gt;class为mini&lt;/div&gt;<br>         &lt;div class=&quot;mini&quot;&gt;&lt;/div&gt;<br>      &lt;/div&gt;<br>      &lt;div class=&quot;one&quot;&gt;<br>         &lt;div class=&quot;mini&quot;&gt;class为mini&lt;/div&gt;<br>         &lt;div class=&quot;mini&quot;&gt;class为mini&lt;/div&gt;<br>         &lt;div class=&quot;mini&quot;&gt;class为mini&lt;/div&gt;<br>         &lt;div class=&quot;mini&quot; title=&quot;tesst&quot;&gt;class为mini,title为tesst&lt;/div&gt;<br>      &lt;/div&gt;<br>      &lt;div style=&quot;display:none;&quot; class=&quot;none&quot;&gt;style的display为&quot;none&quot;的div&lt;/div&gt;<br>      &lt;div class=&quot;hide&quot;&gt;class为&quot;hide&quot;的div&lt;/div&gt;<br>      &lt;div&gt;<br>         包含input的type为&quot;hidden&quot;的div&lt;input type=&quot;hidden&quot; size=&quot;8&quot;&gt;<br>      &lt;/div&gt;<br>      &lt;span id=&quot;span&quot;&gt;^^span元素^^&lt;/span&gt;<br>   &lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>



<h4 id="jQuery基本过滤选择器"><a href="#jQuery基本过滤选择器" class="headerlink" title="jQuery基本过滤选择器"></a>jQuery基本过滤选择器</h4><p>:first 获取第一个元素 </p>
<p>:last 获取最后个元素 </p>
<p>:not(selector) 去除所有与给定选择器匹配的元素 </p>
<p>:even 匹配所有索引值为偶数的元素，从 0 开始计数</p>
<p> :odd 匹配所有索引值为奇数的元素，从 0 开始计数 </p>
<p>:eq(index) 匹配一个给定索引值的元素 </p>
<p>:gt(index) 匹配所有大于给定索引值的元素</p>
<p>:lt(index) 匹配所有小于给定索引值的元素</p>
<p> :header 匹配如 h1, h2, h3 之类的标题元素 </p>
<p>:animated 匹配所有正在执行动画效果的元</p>
<p>:hidden匹配被隐藏起来的元素</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;!<span class="hljs-variable constant_">DOCTYPE</span> <span class="hljs-variable constant_">HTML</span> <span class="hljs-variable constant_">PUBLIC</span> <span class="hljs-string">&quot;-//W3C//DTD HTML 4.01//EN&quot;</span> <span class="hljs-string">&quot;http://www.w3.org/TR/html4/strict.dtd&quot;</span>&gt;<br>&lt;html&gt;<br>   &lt;head&gt;<br>      &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;<br>      &lt;title&gt;Untitled Document&lt;/title&gt;<br>      &lt;style type=&quot;text/css&quot;&gt;<br>         div, span, p &#123;<br>             width: 140px;<br>             height: 140px;<br>             margin: 5px;<br>             background: #aaa;<br>             border: #000 1px solid;<br>             float: left;<br>             font-size: 17px;<br>             font-family: Verdana;<br>         &#125;<br>         <br>         div.mini &#123;<br>             width: 55px;<br>             height: 55px;<br>             background-color: #aaa;<br>             font-size: 12px;<br>         &#125;<br>         <br>         div.hide &#123;<br>             display: none;<br>         &#125;        <br>      &lt;/style&gt;<br>      &lt;script type=&quot;text/javascript&quot; src=&quot;../script/jquery-1.7.2.js&quot;&gt;&lt;/script&gt;<br>      &lt;script type=&quot;text/javascript&quot;&gt;<br>      //这是一个动画的代码<br>         $(document).ready(function()&#123;<br>            function anmateIt()&#123;<br>               $(&quot;#mover&quot;).slideToggle(&quot;slow&quot;, anmateIt);<br>            &#125;<br>            anmateIt();<br>         &#125;);<br>         <br>         $(document).ready(function()&#123;<br>            //1.选择第一个 div 元素  <br>            $(&quot;#btn1&quot;).click(function()&#123;<br>               $(&quot;div:first&quot;).css(&quot;background&quot;, &quot;#bbffaa&quot;);<br>            &#125;);<br><br>            //2.选择最后一个 div 元素<br>            $(&quot;#btn2&quot;).click(function()&#123;<br>               $(&quot;div:last&quot;).css(&quot;background&quot;, &quot;#bbffaa&quot;);<br>            &#125;);<br><br>            //3.选择class不为 one 的所有 div 元素<br>            $(&quot;#btn3&quot;).click(function()&#123;<br>               $(&quot;div:not(.one)&quot;).css(&quot;background&quot;, &quot;#bbffaa&quot;);<br>            &#125;);<br><br>            //4.选择索引值为偶数的 div 元素<br>            $(&quot;#btn4&quot;).click(function()&#123;<br>               $(&quot;div:even&quot;).css(&quot;background&quot;, &quot;#bbffaa&quot;);<br>            &#125;);<br><br>            //5.选择索引值为奇数的 div 元素<br>            $(&quot;#btn5&quot;).click(function()&#123;<br>               $(&quot;div:odd&quot;).css(&quot;background&quot;, &quot;#bbffaa&quot;);<br>            &#125;);<br><br>            //6.选择索引值为大于 3 的 div 元素<br>            $(&quot;#btn6&quot;).click(function()&#123;<br>               $(&quot;div:gt(3)&quot;).css(&quot;background&quot;, &quot;#bbffaa&quot;);<br>            &#125;);<br><br>            //7.选择索引值为等于 3 的 div 元素<br>            $(&quot;#btn7&quot;).click(function()&#123;<br>               $(&quot;div:eq(3)&quot;).css(&quot;background&quot;, &quot;#bbffaa&quot;);<br>            &#125;);<br><br>            //8.选择索引值为小于 3 的 div 元素<br>            $(&quot;#btn8&quot;).click(function()&#123;<br>               $(&quot;div:lt(3)&quot;).css(&quot;background&quot;, &quot;#bbffaa&quot;);<br>            &#125;);<br><br>            //9.选择所有的标题元素<br>            $(&quot;#btn9&quot;).click(function()&#123;<br>               $(&quot;:header&quot;).css(&quot;background&quot;, &quot;#bbffaa&quot;);<br>            &#125;);<br><br>            //10.选择当前正在执行动画的所有元素<br>            $(&quot;#btn10&quot;).click(function()&#123;<br>               $(&quot;:animated&quot;).css(&quot;background&quot;, &quot;#bbffaa&quot;);<br>            &#125;);<br>            //11.选择没有执行动画的最后一个div<br>            $(&quot;#btn11&quot;).click(function()&#123;<br>               $(&quot;div:not(:animated):last&quot;).css(&quot;background&quot;, &quot;#bbffaa&quot;);<br>            &#125;);<br>         &#125;);<br>      &lt;/script&gt;<br>   &lt;/head&gt;<br>   &lt;body&gt;<br>      &lt;input type=&quot;button&quot; value=&quot;选择第一个 div 元素&quot; id=&quot;btn1&quot; /&gt;<br>      &lt;input type=&quot;button&quot; value=&quot;选择最后一个 div 元素&quot; id=&quot;btn2&quot; /&gt;<br>      &lt;input type=&quot;button&quot; value=&quot;选择class不为 one 的所有 div 元素&quot; id=&quot;btn3&quot; /&gt;<br>      &lt;input type=&quot;button&quot; value=&quot;选择索引值为偶数的 div 元素&quot; id=&quot;btn4&quot; /&gt;<br>      &lt;input type=&quot;button&quot; value=&quot;选择索引值为奇数的 div 元素&quot; id=&quot;btn5&quot; /&gt;<br>      &lt;input type=&quot;button&quot; value=&quot;选择索引值为大于 3 的 div 元素&quot; id=&quot;btn6&quot; /&gt;<br>      &lt;input type=&quot;button&quot; value=&quot;选择索引值为等于 3 的 div 元素&quot; id=&quot;btn7&quot; /&gt;<br>      &lt;input type=&quot;button&quot; value=&quot;选择索引值为小于 3 的 div 元素&quot; id=&quot;btn8&quot; /&gt;<br>      &lt;input type=&quot;button&quot; value=&quot;选择所有的标题元素&quot; id=&quot;btn9&quot; /&gt;<br>      &lt;input type=&quot;button&quot; value=&quot;选择当前正在执行动画的所有元素&quot; id=&quot;btn10&quot; /&gt;    <br>      &lt;input type=&quot;button&quot; value=&quot;选择没有执行动画的最后一个div&quot; id=&quot;btn11&quot; /&gt;<br><br><br>      &lt;h3&gt;基本选择器.&lt;/h3&gt;<br>      &lt;br&gt;&lt;br&gt;<br>      &lt;div class=&quot;one&quot; id=&quot;one&quot;&gt;<br>         id 为 one,class 为 one 的div<br>         &lt;div class=&quot;mini&quot;&gt;class为mini&lt;/div&gt;<br>      &lt;/div&gt;<br>      &lt;div class=&quot;one&quot; id=&quot;two&quot; title=&quot;test&quot;&gt;<br>         id为two,class为one,title为test的div<br>         &lt;div class=&quot;mini&quot; title=&quot;other&quot;&gt;class为mini,title为other&lt;/div&gt;<br>         &lt;div class=&quot;mini&quot; title=&quot;test&quot;&gt;class为mini,title为test&lt;/div&gt;<br>      &lt;/div&gt;<br>      &lt;div class=&quot;one&quot;&gt;<br>         &lt;div class=&quot;mini&quot;&gt;class为mini&lt;/div&gt;<br>         &lt;div class=&quot;mini&quot;&gt;class为mini&lt;/div&gt;<br>         &lt;div class=&quot;mini&quot;&gt;class为mini&lt;/div&gt;<br>         &lt;div class=&quot;mini&quot;&gt;&lt;/div&gt;<br>      &lt;/div&gt;<br>      &lt;div class=&quot;one&quot;&gt;<br>         &lt;div class=&quot;mini&quot;&gt;class为mini&lt;/div&gt;<br>         &lt;div class=&quot;mini&quot;&gt;class为mini&lt;/div&gt;<br>         &lt;div class=&quot;mini&quot;&gt;class为mini&lt;/div&gt;<br>         &lt;div class=&quot;mini&quot; title=&quot;tesst&quot;&gt;class为mini,title为tesst&lt;/div&gt;<br>      &lt;/div&gt;<br>      &lt;div style=&quot;display:none;&quot; class=&quot;none&quot;&gt;style的display为&quot;none&quot;的div&lt;/div&gt;<br>      &lt;div class=&quot;hide&quot;&gt;class为&quot;hide&quot;的div&lt;/div&gt;<br>      &lt;div&gt;<br>         包含input的type为&quot;hidden&quot;的div&lt;input type=&quot;hidden&quot; size=&quot;8&quot;&gt;<br>      &lt;/div&gt;<br>      &lt;div id=&quot;mover&quot;&gt;正在执行动画的div元素.&lt;/div&gt;<br>   &lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>

<h4 id="jQuery内容过滤器"><a href="#jQuery内容过滤器" class="headerlink" title="jQuery内容过滤器"></a>jQuery内容过滤器</h4><p>文本也算是子元素</p>
<p>:contains(text) 匹配包含给定文本的元素 </p>
<p>:empty 匹配所有不包含子元素或者文本的空元素 </p>
<p>:parent 匹配含有子元素或者文本的元素 </p>
<p>:has(selector) 匹配含有选择器所匹配的元素的元</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;!<span class="hljs-variable constant_">DOCTYPE</span> <span class="hljs-variable constant_">HTML</span> <span class="hljs-variable constant_">PUBLIC</span> <span class="hljs-string">&quot;-//W3C//DTD HTML 4.01//EN&quot;</span> <span class="hljs-string">&quot;http://www.w3.org/TR/html4/strict.dtd&quot;</span>&gt;<br>&lt;html&gt;<br>   &lt;head&gt;<br>      &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;<br>      &lt;title&gt;Untitled Document&lt;/title&gt;<br>      &lt;style type=&quot;text/css&quot;&gt;<br>         div, span, p &#123;<br>             width: 140px;<br>             height: 140px;<br>             margin: 5px;<br>             background: #aaa;<br>             border: #000 1px solid;<br>             float: left;<br>             font-size: 17px;<br>             font-family: Verdana;<br>         &#125;<br>         <br>         div.mini &#123;<br>             width: 55px;<br>             height: 55px;<br>             background-color: #aaa;<br>             font-size: 12px;<br>         &#125;<br>         <br>         div.hide &#123;<br>             display: none;<br>         &#125;        <br>      &lt;/style&gt;<br>      &lt;script type=&quot;text/javascript&quot; src=&quot;../script/jquery-1.7.2.js&quot;&gt;&lt;/script&gt;<br>      &lt;script type=&quot;text/javascript&quot;&gt;<br>         $(document).ready(function()&#123;<br>            function anmateIt()&#123;<br>               $(&quot;#mover&quot;).slideToggle(&quot;slow&quot;, anmateIt);<br>            &#125;<br>   <br>            anmateIt();             <br>         &#125;);<br>         <br>         /** <br>         :contains(text)   <br>         :empty             <br>         :has(selector)     <br>         :parent          <br>         */<br>         $(document).ready(function()&#123;<br>            //1.选择 含有文本 &#x27;di&#x27; 的 div 元素<br>            $(&quot;#btn1&quot;).click(function()&#123;<br>               $(&quot;div:contains(&#x27;di&#x27;)&quot;).css(&quot;background&quot;, &quot;#bbffaa&quot;);<br>            &#125;);<br><br>            //2.选择不包含子元素(包括文本元素) 的 div 空元素<br>            $(&quot;#btn2&quot;).click(function()&#123;<br>               $(&quot;div:empty&quot;).css(&quot;background&quot;, &quot;#bbffaa&quot;);<br>            &#125;);<br><br>            //3.选择含有 class 为 mini 元素的 div 元素<br>            $(&quot;#btn3&quot;).click(function()&#123;<br>               $(&quot;div:has(.mini)&quot;).css(&quot;background&quot;, &quot;#bbffaa&quot;);<br>            &#125;);<br><br>            //4.选择含有子元素(包括文本元素)的div元素<br>            $(&quot;#btn4&quot;).click(function()&#123;<br>               $(&quot;div:parent&quot;).css(&quot;background&quot;, &quot;#bbffaa&quot;);<br>            &#125;);<br>         &#125;);<br>      &lt;/script&gt;<br>   &lt;/head&gt;<br>   &lt;body&gt;    <br>      &lt;input type=&quot;button&quot; value=&quot;选择 含有文本 &#x27;di&#x27; 的 div 元素&quot; id=&quot;btn1&quot; /&gt;<br>      &lt;input type=&quot;button&quot; value=&quot;选择不包含子元素(或者文本元素) 的 div 空元素&quot; id=&quot;btn2&quot; /&gt;<br>      &lt;input type=&quot;button&quot; value=&quot;选择含有 class 为 mini 元素的 div 元素&quot; id=&quot;btn3&quot; /&gt;<br>      &lt;input type=&quot;button&quot; value=&quot;选择含有子元素(或者文本元素)的div元素&quot; id=&quot;btn4&quot; /&gt;<br>      <br>      &lt;br&gt;&lt;br&gt;<br>      &lt;div class=&quot;one&quot; id=&quot;one&quot;&gt;<br>         id 为 one,class 为 one 的div<br>         &lt;div class=&quot;mini&quot;&gt;class为mini&lt;/div&gt;<br>      &lt;/div&gt;<br>      &lt;div class=&quot;one&quot; id=&quot;two&quot; title=&quot;test&quot;&gt;<br>         id为two,class为one,title为test的div<br>         &lt;div class=&quot;mini&quot; title=&quot;other&quot;&gt;class为mini,title为other&lt;/div&gt;<br>         &lt;div class=&quot;mini&quot; title=&quot;test&quot;&gt;class为mini,title为test&lt;/div&gt;<br>      &lt;/div&gt;<br>      &lt;div class=&quot;one&quot;&gt;<br>         &lt;div class=&quot;mini&quot;&gt;class为mini&lt;/div&gt;<br>         &lt;div class=&quot;mini&quot;&gt;class为mini&lt;/div&gt;<br>         &lt;div class=&quot;mini&quot;&gt;class为mini&lt;/div&gt;<br>         &lt;div class=&quot;mini&quot;&gt;&lt;/div&gt;<br>      &lt;/div&gt;<br>      &lt;div class=&quot;one&quot;&gt;<br>         &lt;div class=&quot;mini&quot;&gt;class为mini&lt;/div&gt;<br>         &lt;div class=&quot;mini&quot;&gt;class为mini&lt;/div&gt;<br>         &lt;div class=&quot;mini&quot;&gt;class为mini&lt;/div&gt;<br>         &lt;div class=&quot;mini&quot; title=&quot;tesst&quot;&gt;class为mini,title为tesst&lt;/div&gt;<br>      &lt;/div&gt;<br>      &lt;div style=&quot;display:none;&quot; class=&quot;none&quot;&gt;style的display为&quot;none&quot;的div&lt;/div&gt;<br>      &lt;div class=&quot;hide&quot;&gt;class为&quot;hide&quot;的div&lt;/div&gt;<br>      &lt;div&gt;<br>         包含input的type为&quot;hidden&quot;的div&lt;input type=&quot;hidden&quot; size=&quot;8&quot;&gt;<br>      &lt;/div&gt;<br>      &lt;div id=&quot;mover&quot;&gt;正在执行动画的div元素.&lt;/div&gt;<br>   &lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>

<h4 id="jQuery属性过滤选择器"><a href="#jQuery属性过滤选择器" class="headerlink" title="jQuery属性过滤选择器"></a>jQuery属性过滤选择器</h4><p>[attribute] 匹配包含给定属性的元素。 </p>
<p>[attribute&#x3D;value] 匹配给定的属性是某个特定值的元素 </p>
<p>[attribute!&#x3D;value] 匹配所有不含有指定的属性，或者属性不等于特定值的元素。 </p>
<p>[attribute^&#x3D;value] 匹配给定的属性是以某些值开始的元素 </p>
<p>[attribute$&#x3D;value] 匹配给定的属性是以某些值结尾的元素 </p>
<p>[attribute*&#x3D;value] 匹配给定的属性是以包含某些值的元素</p>
<p> [attrSel1][attrSel2][attrSelN] 复合属性选择器，需要同时满足多个条件时使用。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;!<span class="hljs-variable constant_">DOCTYPE</span> <span class="hljs-variable constant_">HTML</span> <span class="hljs-variable constant_">PUBLIC</span> <span class="hljs-string">&quot;-//W3C//DTD HTML 4.01//EN&quot;</span> <span class="hljs-string">&quot;http://www.w3.org/TR/html4/strict.dtd&quot;</span>&gt;<br>&lt;html&gt;<br>&lt;head&gt;<br>&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;<br>&lt;title&gt;Untitled Document&lt;/title&gt;<br>&lt;style type=&quot;text/css&quot;&gt;<br>div,span,p &#123;<br>   width: 140px;<br>   height: 140px;<br>   margin: 5px;<br>   background: #aaa;<br>   border: #000 1px solid;<br>   float: left;<br>   font-size: 17px;<br>   font-family: Verdana;<br>&#125;<br><br>div.mini &#123;<br>   width: 55px;<br>   height: 55px;<br>   background-color: #aaa;<br>   font-size: 12px;<br>&#125;<br><br>div.hide &#123;<br>   display: none;<br>&#125;<br>&lt;/style&gt;<br>&lt;script type=&quot;text/javascript&quot; src=&quot;../script/jquery-1.7.2.js&quot;&gt;&lt;/script&gt;<br>&lt;script type=&quot;text/javascript&quot;&gt;<br>   /**<br>[attribute]          <br>[attribute=value]     <br>[attribute!=value]         <br>[attribute^=value]        <br>[attribute$=value]        <br>[attribute*=value]        <br>[attrSel1][attrSel2][attrSelN]  <br>   <br>   <br>   */<br>   $(function() &#123;<br>      //1.选取含有 属性title 的div元素<br>      $(&quot;#btn1&quot;).click(function() &#123;<br>         $(&quot;div[title]&quot;).css(&quot;background&quot;, &quot;#bbffaa&quot;);<br>      &#125;);<br>      //2.选取 属性title值等于&#x27;test&#x27;的div元素<br>      $(&quot;#btn2&quot;).click(function() &#123;<br>         $(&quot;div[title=&#x27;test&#x27;]&quot;).css(&quot;background&quot;, &quot;#bbffaa&quot;);<br>      &#125;);<br>      //3.选取 属性title值不等于&#x27;test&#x27;的div元素(*没有属性title的也将被选中)<br>      $(&quot;#btn3&quot;).click(function() &#123;<br>         $(&quot;div[title!=&#x27;test&#x27;]&quot;).css(&quot;background&quot;, &quot;#bbffaa&quot;);<br>      &#125;);<br>      //4.选取 属性title值 以&#x27;te&#x27;开始 的div元素<br>      $(&quot;#btn4&quot;).click(function() &#123;<br>         $(&quot;div[title^=&#x27;te&#x27;]&quot;).css(&quot;background&quot;, &quot;#bbffaa&quot;);<br>      &#125;);<br>      //5.选取 属性title值 以&#x27;est&#x27;结束 的div元素<br>      $(&quot;#btn5&quot;).click(function() &#123;<br>         $(&quot;div[title$=&#x27;est&#x27;]&quot;).css(&quot;background&quot;, &quot;#bbffaa&quot;);<br>      &#125;);<br>      //6.选取 属性title值 含有&#x27;es&#x27;的div元素<br>      $(&quot;#btn6&quot;).click(function() &#123;<br>         $(&quot;div[title*=&#x27;es&#x27;]&quot;).css(&quot;background&quot;, &quot;#bbffaa&quot;);<br>      &#125;);<br>      <br>      //7.首先选取有属性id的div元素，然后在结果中 选取属性title值 含有&#x27;es&#x27;的 div 元素<br>      $(&quot;#btn7&quot;).click(function() &#123;<br>         $(&quot;div[id][title*=&#x27;es&#x27;]&quot;).css(&quot;background&quot;, &quot;#bbffaa&quot;);<br>      &#125;);<br>      //8.选取 含有 title 属性值, 且title 属性值不等于 test 的 div 元素<br>      $(&quot;#btn8&quot;).click(function() &#123;<br>         $(&quot;div[title][title!=&#x27;test&#x27;]&quot;).css(&quot;background&quot;, &quot;#bbffaa&quot;);<br>      &#125;);<br>   &#125;);<br>&lt;/script&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>   &lt;input type=&quot;button&quot; value=&quot;选取含有 属性title 的div元素.&quot; id=&quot;btn1&quot; style=&quot;display: none;&quot;/&gt;<br>   &lt;input type=&quot;button&quot; value=&quot;选取 属性title值等于&#x27;test&#x27;的div元素.&quot; id=&quot;btn2&quot; /&gt;<br>   &lt;input type=&quot;button&quot;<br>      value=&quot;选取 属性title值不等于&#x27;test&#x27;的div元素(没有属性title的也将被选中).&quot; id=&quot;btn3&quot; /&gt;<br>   &lt;input type=&quot;button&quot; value=&quot;选取 属性title值 以&#x27;te&#x27;开始 的div元素.&quot; id=&quot;btn4&quot; /&gt;<br>   &lt;input type=&quot;button&quot; value=&quot;选取 属性title值 以&#x27;est&#x27;结束 的div元素.&quot; id=&quot;btn5&quot; /&gt;<br>   &lt;input type=&quot;button&quot; value=&quot;选取 属性title值 含有&#x27;es&#x27;的div元素.&quot; id=&quot;btn6&quot; /&gt;<br>   &lt;input type=&quot;button&quot;<br>      value=&quot;组合属性选择器,首先选取有属性id的div元素，然后在结果中 选取属性title值 含有&#x27;es&#x27;的 div 元素.&quot;<br>      id=&quot;btn7&quot; /&gt;<br>   &lt;input type=&quot;button&quot;<br>      value=&quot;选取 含有 title 属性值, 且title 属性值不等于 test 的 div 元素.&quot; id=&quot;btn8&quot; /&gt;<br><br>   &lt;br&gt;<br>   &lt;br&gt;<br>   &lt;div class=&quot;one&quot; id=&quot;one&quot;&gt;<br>      id 为 one,class 为 one 的div<br>      &lt;div class=&quot;mini&quot;&gt;class为mini&lt;/div&gt;<br>   &lt;/div&gt;<br>   &lt;div class=&quot;one&quot; id=&quot;two&quot; title=&quot;test&quot;&gt;<br>      id为two,class为one,title为test的div<br>      &lt;div class=&quot;mini&quot; title=&quot;other&quot;&gt;class为mini,title为other&lt;/div&gt;<br>      &lt;div class=&quot;mini&quot; title=&quot;test&quot;&gt;class为mini,title为test&lt;/div&gt;<br>   &lt;/div&gt;<br>   &lt;div class=&quot;one&quot;&gt;<br>      &lt;div class=&quot;mini&quot;&gt;class为mini&lt;/div&gt;<br>      &lt;div class=&quot;mini&quot;&gt;class为mini&lt;/div&gt;<br>      &lt;div class=&quot;mini&quot;&gt;class为mini&lt;/div&gt;<br>      &lt;div class=&quot;mini&quot;&gt;&lt;/div&gt;<br>   &lt;/div&gt;<br>   &lt;div class=&quot;one&quot;&gt;<br>      &lt;div class=&quot;mini&quot;&gt;class为mini&lt;/div&gt;<br>      &lt;div class=&quot;mini&quot;&gt;class为mini&lt;/div&gt;<br>      &lt;div class=&quot;mini&quot;&gt;class为mini&lt;/div&gt;<br>      &lt;div class=&quot;mini&quot; title=&quot;tesst&quot;&gt;class为mini,title为tesst&lt;/div&gt;<br>   &lt;/div&gt;<br>   &lt;div style=&quot;display: none;&quot; class=&quot;none&quot;&gt;style的display为&quot;none&quot;的div&lt;/div&gt;<br>   &lt;div class=&quot;hide&quot;&gt;class为&quot;hide&quot;的div&lt;/div&gt;<br>   &lt;div&gt;<br>      包含input的type为&quot;hidden&quot;的div&lt;input type=&quot;hidden&quot; value=&quot;123456789&quot;<br>         size=&quot;8&quot;&gt;<br>   &lt;/div&gt;<br>   &lt;div id=&quot;mover&quot;&gt;正在执行动画的div元素.&lt;/div&gt;<br>&lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>



<h4 id="jQuery表单过滤选择器"><a href="#jQuery表单过滤选择器" class="headerlink" title="jQuery表单过滤选择器"></a>jQuery表单过滤选择器</h4><p>:input 匹配所有 input, textarea, select 和 button 元素 </p>
<p>:text 匹配所有 文本输入框 </p>
<p>:password 匹配所有的密码输入框 </p>
<p>:radio 匹配所有的单选框 </p>
<p>:checkbox 匹配所有的复选框 </p>
<p>:submit 匹配所有提交按钮 </p>
<p>:image 匹配所有 img 标签 </p>
<p>:reset 匹配所有重置按钮 </p>
<p>:button 匹配所有 input type&#x3D;button 按钮 </p>
<p>:file 匹配所有 input type&#x3D;file 文件上传 </p>
<p>:hidden 匹配所有不可见元素 display:none </p>
<p>:enabled 匹配所有可用元素 </p>
<p>:disabled 匹配所有不可用元素 </p>
<p>:checked 匹配所有选中的单选，复选，和下拉列表中选中的 option 标签对象 </p>
<p>:selected 匹配所有选中的 option</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">HTML</span> <span class="hljs-keyword">PUBLIC</span> <span class="hljs-string">&quot;-//W3C//DTD HTML 4.01//EN&quot;</span> <span class="hljs-string">&quot;http://www.w3.org/TR/html4/strict.dtd&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;Content-Type&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;text/html; charset=UTF-8&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Untitled Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../script/jquery-1.7.2.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">         $(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">            </span><br><span class="language-javascript">            </span><br><span class="language-javascript">      <span class="hljs-comment">/**</span></span><br><span class="hljs-comment"><span class="language-javascript">      :input        </span></span><br><span class="hljs-comment"><span class="language-javascript">      :text     </span></span><br><span class="hljs-comment"><span class="language-javascript">      :password  </span></span><br><span class="hljs-comment"><span class="language-javascript">      :radio        </span></span><br><span class="hljs-comment"><span class="language-javascript">      :checkbox  </span></span><br><span class="hljs-comment"><span class="language-javascript">      :submit    </span></span><br><span class="hljs-comment"><span class="language-javascript">      :image        </span></span><br><span class="hljs-comment"><span class="language-javascript">      :reset        </span></span><br><span class="hljs-comment"><span class="language-javascript">      :button    </span></span><br><span class="hljs-comment"><span class="language-javascript">      :file     </span></span><br><span class="hljs-comment"><span class="language-javascript">      :hidden    </span></span><br><span class="hljs-comment"><span class="language-javascript">      </span></span><br><span class="hljs-comment"><span class="language-javascript">      表单对象的属性</span></span><br><span class="hljs-comment"><span class="language-javascript">      :enabled      </span></span><br><span class="hljs-comment"><span class="language-javascript">      :disabled     </span></span><br><span class="hljs-comment"><span class="language-javascript">      :checked      </span></span><br><span class="hljs-comment"><span class="language-javascript">      :selected     </span></span><br><span class="hljs-comment"><span class="language-javascript">      */</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">               </span><br><span class="language-javascript">            <span class="hljs-comment">//1.对表单内 可用input 赋值操作</span></span><br><span class="language-javascript">            $(<span class="hljs-string">&quot;#btn1&quot;</span>).<span class="hljs-title function_">click</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">               <span class="hljs-comment">// val()可以操作表单项的value属性值</span></span><br><span class="language-javascript">               <span class="hljs-comment">//表单项是那个form标签里面的那些</span></span><br><span class="language-javascript">               <span class="hljs-comment">// 它可以设置和获取</span></span><br><span class="language-javascript">               $(<span class="hljs-string">&quot;:text:enabled&quot;</span>).<span class="hljs-title function_">val</span>(<span class="hljs-string">&quot;我是万能的程序员&quot;</span>);</span><br><span class="language-javascript">            &#125;);</span><br><span class="language-javascript">            <span class="hljs-comment">//2.对表单内 不可用input 赋值操作</span></span><br><span class="language-javascript">            $(<span class="hljs-string">&quot;#btn2&quot;</span>).<span class="hljs-title function_">click</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">               $(<span class="hljs-string">&quot;:text:disabled&quot;</span>).<span class="hljs-title function_">val</span>(<span class="hljs-string">&quot;管你可用不可用，反正我是万能的程序员&quot;</span>);</span><br><span class="language-javascript">            &#125;);</span><br><span class="language-javascript">            <span class="hljs-comment">//3.获取多选框选中的个数  使用size()方法获取选取到的元素集合的元素个数</span></span><br><span class="language-javascript">            $(<span class="hljs-string">&quot;#btn3&quot;</span>).<span class="hljs-title function_">click</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">               <span class="hljs-title function_">alert</span>( $(<span class="hljs-string">&quot;:checkbox:checked&quot;</span>).<span class="hljs-property">length</span> );</span><br><span class="language-javascript">            &#125;);</span><br><span class="language-javascript">            <span class="hljs-comment">//4.获取多选框，每个选中的value值</span></span><br><span class="language-javascript">            $(<span class="hljs-string">&quot;#btn4&quot;</span>).<span class="hljs-title function_">click</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">               <span class="hljs-comment">// 获取全部选中的复选框标签对象</span></span><br><span class="language-javascript">               <span class="hljs-keyword">var</span> $checkboies = $(<span class="hljs-string">&quot;:checkbox:checked&quot;</span>);</span><br><span class="language-javascript">               <span class="hljs-comment">// 老式遍历</span></span><br><span class="language-javascript">               <span class="hljs-comment">// for (var i = 0; i &lt; $checkboies.length; i++)&#123;</span></span><br><span class="language-javascript">               <span class="hljs-comment">//     alert( $checkboies[i].value );</span></span><br><span class="language-javascript">               <span class="hljs-comment">// &#125;</span></span><br><span class="language-javascript">               <span class="hljs-comment">// each方法是jQuery对象提供用来遍历元素的方法</span></span><br><span class="language-javascript">               <span class="hljs-comment">// 在遍历的function函数中，有一个this对象，这个this对象，就是当前遍历到的dom对象</span></span><br><span class="language-javascript">               $checkboies.<span class="hljs-title function_">each</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">                  <span class="hljs-title function_">alert</span>( <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span> );</span><br><span class="language-javascript">               &#125;);</span><br><span class="language-javascript">            &#125;);</span><br><span class="language-javascript">            <span class="hljs-comment">//5.获取下拉框选中的内容  </span></span><br><span class="language-javascript">            $(<span class="hljs-string">&quot;#btn5&quot;</span>).<span class="hljs-title function_">click</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">               <span class="hljs-comment">// 选中select后代的option标签且被选中的</span></span><br><span class="language-javascript">               <span class="hljs-keyword">var</span> $options = $(<span class="hljs-string">&quot;select option:selected&quot;</span>);</span><br><span class="language-javascript">               <span class="hljs-comment">// 遍历，获取option标签中的文本内容</span></span><br><span class="language-javascript">               $options.<span class="hljs-title function_">each</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">                  <span class="hljs-comment">// 在each遍历的function函数中，有一个this对象。这个this对象是当前正在遍历到的dom对象</span></span><br><span class="language-javascript">                  <span class="hljs-title function_">alert</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">innerHTML</span>);</span><br><span class="language-javascript">               &#125;);</span><br><span class="language-javascript">            &#125;);</span><br><span class="language-javascript">         &#125;) </span><br><span class="language-javascript">      </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>表单对象属性过滤选择器<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;btn1&quot;</span>&gt;</span>对表单内 可用input 赋值操作.<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;btn2&quot;</span>&gt;</span>对表单内 不可用input 赋值操作.<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;btn3&quot;</span>&gt;</span>获取多选框选中的个数.<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;btn4&quot;</span>&gt;</span>获取多选框选中的内容.<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><br>         <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;btn5&quot;</span>&gt;</span>获取下拉框选中的内容.<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><br>       <br>      <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;form1&quot;</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;#&quot;</span>&gt;</span>         <br>         可用元素: <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;add&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;可用文本框1&quot;</span>/&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>         <span class="hljs-comment">&lt;!--diabled=&quot;disabled就是让文本框不可选&quot;--&gt;</span><br>         不可用元素: <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;email&quot;</span> <span class="hljs-attr">disabled</span>=<span class="hljs-string">&quot;disabled&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;不可用文本框&quot;</span>/&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>         可用元素: <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;che&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;可用文本框2&quot;</span>/&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>         不可用元素: <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;name&quot;</span> <span class="hljs-attr">disabled</span>=<span class="hljs-string">&quot;disabled&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;不可用文本框&quot;</span>/&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>         <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>         <br>         多选框: <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>         <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;newsletter&quot;</span> <span class="hljs-attr">checked</span>=<span class="hljs-string">&quot;checked&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;test1&quot;</span> /&gt;</span>test1<br>         <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;newsletter&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;test2&quot;</span> /&gt;</span>test2<br>         <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;newsletter&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;test3&quot;</span> /&gt;</span>test3<br>         <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;newsletter&quot;</span> <span class="hljs-attr">checked</span>=<span class="hljs-string">&quot;checked&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;test4&quot;</span> /&gt;</span>test4<br>         <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;newsletter&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;test5&quot;</span> /&gt;</span>test5<br>         <br>         <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>         下拉列表1: <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>         <span class="hljs-comment">&lt;!--multiple属性决定了这个下拉表可以多选--&gt;</span><br>         <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;test&quot;</span> <span class="hljs-attr">multiple</span>=<span class="hljs-string">&quot;multiple&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;height: 100px&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;sele1&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span>&gt;</span>浙江<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">selected</span>=<span class="hljs-string">&quot;selected&quot;</span>&gt;</span>辽宁<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span>&gt;</span>北京<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">selected</span>=<span class="hljs-string">&quot;selected&quot;</span>&gt;</span>天津<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span>&gt;</span>广州<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span>&gt;</span>湖北<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>         <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br>         <br>         <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>         下拉列表2: <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>         <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;test2&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span>&gt;</span>浙江<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span>&gt;</span>辽宁<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">selected</span>=<span class="hljs-string">&quot;selected&quot;</span>&gt;</span>北京<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span>&gt;</span>天津<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span>&gt;</span>广州<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">option</span>&gt;</span>湖北<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>         <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>       <br>   <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h4 id="jQuery元素的筛选"><a href="#jQuery元素的筛选" class="headerlink" title="jQuery元素的筛选"></a>jQuery元素的筛选</h4><p>eq() 获取给定索引的元素                 功能跟 :eq() 一样</p>
<p>first() 获取第一个元素                 功能跟 :first 一样 </p>
<p>last() 获取最后一个元素                     功能跟 :last 一样 </p>
<p>filter(exp) 留下匹配的元素 </p>
<p>is(exp) 判断是否匹配给定的选择器，只要有一个匹配就返回，true </p>
<p>has(exp) 返回包含有匹配选择器的元素的元素                功能跟 :has 一样 </p>
<p>not(exp) 删除匹配选择器的元素                       功能跟 :not 一样 </p>
<p>children(exp) 返回匹配给定选择器的子元素          功能跟 parent&gt;child 一样 </p>
<p>find(exp) 返回匹配给定选择器的后代元素         功能跟 ancestor descendant 一样</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;!<span class="hljs-variable constant_">DOCTYPE</span> <span class="hljs-variable constant_">HTML</span> <span class="hljs-variable constant_">PUBLIC</span> <span class="hljs-string">&quot;-//W3C//DTD HTML 4.01//EN&quot;</span> <span class="hljs-string">&quot;http://www.w3.org/TR/html4/strict.dtd&quot;</span>&gt;<br>&lt;html&gt;<br>   &lt;head&gt;<br>      &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;<br>      &lt;title&gt;DOM查询&lt;/title&gt;<br>      &lt;style type=&quot;text/css&quot;&gt;<br>         div, span, p &#123;<br>             width: 140px;<br>             height: 140px;<br>             margin: 5px;<br>             background: #aaa;<br>             border: #000 1px solid;<br>             float: left;<br>             font-size: 17px;<br>             font-family: Verdana;<br>         &#125;<br>         <br>         div.mini &#123;<br>             width: 55px;<br>             height: 55px;<br>             background-color: #aaa;<br>             font-size: 12px;<br>         &#125;<br>         <br>         div.hide &#123;<br>             display: none;<br>         &#125;        <br>      &lt;/style&gt;<br>      &lt;script type=&quot;text/javascript&quot; src=&quot;../script/jquery-1.7.2.js&quot;&gt;&lt;/script&gt;<br>      &lt;script type=&quot;text/javascript&quot;&gt;<br>         $(document).ready(function()&#123;<br>            function anmateIt()&#123;<br>               $(&quot;#mover&quot;).slideToggle(&quot;slow&quot;, anmateIt);<br>            &#125;<br>            anmateIt();<br>            <br>   /**<br>               <br>   过滤<br>   eq(index|-index)         <br>   first()                <br>   last()                    <br>   hasClass(class)          <br>   filter(expr|obj|ele|fn)    <br>   is(expr|obj|ele|fn)1.6*    <br>   has(expr|ele)           <br>   not(expr|ele|fn)         <br>   slice(start,[end])           <br>   <br>   查找<br>   children([expr])         <br>   closest(expr,[con]|obj|ele)1.6*   <br>   find(expr|obj|ele)              <br>   next([expr])               <br>   nextall([expr])             <br>   nextUntil([exp|ele][,fil])1.6*     <br>   parent([expr])                 <br>   parents([expr])             <br>   parentsUntil([exp|ele][,fil])1.6*  <br>   prev([expr])               <br>   prevall([expr])             <br>   prevUntil([exp|ele][,fil])1.6*     <br>   siblings([expr])            <br>   <br>   串联<br>   add(expr|ele|html|obj[,con])   <br>                     <br>   <br>   */<br>            <br>            //(1)eq()  选择索引值为等于 3 的 div 元素<br>            $(&quot;#btn1&quot;).click(function()&#123;<br>               $(&quot;div&quot;).eq(3).css(&quot;background-color&quot;,&quot;#bfa&quot;);<br>            &#125;);<br>            //(2)first()选择第一个 div 元素<br>             $(&quot;#btn2&quot;).click(function()&#123;<br>                //first()   选取第一个元素<br>               $(&quot;div&quot;).first().css(&quot;background-color&quot;,&quot;#bfa&quot;);<br>            &#125;);<br>            //(3)last()选择最后一个 div 元素<br>            $(&quot;#btn3&quot;).click(function()&#123;<br>               //last()  选取最后一个元素<br>               $(&quot;div&quot;).last().css(&quot;background-color&quot;,&quot;#bfa&quot;);<br>            &#125;);<br>            //(4)filter()在div中选择索引为偶数的<br>            $(&quot;#btn4&quot;).click(function()&#123;<br>               //filter()  过滤   传入的是选择器字符串<br>               $(&quot;div&quot;).filter(&quot;:even&quot;).css(&quot;background-color&quot;,&quot;#bfa&quot;);<br>            &#125;);<br>             //(5)is()判断#one是否为:empty或:parent<br>            //is用来检测jq对象是否符合指定的选择器<br>            $(&quot;#btn5&quot;).click(function()&#123;<br>               alert( $(&quot;#one&quot;).is(&quot;:empty&quot;) );<br>            &#125;);<br>            <br>            //(6)has()选择div中包含.mini的<br>            $(&quot;#btn6&quot;).click(function()&#123;<br>               //has(selector)  选择器字符串    是否包含selector<br>               $(&quot;div&quot;).has(&quot;.mini&quot;).css(&quot;background-color&quot;,&quot;#bfa&quot;);<br>            &#125;);<br>            //(7)not()选择div中class不为one的<br>            $(&quot;#btn7&quot;).click(function()&#123;<br>               //not(selector)  选择不是selector的元素<br>               $(&quot;div&quot;).not(&#x27;.one&#x27;).css(&quot;background-color&quot;,&quot;#bfa&quot;);<br>            &#125;);<br>            //(8)children()在body中选择所有class为one的div子元素<br>            $(&quot;#btn8&quot;).click(function()&#123;<br>               //children()  选出所有的子元素<br>               $(&quot;body&quot;).children(&quot;div.one&quot;).css(&quot;background-color&quot;,&quot;#bfa&quot;);<br>            &#125;);<br>            <br>            <br>            //(9)find()在body中选择所有class为mini的div元素<br>            $(&quot;#btn9&quot;).click(function()&#123;<br>               //find()  选出所有的后代元素<br>               $(&quot;body&quot;).find(&quot;div.mini&quot;).css(&quot;background-color&quot;,&quot;#bfa&quot;);<br>            &#125;);<br>            //(10)next() #one的下一个div<br>            $(&quot;#btn10&quot;).click(function()&#123;<br>               //next()  选择下一个兄弟元素<br>               $(&quot;#one&quot;).next(&quot;div&quot;).css(&quot;background-color&quot;,&quot;#bfa&quot;);<br>            &#125;);<br>            //(11)nextAll() #one后面所有的span元素<br>            $(&quot;#btn11&quot;).click(function()&#123;<br>               //nextAll()   选出后面所有的元素<br>               $(&quot;#one&quot;).nextAll(&quot;span&quot;).css(&quot;background-color&quot;,&quot;#bfa&quot;);<br>            &#125;);<br>            //(12)nextUntil() #one和span之间的元素，不算两边<br>            $(&quot;#btn12&quot;).click(function()&#123;<br>               //<br>               $(&quot;#one&quot;).nextUntil(&quot;span&quot;).css(&quot;background-color&quot;,&quot;#bfa&quot;)<br>            &#125;);<br>            //(13)parent() .mini的父元素<br>            $(&quot;#btn13&quot;).click(function()&#123;<br>               $(&quot;.mini&quot;).parent().css(&quot;background-color&quot;,&quot;#bfa&quot;);<br>            &#125;);<br>            //(14)prev() #two的上一个div<br>            $(&quot;#btn14&quot;).click(function()&#123;<br>               //prev()  <br>               $(&quot;#two&quot;).prev(&quot;div&quot;).css(&quot;background-color&quot;,&quot;#bfa&quot;)<br>            &#125;);<br>            //(15)prevAll() span前面所有的div<br>            $(&quot;#btn15&quot;).click(function()&#123;<br>               //prevAll()   选出前面所有的元素<br>               $(&quot;span&quot;).prevAll(&quot;div&quot;).css(&quot;background-color&quot;,&quot;#bfa&quot;)<br>            &#125;);<br>            //(16)prevUntil() span向前直到#one的元素，都不算两个边界<br>            $(&quot;#btn16&quot;).click(function()&#123;<br>               //prevUntil(exp)   找到之前所有的兄弟元素直到找到exp停止<br>               $(&quot;span&quot;).prevUntil(&quot;#one&quot;).css(&quot;background-color&quot;,&quot;#bfa&quot;)<br>            &#125;);<br>            //(17)siblings() #two的所有兄弟元素<br>            $(&quot;#btn17&quot;).click(function()&#123;<br>               //siblings()    找到所有的兄弟元素，包括前面的和后面的<br>               $(&quot;#two&quot;).siblings().css(&quot;background-color&quot;,&quot;#bfa&quot;)<br>            &#125;);<br>            <br>            <br>            //(18)add()选择所有的 span 元素和id为two的元素<br>            $(&quot;#btn18&quot;).click(function()&#123;<br>   <br>               //   $(&quot;span,#two,.mini,#one&quot;)<br>               $(&quot;span&quot;).add(&quot;#two&quot;).add(&quot;#one&quot;).css(&quot;background-color&quot;,&quot;#bfa&quot;);<br>               <br>            &#125;);<br>            <br><br><br>         &#125;);<br>         <br>         <br>      &lt;/script&gt;<br>   &lt;/head&gt;<br>   &lt;body&gt;    <br>      &lt;input type=&quot;button&quot; value=&quot;eq()选择索引值为等于 3 的 div 元素&quot; id=&quot;btn1&quot; /&gt;<br>      &lt;input type=&quot;button&quot; value=&quot;first()选择第一个 div 元素&quot; id=&quot;btn2&quot; /&gt;<br>      &lt;input type=&quot;button&quot; value=&quot;last()选择最后一个 div 元素&quot; id=&quot;btn3&quot; /&gt;<br>      &lt;input type=&quot;button&quot; value=&quot;filter()在div中选择索引为偶数的&quot; id=&quot;btn4&quot; /&gt;<br>      &lt;input type=&quot;button&quot; value=&quot;is()判断#one是否为:empty或:parent&quot; id=&quot;btn5&quot; /&gt;<br>      &lt;input type=&quot;button&quot; value=&quot;has()选择div中包含.mini的&quot; id=&quot;btn6&quot; /&gt;<br>      &lt;input type=&quot;button&quot; value=&quot;not()选择div中class不为one的&quot; id=&quot;btn7&quot; /&gt;<br>      &lt;input type=&quot;button&quot; value=&quot;children()在body中选择所有class为one的div子元素&quot; id=&quot;btn8&quot; /&gt;<br>      &lt;input type=&quot;button&quot; value=&quot;find()在body中选择所有class为mini的div后代元素&quot; id=&quot;btn9&quot; /&gt;<br>      &lt;input type=&quot;button&quot; value=&quot;next()#one的下一个div&quot; id=&quot;btn10&quot; /&gt;<br>      &lt;input type=&quot;button&quot; value=&quot;nextAll()#one后面所有的span元素&quot; id=&quot;btn11&quot; /&gt;<br>      &lt;input type=&quot;button&quot; value=&quot;nextUntil()#one和span之间的元素&quot; id=&quot;btn12&quot; /&gt;<br>      &lt;input type=&quot;button&quot; value=&quot;parent().mini的父元素&quot; id=&quot;btn13&quot; /&gt;<br>      &lt;input type=&quot;button&quot; value=&quot;prev()#two的上一个div&quot; id=&quot;btn14&quot; /&gt;<br>      &lt;input type=&quot;button&quot; value=&quot;prevAll()span前面所有的div&quot; id=&quot;btn15&quot; /&gt;<br>      &lt;input type=&quot;button&quot; value=&quot;prevUntil()span向前直到#one的元素&quot; id=&quot;btn16&quot; /&gt;<br>      &lt;input type=&quot;button&quot; value=&quot;siblings()#two的所有兄弟元素&quot; id=&quot;btn17&quot; /&gt;<br>      &lt;input type=&quot;button&quot; value=&quot;add()选择所有的 span 元素和id为two的元素&quot; id=&quot;btn18&quot; /&gt;<br><br>      <br>      &lt;h3&gt;基本选择器.&lt;/h3&gt;<br>      &lt;br /&gt;&lt;br /&gt;<br>      文本框&lt;input type=&quot;text&quot; name=&quot;account&quot; disabled=&quot;disabled&quot; /&gt;<br>      &lt;br&gt;&lt;br&gt;<br>      &lt;div class=&quot;one&quot; id=&quot;one&quot;&gt;<br>         id 为 one,class 为 one 的div<br>         &lt;div class=&quot;mini&quot;&gt;class为mini&lt;/div&gt;<br>      &lt;/div&gt;<br>      &lt;div class=&quot;one&quot; id=&quot;two&quot; title=&quot;test&quot;&gt;<br>         id为two,class为one,title为test的div<br>         &lt;div class=&quot;mini&quot; title=&quot;other&quot;&gt;&lt;b&gt;class为mini,title为other&lt;/b&gt;&lt;/div&gt;<br>         &lt;div class=&quot;mini&quot; title=&quot;test&quot;&gt;class为mini,title为test&lt;/div&gt;<br>      &lt;/div&gt;<br>      <br>      &lt;div class=&quot;one&quot;&gt;<br>         &lt;div class=&quot;mini&quot;&gt;class为mini&lt;/div&gt;<br>         &lt;div class=&quot;mini&quot;&gt;class为mini&lt;/div&gt;<br>         &lt;div class=&quot;mini&quot;&gt;class为mini&lt;/div&gt;<br>         &lt;div class=&quot;mini&quot;&gt;&lt;/div&gt;<br>      &lt;/div&gt;<br>      &lt;div class=&quot;one&quot;&gt;<br>         &lt;div class=&quot;mini&quot;&gt;class为mini&lt;/div&gt;<br>         &lt;div class=&quot;mini&quot;&gt;class为mini&lt;/div&gt;<br>         &lt;div class=&quot;mini&quot;&gt;class为mini&lt;/div&gt;<br>         &lt;div class=&quot;mini&quot; title=&quot;tesst&quot;&gt;class为mini,title为tesst&lt;/div&gt;<br>      &lt;/div&gt;<br>      &lt;div style=&quot;display:none;&quot; class=&quot;none&quot;&gt;style的display为&quot;none&quot;的div&lt;/div&gt;<br>      &lt;div class=&quot;hide&quot;&gt;class为&quot;hide&quot;的div&lt;/div&gt;<br>      &lt;span id=&quot;span1&quot;&gt;^^span元素 111^^&lt;/span&gt;<br>      &lt;div&gt;<br>         包含input的type为&quot;hidden&quot;的div&lt;input type=&quot;hidden&quot; size=&quot;8&quot;&gt;<br>      &lt;/div&gt;<br>      &lt;span id=&quot;span2&quot;&gt;^^span元素 222^^&lt;/span&gt;<br>      &lt;div id=&quot;mover&quot;&gt;正在执行动画的div元素.&lt;/div&gt;<br>   &lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>

<h4 id="jQuery属性操作"><a href="#jQuery属性操作" class="headerlink" title="jQuery属性操作"></a>jQuery属性操作</h4><p>html()    它可以设置和获取起始标签和结束标签中的内容，根dom属性innerHTML一样</p>
<p>不传参数是获取，传入参数是设置</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;!<span class="hljs-variable constant_">DOCTYPE</span> html&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;zh_CN&quot;</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;script/jquery-1.7.2.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml">$(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-title function_">alert</span>($(<span class="hljs-string">&quot;div&quot;</span>).<span class="hljs-title function_">html</span>());<span class="hljs-comment">//获取</span></span></span><br><span class="language-javascript"><span class="language-xml">     $(<span class="hljs-string">&quot;div&quot;</span>).<span class="hljs-title function_">html</span>(<span class="hljs-string">&quot;&lt;h1&gt;我是赵梓皓&lt;/h1&gt;&quot;</span>);<span class="hljs-comment">//设置</span></span></span><br><span class="language-javascript"><span class="language-xml">&#125;);</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>我是div标签<span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>我是div中的spqn<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></span><br></code></pre></td></tr></table></figure>

<p>text()      它可以设置和获取起始标签和结束标签中的文本，根dom属性innerText一样</p>
<p>不传参数是获取，传入参数是设置</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;!<span class="hljs-variable constant_">DOCTYPE</span> html&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;zh_CN&quot;</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;script/jquery-1.7.2.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml">$(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-title function_">alert</span>($(<span class="hljs-string">&quot;div&quot;</span>).<span class="hljs-title function_">text</span>());</span></span><br><span class="language-javascript"><span class="language-xml">  $(<span class="hljs-string">&quot;div&quot;</span>).<span class="hljs-title function_">text</span>(<span class="hljs-string">&quot;&lt;h1&gt;我是赵梓皓&lt;/h1&gt;&quot;</span>);</span></span><br><span class="language-javascript"><span class="language-xml">&#125;);</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>我是div标签<span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>我是div中的spqn<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></span><br></code></pre></td></tr></table></figure>

<p>text()方法只能让内容全部以文本形式显示，不能识别标签，但html标签可以</p>
<p>val()   它可以设置和获取<strong>表单项</strong>的value属性值              跟dom属性value一样</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;!<span class="hljs-variable constant_">DOCTYPE</span> html&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;zh_CN&quot;</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;script/jquery-1.7.2.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml">    $(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span></span><br><span class="language-javascript"><span class="language-xml">$(<span class="hljs-string">&quot;button&quot;</span>).<span class="hljs-title function_">click</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-title function_">alert</span>($(<span class="hljs-string">&quot;#username&quot;</span>).<span class="hljs-title function_">val</span>());</span></span><br><span class="language-javascript"><span class="language-xml">&#125;);</span></span><br><span class="language-javascript"><span class="language-xml">$(<span class="hljs-string">&quot;#username&quot;</span>).<span class="hljs-title function_">val</span>(<span class="hljs-string">&quot;超级程序员&quot;</span>);</span></span><br><span class="language-javascript"><span class="language-xml">&#125;);</span></span><br><span class="language-javascript"><span class="language-xml">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>我是div标签<span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>我是div中的spqn<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;username&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;username&quot;</span> /&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span>&gt;</span>操作输入框<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></span><br></code></pre></td></tr></table></figure>



<p>表单选择器练习</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;!<span class="hljs-variable constant_">DOCTYPE</span> html&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;zh_CN&quot;</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;script/jquery-1.7.2.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml">$(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-comment">/*</span></span></span><br><span class="hljs-comment"><span class="language-javascript"><span class="language-xml">// 批量操作单选</span></span></span><br><span class="hljs-comment"><span class="language-javascript"><span class="language-xml">$(&quot;:radio&quot;).val([&quot;radio2&quot;]);</span></span></span><br><span class="hljs-comment"><span class="language-javascript"><span class="language-xml">// 批量操作筛选框的选中状态</span></span></span><br><span class="hljs-comment"><span class="language-javascript"><span class="language-xml">$(&quot;:checkbox&quot;).val([&quot;checkbox3&quot;,&quot;checkbox2&quot;]);</span></span></span><br><span class="hljs-comment"><span class="language-javascript"><span class="language-xml">// 批量操作多选的下拉框选中状态</span></span></span><br><span class="hljs-comment"><span class="language-javascript"><span class="language-xml">$(&quot;#multiple&quot;).val([&quot;mul2&quot;,&quot;mul3&quot;,&quot;mul4&quot;]);</span></span></span><br><span class="hljs-comment"><span class="language-javascript"><span class="language-xml">// 操作单选的下拉框选中状态</span></span></span><br><span class="hljs-comment"><span class="language-javascript"><span class="language-xml">$(&quot;#single&quot;).val([&quot;sin2&quot;]);</span></span></span><br><span class="hljs-comment"><span class="language-javascript"><span class="language-xml">*/</span></span></span><br><span class="language-javascript"><span class="language-xml">$(<span class="hljs-string">&quot;#multiple,#single,:radio,:checkbox&quot;</span>).<span class="hljs-title function_">val</span>([<span class="hljs-string">&quot;radio2&quot;</span>,<span class="hljs-string">&quot;checkbox1&quot;</span>,<span class="hljs-string">&quot;checkbox3&quot;</span>,<span class="hljs-string">&quot;mul1&quot;</span>,<span class="hljs-string">&quot;mul4&quot;</span>,<span class="hljs-string">&quot;sin3&quot;</span>]</span></span><br><span class="language-javascript"><span class="language-xml">);</span></span><br><span class="language-javascript"><span class="language-xml">&#125;);</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span></span><br><span class="language-xml">单选：</span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;radio&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;radio&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;radio1&quot;</span> /&gt;</span>radio1</span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;radio&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;radio&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;radio2&quot;</span> /&gt;</span>radio2</span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span></span><br><span class="language-xml">多选：</span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;checkbox1&quot;</span> /&gt;</span>checkbox1</span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;checkbox2&quot;</span> /&gt;</span>checkbox2</span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;checkbox3&quot;</span> /&gt;</span>checkbox3</span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span></span><br><span class="language-xml">下拉多选 ：</span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;multiple&quot;</span> <span class="hljs-attr">multiple</span>=<span class="hljs-string">&quot;multiple&quot;</span> <span class="hljs-attr">size</span>=<span class="hljs-string">&quot;4&quot;</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;mul1&quot;</span>&gt;</span>mul1<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;mul2&quot;</span>&gt;</span>mul2<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;mul3&quot;</span>&gt;</span>mul3<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;mul4&quot;</span>&gt;</span>mul4<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span></span><br><span class="language-xml">下拉单选 ：</span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;single&quot;</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;sin1&quot;</span>&gt;</span>sin1<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;sin2&quot;</span>&gt;</span>sin2<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;sin3&quot;</span>&gt;</span>sin3<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></span><br></code></pre></td></tr></table></figure>



<p>attr()             可以设置和获取属性的值，不推荐操作checked，readOnly，selected，disabled等等</p>
<p>还不可以操作非标准的属性，比如自定义属性：abc什么的</p>
<p>prop()           可以设置和获取属性的值，只推荐操作上面不操作的</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;!<span class="hljs-variable constant_">DOCTYPE</span> html&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;zh_CN&quot;</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../script/jquery-1.7.2.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml">$(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-comment">//attr</span></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-title function_">alert</span>($(<span class="hljs-string">&quot;:checkbox:first&quot;</span>).<span class="hljs-title function_">attr</span>(<span class="hljs-string">&quot;name&quot;</span>));<span class="hljs-comment">//获取属性的值</span></span></span><br><span class="language-javascript"><span class="language-xml">$(<span class="hljs-string">&quot;:checkbox:first&quot;</span>).<span class="hljs-title function_">attr</span>(<span class="hljs-string">&quot;name&quot;</span>,<span class="hljs-string">&quot;abc&quot;</span>);</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-title function_">alert</span>($(<span class="hljs-string">&quot;:checkbox:first&quot;</span>).<span class="hljs-title function_">attr</span>(<span class="hljs-string">&quot;checked&quot;</span>));<span class="hljs-comment">//会返回undefined，但是这个时候没办法判断是没被选还是没有这个属性，所以用到prop()</span></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-title function_">alert</span>($(<span class="hljs-string">&quot;:checkbox:first&quot;</span>).<span class="hljs-title function_">prop</span>(<span class="hljs-string">&quot;checked&quot;</span>));<span class="hljs-comment">//返回的是false</span></span></span><br><span class="language-javascript"><span class="language-xml">$(<span class="hljs-string">&quot;:checkbox&quot;</span>).<span class="hljs-title function_">prop</span>(<span class="hljs-string">&quot;checked&quot;</span>,<span class="hljs-literal">true</span>);<span class="hljs-comment">//让所有多选框都选中</span></span></span><br><span class="language-javascript"><span class="language-xml">$(<span class="hljs-string">&quot;:checkbox:first&quot;</span>).<span class="hljs-title function_">attr</span>(<span class="hljs-string">&quot;abc&quot;</span>,<span class="hljs-string">&quot;abcvalue&quot;</span>);<span class="hljs-comment">//设置自定义属性</span></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-title function_">alert</span>($(<span class="hljs-string">&quot;:checkbox:first&quot;</span>).<span class="hljs-title function_">attr</span>(<span class="hljs-string">&quot;abc&quot;</span>));<span class="hljs-comment">//查看自定义属性</span></span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-comment">//</span></span></span><br><span class="language-javascript"><span class="language-xml">&#125;);</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span></span><br><span class="language-xml">单选：</span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;radio&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;radio&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;radio1&quot;</span> /&gt;</span>radio1</span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;radio&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;radio&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;radio2&quot;</span> /&gt;</span>radio2</span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span></span><br><span class="language-xml">多选：</span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;checkbox1&quot;</span> /&gt;</span>checkbox1</span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;checkbox2&quot;</span> /&gt;</span>checkbox2</span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;checkbox3&quot;</span> /&gt;</span>checkbox3</span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span></span><br><span class="language-xml">下拉多选 ：</span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;multiple&quot;</span> <span class="hljs-attr">multiple</span>=<span class="hljs-string">&quot;multiple&quot;</span> <span class="hljs-attr">size</span>=<span class="hljs-string">&quot;4&quot;</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;mul1&quot;</span>&gt;</span>mul1<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;mul2&quot;</span>&gt;</span>mul2<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;mul3&quot;</span>&gt;</span>mul3<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;mul4&quot;</span>&gt;</span>mul4<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span></span><br><span class="language-xml">下拉单选 ：</span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;single&quot;</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;sin1&quot;</span>&gt;</span>sin1<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;sin2&quot;</span>&gt;</span>sin2<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;sin3&quot;</span>&gt;</span>sin3<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></span><br></code></pre></td></tr></table></figure>







<h4 id="jQuery练习（全选全不选）"><a href="#jQuery练习（全选全不选）" class="headerlink" title="jQuery练习（全选全不选）"></a>jQuery练习（全选全不选）</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;!<span class="hljs-variable constant_">DOCTYPE</span> html <span class="hljs-variable constant_">PUBLIC</span> <span class="hljs-string">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span> <span class="hljs-string">&quot;http://www.w3.org/TR/html4/loose.dtd&quot;</span>&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;Content-Type&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;text/html; charset=UTF-8&quot;</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Insert title here<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../../script/jquery-1.7.2.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml">   </span></span><br><span class="language-javascript"><span class="language-xml">   $(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span></span><br><span class="language-javascript"><span class="language-xml">   <span class="hljs-comment">//给全选绑定单击事件</span></span></span><br><span class="language-javascript"><span class="language-xml">      $(<span class="hljs-string">&quot;#checkedAllBtn&quot;</span>).<span class="hljs-title function_">click</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span></span><br><span class="language-javascript"><span class="language-xml">                $(<span class="hljs-string">&quot;:checkbox&quot;</span>).<span class="hljs-title function_">prop</span>(<span class="hljs-string">&quot;checked&quot;</span>,<span class="hljs-literal">true</span>);<span class="hljs-comment">//这个地方checked的属性值是true，且属性名checked也要加双引号</span></span></span><br><span class="language-javascript"><span class="language-xml">      &#125;);</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-comment">//给全不选绑定单击事件</span></span></span><br><span class="language-javascript"><span class="language-xml">      $(<span class="hljs-string">&quot;#checkedNoBtn&quot;</span>).<span class="hljs-title function_">click</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span></span><br><span class="language-javascript"><span class="language-xml">      $(<span class="hljs-string">&quot;:checkbox&quot;</span>).<span class="hljs-title function_">prop</span>(<span class="hljs-string">&quot;checked&quot;</span>,<span class="hljs-literal">false</span>);</span></span><br><span class="language-javascript"><span class="language-xml">      &#125;);</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-comment">//给反选绑定单击事件</span></span></span><br><span class="language-javascript"><span class="language-xml">      $(<span class="hljs-string">&quot;#checkedRevBtn&quot;</span>).<span class="hljs-title function_">click</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-comment">//查询全部球类的复选框</span></span></span><br><span class="language-javascript"><span class="language-xml">      $(<span class="hljs-string">&quot;:checkbox[name=&#x27;items&#x27;]&quot;</span>).<span class="hljs-title function_">each</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-comment">//each方法中这个this就是每一个dom对象，也就是jQuery数组中的一个元素</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-variable language_">this</span>.<span class="hljs-property">checked</span>=!<span class="hljs-variable language_">this</span>.<span class="hljs-property">checked</span>;</span></span><br><span class="language-javascript"><span class="language-xml">      &#125;);</span></span><br><span class="language-javascript"><span class="language-xml">       <span class="hljs-comment">//要检查是否满选</span></span></span><br><span class="language-javascript"><span class="language-xml">       <span class="hljs-comment">//获取球类运动总数</span></span></span><br><span class="language-javascript"><span class="language-xml">       <span class="hljs-keyword">var</span> length=$(<span class="hljs-string">&quot;:checkbox[name=&#x27;items&#x27;]&quot;</span>).<span class="hljs-property">length</span>;</span></span><br><span class="language-javascript"><span class="language-xml">       <span class="hljs-comment">//获取被选中的球类运动总数</span></span></span><br><span class="language-javascript"><span class="language-xml">       <span class="hljs-keyword">var</span> length2=$(<span class="hljs-string">&quot;:checkbox[name=&#x27;items&#x27;]:checked&quot;</span>).<span class="hljs-property">length</span>;</span></span><br><span class="language-javascript"><span class="language-xml">       <span class="hljs-comment">//比较,两种</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-comment">/* if(length==length2)&#123;</span></span></span><br><span class="hljs-comment"><span class="language-javascript"><span class="language-xml">       $(&quot;#checkedAllBox&quot;).prop(&quot;checked&quot;,true);</span></span></span><br><span class="hljs-comment"><span class="language-javascript"><span class="language-xml">        &#125;*/</span></span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">        $(<span class="hljs-string">&quot;#checkedAllBox&quot;</span>).<span class="hljs-title function_">prop</span>(<span class="hljs-string">&quot;checked&quot;</span>,length==length2);</span></span><br><span class="language-javascript"><span class="language-xml">      &#125;);</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-comment">//给提交按钮绑定事件</span></span></span><br><span class="language-javascript"><span class="language-xml">      $(<span class="hljs-string">&quot;#sendBtn&quot;</span>).<span class="hljs-title function_">click</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span></span><br><span class="language-javascript"><span class="language-xml">      $(<span class="hljs-string">&quot;:checkbox[name=&#x27;items&#x27;]:checked&quot;</span>).<span class="hljs-title function_">each</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-title function_">alert</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span>);</span></span><br><span class="language-javascript"><span class="language-xml">      &#125;);</span></span><br><span class="language-javascript"><span class="language-xml">      &#125;);</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-comment">//给全选或者全不选那个框框榜单机事件</span></span></span><br><span class="language-javascript"><span class="language-xml">$(<span class="hljs-string">&quot;#checkedAllBox&quot;</span>).<span class="hljs-title function_">click</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-comment">//再事件的function函数中，有一个this对象，这个this对象是当前正在响应事件的dom对象</span></span></span><br><span class="language-javascript"><span class="language-xml">$(<span class="hljs-string">&quot;:checkbox[name=&#x27;items&#x27;]&quot;</span>).<span class="hljs-title function_">prop</span>(<span class="hljs-string">&quot;checked&quot;</span>,<span class="hljs-variable language_">this</span>.<span class="hljs-property">checked</span>);</span></span><br><span class="language-javascript"><span class="language-xml">&#125;);</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-comment">//给全部球类绑定单击事件,让所有框被选上之后也可以让全选框被选</span></span></span><br><span class="language-javascript"><span class="language-xml">$(<span class="hljs-string">&quot;[name=items]&quot;</span>).<span class="hljs-title function_">click</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-keyword">var</span> length=$(<span class="hljs-string">&quot;:checkbox[name=&#x27;items&#x27;]&quot;</span>).<span class="hljs-property">length</span>;</span></span><br><span class="language-javascript"><span class="language-xml">       <span class="hljs-comment">//获取被选中的球类运动总数</span></span></span><br><span class="language-javascript"><span class="language-xml">       <span class="hljs-keyword">var</span> length2=$(<span class="hljs-string">&quot;:checkbox[name=&#x27;items&#x27;]:checked&quot;</span>).<span class="hljs-property">length</span>;</span></span><br><span class="language-javascript"><span class="language-xml">        $(<span class="hljs-string">&quot;#checkedAllBox&quot;</span>).<span class="hljs-title function_">prop</span>(<span class="hljs-string">&quot;checked&quot;</span>,length==length2);</span></span><br><span class="language-javascript"><span class="language-xml">      &#125;);</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">   &#125;);</span></span><br><span class="language-javascript"><span class="language-xml">   </span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml">   <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;post&quot;</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span></span><br><span class="language-xml">   </span><br><span class="language-xml">      你爱好的运动是？<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;checkedAllBox&quot;</span> /&gt;</span>全选/全不选 </span><br><span class="language-xml">      </span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;items&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;足球&quot;</span> /&gt;</span>足球</span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;items&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;篮球&quot;</span> /&gt;</span>篮球</span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;items&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;羽毛球&quot;</span> /&gt;</span>羽毛球</span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;items&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;乒乓球&quot;</span> /&gt;</span>乒乓球</span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;button&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;checkedAllBtn&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;全　选&quot;</span> /&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;button&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;checkedNoBtn&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;全不选&quot;</span> /&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;button&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;checkedRevBtn&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;反　选&quot;</span> /&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;button&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;sendBtn&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;提　交&quot;</span> /&gt;</span></span><br><span class="language-xml">   <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></span><br></code></pre></td></tr></table></figure>

<h4 id="jQuery-对标签的增删改"><a href="#jQuery-对标签的增删改" class="headerlink" title="jQuery  对标签的增删改"></a>jQuery  对标签的增删改</h4><p>内部插入</p>
<p>用jQuery对象的方法来操作标签的增删改</p>
<p>appendTo         a.appendTo(b)           把a插入到b子元素末尾，成为最后一个子元素</p>
<p>prependTo()        a.prependTo(b)        把a插入到b所有子元素之前，成为第一个子元素</p>
<p>外部插入</p>
<p>insertAfter()          a.insertAfter(b)        得到ba</p>
<p>insertBefore()       a.insertBefore(b)      得到ab</p>
<p>替换</p>
<p>replaceWith()      a.replaceWith(b)          用b替换掉a</p>
<p>replaceAll()              a.replaceAll(b)        用a替换掉所有b</p>
<p>删除</p>
<p>remove()            a.remove();             删除a标签</p>
<p>empty()           a.empty();               清空标签里的内容</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;zh_CN&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;script/jquery-1.7.2.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-handlebars"><span class="language-xml"></span></span><br><span class="language-xml"><span class="language-handlebars">//$(&quot;<span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>标题<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>&quot;).appendTo(&quot;div&quot;);</span></span><br><span class="language-xml"><span class="language-handlebars">//$(&quot;<span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>标题<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>&quot;).prependTo(&quot;div&quot;);</span></span><br><span class="language-xml"><span class="language-handlebars">//$(&quot;<span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>标题<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>&quot;).insertAfter(&quot;div&quot;);</span></span><br><span class="language-xml"><span class="language-handlebars">//$(&quot;<span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>标题<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>&quot;).insertBefore($(&quot;div&quot;));</span></span><br><span class="language-xml"><span class="language-handlebars">//$(&quot;<span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>标题<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>&quot;).replaceWith(&quot;div&quot;);</span></span><br><span class="language-xml"><span class="language-handlebars">//$(&quot;div&quot;).replaceWith(&quot;<span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>标题<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>&quot;);</span></span><br><span class="language-xml"><span class="language-handlebars">//$(&quot;<span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>标题<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>&quot;).replaceAll&quot;div&quot;);</span></span><br><span class="language-xml"><span class="language-handlebars">//$(&quot;div&quot;).remove();</span></span><br><span class="language-xml"><span class="language-handlebars">//$(&quot;div&quot;).empty();</span></span><br><span class="language-xml"><span class="language-handlebars">    </span></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>1234<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h4 id="jQuery练习"><a href="#jQuery练习" class="headerlink" title="jQuery练习"></a>jQuery练习</h4><p>从左到右从右到左</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;!<span class="hljs-variable constant_">DOCTYPE</span> html <span class="hljs-variable constant_">PUBLIC</span> <span class="hljs-string">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span> <span class="hljs-string">&quot;http://www.w3.org/TR/html4/loose.dtd&quot;</span>&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;Content-Type&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;text/html; charset=UTF-8&quot;</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Insert title here<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span></span><br><span class="language-xml">   <span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/css&quot;</span>&gt;</span><span class="language-css"></span></span><br><span class="language-css"><span class="language-xml">      select &#123;</span></span><br><span class="language-css"><span class="language-xml">         <span class="hljs-attribute">width</span>: <span class="hljs-number">100px</span>;</span></span><br><span class="language-css"><span class="language-xml">         <span class="hljs-attribute">height</span>: <span class="hljs-number">140px</span>;</span></span><br><span class="language-css"><span class="language-xml">      &#125;</span></span><br><span class="language-css"><span class="language-xml">      </span></span><br><span class="language-css"><span class="language-xml">      <span class="hljs-selector-tag">div</span> &#123;</span></span><br><span class="language-css"><span class="language-xml">         <span class="hljs-attribute">width</span>: <span class="hljs-number">130px</span>;</span></span><br><span class="language-css"><span class="language-xml">         <span class="hljs-attribute">float</span>: left;</span></span><br><span class="language-css"><span class="language-xml">         <span class="hljs-attribute">text-align</span>: center;</span></span><br><span class="language-css"><span class="language-xml">      &#125;</span></span><br><span class="language-css"><span class="language-xml">   </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span><br><span class="language-xml">   <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;script/jquery-1.7.2.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml">   <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-comment">//实现左边的可以添加到右边</span></span></span><br><span class="language-javascript"><span class="language-xml">      $(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span></span><br><span class="language-javascript"><span class="language-xml">      $(<span class="hljs-string">&quot;button:first&quot;</span>).<span class="hljs-title function_">click</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-comment">//这个就是叫先找标签select的第一个然后找他后代的所有option中被选中的</span></span></span><br><span class="language-javascript"><span class="language-xml">      $(<span class="hljs-string">&quot;select:eq(0) option:selected&quot;</span>).<span class="hljs-title function_">appendTo</span>($(<span class="hljs-string">&quot;select:eq(1)&quot;</span>));</span></span><br><span class="language-javascript"><span class="language-xml">      &#125;);</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-comment">//实现将左边的全部添加到右边</span></span></span><br><span class="language-javascript"><span class="language-xml">      $(<span class="hljs-string">&quot;button:eq(1)&quot;</span>).<span class="hljs-title function_">click</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span></span><br><span class="language-javascript"><span class="language-xml">      $(<span class="hljs-string">&quot;select:eq(0) option&quot;</span>).<span class="hljs-title function_">appendTo</span>($(<span class="hljs-string">&quot;select:eq(1)&quot;</span>));</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">      &#125;);</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-comment">//将右边的添加到左边</span></span></span><br><span class="language-javascript"><span class="language-xml">         $(<span class="hljs-string">&quot;button:eq(2)&quot;</span>).<span class="hljs-title function_">click</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-comment">//这个就是叫先找标签select的第一个然后找他后代的所有option中被选中的</span></span></span><br><span class="language-javascript"><span class="language-xml">      $(<span class="hljs-string">&quot;select:eq(1) option:selected&quot;</span>).<span class="hljs-title function_">appendTo</span>($(<span class="hljs-string">&quot;select:eq(0)&quot;</span>));</span></span><br><span class="language-javascript"><span class="language-xml">      &#125;);</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-comment">//将右边的全部添加到左边</span></span></span><br><span class="language-javascript"><span class="language-xml">      $(<span class="hljs-string">&quot;button:eq(3)&quot;</span>).<span class="hljs-title function_">click</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span></span><br><span class="language-javascript"><span class="language-xml">      $(<span class="hljs-string">&quot;select:eq(1) option&quot;</span>).<span class="hljs-title function_">appendTo</span>($(<span class="hljs-string">&quot;select:eq(0)&quot;</span>));</span></span><br><span class="language-javascript"><span class="language-xml">      &#125;);</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">            &#125;);</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">      </span></span><br><span class="language-javascript"><span class="language-xml">   </span></span><br><span class="language-javascript"><span class="language-xml">   </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml">   <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;left&quot;</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">multiple</span>=<span class="hljs-string">&quot;multiple&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;sel01&quot;</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;opt01&quot;</span>&gt;</span>选项1<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;opt02&quot;</span>&gt;</span>选项2<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;opt03&quot;</span>&gt;</span>选项3<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;opt04&quot;</span>&gt;</span>选项4<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;opt05&quot;</span>&gt;</span>选项5<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;opt06&quot;</span>&gt;</span>选项6<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;opt07&quot;</span>&gt;</span>选项7<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;opt08&quot;</span>&gt;</span>选项8<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span></span><br><span class="language-xml">      </span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">button</span>&gt;</span>选中添加到右边<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">button</span>&gt;</span>全部添加到右边<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">   <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">   <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;rigth&quot;</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">multiple</span>=<span class="hljs-string">&quot;multiple&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;sel02&quot;</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">button</span>&gt;</span>选中删除到左边<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">button</span>&gt;</span>全部删除到左边<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">   <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></span><br></code></pre></td></tr></table></figure>

<h4 id="jQuery练习，删除添加记录"><a href="#jQuery练习，删除添加记录" class="headerlink" title="jQuery练习，删除添加记录"></a>jQuery练习，删除添加记录</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;!<span class="hljs-variable constant_">DOCTYPE</span> <span class="hljs-variable constant_">HTML</span> <span class="hljs-variable constant_">PUBLIC</span> <span class="hljs-string">&quot;-//W3C//DTD HTML 4.01//EN&quot;</span> <span class="hljs-string">&quot;http://www.w3.org/TR/html4/strict.dtd&quot;</span>&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;Content-Type&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;text/html; charset=UTF-8&quot;</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Untitled Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;stylesheet&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/css&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;styleB/css.css&quot;</span> /&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../../script/jquery-1.7.2.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">   $(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span></span><br><span class="language-javascript"><span class="language-xml">   $(<span class="hljs-string">&quot;#addEmpButton&quot;</span>).<span class="hljs-title function_">click</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span></span><br><span class="language-javascript"><span class="language-xml">   <span class="hljs-comment">//获取输入框的内容</span></span></span><br><span class="language-javascript"><span class="language-xml">   <span class="hljs-keyword">var</span> name=$(<span class="hljs-string">&quot;#empName&quot;</span>).<span class="hljs-title function_">val</span>();</span></span><br><span class="language-javascript"><span class="language-xml">   <span class="hljs-keyword">var</span> email=$(<span class="hljs-string">&quot;#email&quot;</span>).<span class="hljs-title function_">val</span>();</span></span><br><span class="language-javascript"><span class="language-xml">   <span class="hljs-keyword">var</span> salary=$(<span class="hljs-string">&quot;#salary&quot;</span>).<span class="hljs-title function_">val</span>();</span></span><br><span class="language-javascript"><span class="language-xml">   <span class="hljs-comment">//创建一个行标签对象，添加到显示数据的表格中</span></span></span><br><span class="language-javascript"><span class="language-xml">   <span class="hljs-keyword">var</span> $tobr=$(<span class="hljs-string">&quot;&lt;tr&gt;&quot;</span>+</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-string">&quot;&lt;td&gt;&quot;</span>+name+<span class="hljs-string">&quot;&lt;/td&gt;&quot;</span>+</span></span><br><span class="language-javascript"><span class="language-xml">         <span class="hljs-string">&quot;&lt;td&gt;&quot;</span>+email+<span class="hljs-string">&quot;&lt;/td&gt;&quot;</span>+</span></span><br><span class="language-javascript"><span class="language-xml">         <span class="hljs-string">&quot;&lt;td&gt;&quot;</span>+salary+<span class="hljs-string">&quot;&lt;/td&gt;&quot;</span>+</span></span><br><span class="language-javascript"><span class="language-xml">         <span class="hljs-string">&quot;&lt;td&gt;&lt;a href=\&quot;deleteEmp?id=002\&quot;&gt;Delete&lt;/a&gt;&lt;/td&gt;&quot;</span>+</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-string">&quot;&lt;/tr&gt;&quot;</span>);</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-comment">//添加到显示数据的表格中</span></span></span><br><span class="language-javascript"><span class="language-xml">         $tobr.<span class="hljs-title function_">appendTo</span>($(<span class="hljs-string">&quot;#employeeTable&quot;</span>));</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">       <span class="hljs-comment">//这里是每次添加新的信息之后，给他绑定删除事件，防止新添加的这些无法删除</span></span></span><br><span class="language-javascript"><span class="language-xml">      $tobr.<span class="hljs-title function_">find</span>(<span class="hljs-string">&quot;a&quot;</span>).<span class="hljs-title function_">click</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-comment">//在事件响应function的时候会有一个this对象，这个this对象是当前正在响应事件的dom对象</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-comment">//得到a标签对象的父亲的父亲</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-keyword">var</span> $tbr=$(<span class="hljs-variable language_">this</span>).<span class="hljs-title function_">parent</span>().<span class="hljs-title function_">parent</span>();</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-comment">//获取第一个td标签的内容</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-keyword">var</span> name=$tbr.<span class="hljs-title function_">find</span>(<span class="hljs-string">&quot;td:first&quot;</span>).<span class="hljs-title function_">text</span>();</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-comment">//confirm是js提供的一个确认提示框，你给他传什么它就提示什么，用户点击确定就返回true，点击取消就返回false</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-keyword">if</span>(<span class="hljs-title function_">confirm</span>(<span class="hljs-string">&quot;你确定要删除&quot;</span>+name+<span class="hljs-string">&quot;么&quot;</span>))&#123;</span></span><br><span class="language-javascript"><span class="language-xml">      $tbr.<span class="hljs-title function_">remove</span>();</span></span><br><span class="language-javascript"><span class="language-xml">      &#125;</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-comment">//return false; 可以阻止，元素的默认行为</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<span class="hljs-comment">//可以点击标签时不跳转</span></span></span><br><span class="language-javascript"><span class="language-xml">      &#125;);</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">   &#125;);</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-comment">//给删除a标签绑定单机事件</span></span></span><br><span class="language-javascript"><span class="language-xml">      $(<span class="hljs-string">&quot;a&quot;</span>).<span class="hljs-title function_">click</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-comment">//在事件响应function的时候会有一个this对象，这个this对象是当前正在响应事件的dom对象</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-comment">//得到a标签对象的父亲的父亲</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-keyword">var</span> $tbr=$(<span class="hljs-variable language_">this</span>).<span class="hljs-title function_">parent</span>().<span class="hljs-title function_">parent</span>();</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-comment">//获取第一个td标签的内容</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-keyword">var</span> name=$tbr.<span class="hljs-title function_">find</span>(<span class="hljs-string">&quot;td:first&quot;</span>).<span class="hljs-title function_">text</span>();</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-comment">//confirm是js提供的一个确认提示框，你给他传什么它就提示什么，用户点击确定就返回true，点击取消就返回false</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-keyword">if</span>(<span class="hljs-title function_">confirm</span>(<span class="hljs-string">&quot;你确定要删除&quot;</span>+name+<span class="hljs-string">&quot;么&quot;</span>))&#123;</span></span><br><span class="language-javascript"><span class="language-xml">      $tbr.<span class="hljs-title function_">remove</span>();</span></span><br><span class="language-javascript"><span class="language-xml">      &#125;</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-comment">//return false; 可以阻止，元素的默认行为</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<span class="hljs-comment">//可以点击标签时不跳转</span></span></span><br><span class="language-javascript"><span class="language-xml">      &#125;);</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">   &#125;);</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">   </span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml">   <span class="hljs-tag">&lt;<span class="hljs-name">table</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;employeeTable&quot;</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>Name<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>Email<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>Salary<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span><span class="hljs-symbol">&amp;nbsp;</span><span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>Tom<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>tom@tom.com<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>5000<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;deleteEmp?id=001&quot;</span>&gt;</span>Delete<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>Jerry<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>jerry@sohu.com<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>8000<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;deleteEmp?id=002&quot;</span>&gt;</span>Delete<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>Bob<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>bob@tom.com<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>10000<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;deleteEmp?id=003&quot;</span>&gt;</span>Delete<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span></span><br><span class="language-xml">   <span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml">   <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;formDiv&quot;</span>&gt;</span></span><br><span class="language-xml">   </span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">h4</span>&gt;</span>添加新员工<span class="hljs-tag">&lt;/<span class="hljs-name">h4</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">table</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">td</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;word&quot;</span>&gt;</span>name: <span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">td</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;inp&quot;</span>&gt;</span></span><br><span class="language-xml">               <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;empName&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;empName&quot;</span> /&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">td</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;word&quot;</span>&gt;</span>email: <span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">td</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;inp&quot;</span>&gt;</span></span><br><span class="language-xml">               <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;email&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;email&quot;</span> /&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">td</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;word&quot;</span>&gt;</span>salary: <span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">td</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;inp&quot;</span>&gt;</span></span><br><span class="language-xml">               <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;salary&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;salary&quot;</span> /&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">td</span> <span class="hljs-attr">colspan</span>=<span class="hljs-string">&quot;2&quot;</span> <span class="hljs-attr">align</span>=<span class="hljs-string">&quot;center&quot;</span>&gt;</span></span><br><span class="language-xml">               <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;addEmpButton&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;abc&quot;</span>&gt;</span></span><br><span class="language-xml">                  Submit</span><br><span class="language-xml">               <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml">   <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></span><br></code></pre></td></tr></table></figure>

<p>优化后，封装函数复用的代码</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;!<span class="hljs-variable constant_">DOCTYPE</span> <span class="hljs-variable constant_">HTML</span> <span class="hljs-variable constant_">PUBLIC</span> <span class="hljs-string">&quot;-//W3C//DTD HTML 4.01//EN&quot;</span> <span class="hljs-string">&quot;http://www.w3.org/TR/html4/strict.dtd&quot;</span>&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;Content-Type&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;text/html; charset=UTF-8&quot;</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Untitled Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;stylesheet&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/css&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;styleB/css.css&quot;</span> /&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../../script/jquery-1.7.2.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">   $(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span></span><br><span class="language-javascript"><span class="language-xml">   <span class="hljs-keyword">var</span> deleteFun=<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span></span><br><span class="language-javascript"><span class="language-xml">   <span class="hljs-comment">//在事件响应function的时候会有一个this对象，这个this对象是当前正在响应事件的dom对象</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-comment">//得到a标签对象的父亲的父亲</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-keyword">var</span> $tbr=$(<span class="hljs-variable language_">this</span>).<span class="hljs-title function_">parent</span>().<span class="hljs-title function_">parent</span>();</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-comment">//获取第一个td标签的内容</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-keyword">var</span> name=$tbr.<span class="hljs-title function_">find</span>(<span class="hljs-string">&quot;td:first&quot;</span>).<span class="hljs-title function_">text</span>();</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-comment">//confirm是js提供的一个确认提示框，你给他传什么它就提示什么，用户点击确定就返回true，点击取消就返回false</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-keyword">if</span>(<span class="hljs-title function_">confirm</span>(<span class="hljs-string">&quot;你确定要删除&quot;</span>+name+<span class="hljs-string">&quot;么&quot;</span>))&#123;</span></span><br><span class="language-javascript"><span class="language-xml">      $tbr.<span class="hljs-title function_">remove</span>();</span></span><br><span class="language-javascript"><span class="language-xml">      &#125;</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-comment">//return false; 可以阻止，元素的默认行为</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<span class="hljs-comment">//可以点击标签时不跳转</span></span></span><br><span class="language-javascript"><span class="language-xml">   &#125;;</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">   $(<span class="hljs-string">&quot;#addEmpButton&quot;</span>).<span class="hljs-title function_">click</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span></span><br><span class="language-javascript"><span class="language-xml">   <span class="hljs-comment">//获取输入框的内容</span></span></span><br><span class="language-javascript"><span class="language-xml">   <span class="hljs-keyword">var</span> name=$(<span class="hljs-string">&quot;#empName&quot;</span>).<span class="hljs-title function_">val</span>();</span></span><br><span class="language-javascript"><span class="language-xml">   <span class="hljs-keyword">var</span> email=$(<span class="hljs-string">&quot;#email&quot;</span>).<span class="hljs-title function_">val</span>();</span></span><br><span class="language-javascript"><span class="language-xml">   <span class="hljs-keyword">var</span> salary=$(<span class="hljs-string">&quot;#salary&quot;</span>).<span class="hljs-title function_">val</span>();</span></span><br><span class="language-javascript"><span class="language-xml">   <span class="hljs-comment">//创建一个行标签对象，添加到显示数据的表格中</span></span></span><br><span class="language-javascript"><span class="language-xml">   <span class="hljs-keyword">var</span> $tobr=$(<span class="hljs-string">&quot;&lt;tr&gt;&quot;</span>+</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-string">&quot;&lt;td&gt;&quot;</span>+name+<span class="hljs-string">&quot;&lt;/td&gt;&quot;</span>+</span></span><br><span class="language-javascript"><span class="language-xml">         <span class="hljs-string">&quot;&lt;td&gt;&quot;</span>+email+<span class="hljs-string">&quot;&lt;/td&gt;&quot;</span>+</span></span><br><span class="language-javascript"><span class="language-xml">         <span class="hljs-string">&quot;&lt;td&gt;&quot;</span>+salary+<span class="hljs-string">&quot;&lt;/td&gt;&quot;</span>+</span></span><br><span class="language-javascript"><span class="language-xml">         <span class="hljs-string">&quot;&lt;td&gt;&lt;a href=\&quot;deleteEmp?id=002\&quot;&gt;Delete&lt;/a&gt;&lt;/td&gt;&quot;</span>+</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-string">&quot;&lt;/tr&gt;&quot;</span>);</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-comment">//添加到显示数据的表格中</span></span></span><br><span class="language-javascript"><span class="language-xml">         $tobr.<span class="hljs-title function_">appendTo</span>($(<span class="hljs-string">&quot;#employeeTable&quot;</span>));</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">       <span class="hljs-comment">//这里是每次添加新的信息之后，给他绑定删除事件，防止新添加的这些无法删除</span></span></span><br><span class="language-javascript"><span class="language-xml">      $tobr.<span class="hljs-title function_">find</span>(<span class="hljs-string">&quot;a&quot;</span>).<span class="hljs-title function_">click</span>(deleteFun);&#125;);</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-comment">//给删除a标签绑定单机事件</span></span></span><br><span class="language-javascript"><span class="language-xml">      $(<span class="hljs-string">&quot;a&quot;</span>).<span class="hljs-title function_">click</span>(deleteFun);</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">   &#125;);</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">   </span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml">   <span class="hljs-tag">&lt;<span class="hljs-name">table</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;employeeTable&quot;</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>Name<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>Email<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>Salary<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span><span class="hljs-symbol">&amp;nbsp;</span><span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>Tom<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>tom@tom.com<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>5000<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;deleteEmp?id=001&quot;</span>&gt;</span>Delete<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>Jerry<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>jerry@sohu.com<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>8000<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;deleteEmp?id=002&quot;</span>&gt;</span>Delete<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>Bob<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>bob@tom.com<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>10000<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;deleteEmp?id=003&quot;</span>&gt;</span>Delete<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span></span><br><span class="language-xml">   <span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml">   <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;formDiv&quot;</span>&gt;</span></span><br><span class="language-xml">   </span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">h4</span>&gt;</span>添加新员工<span class="hljs-tag">&lt;/<span class="hljs-name">h4</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">table</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">td</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;word&quot;</span>&gt;</span>name: <span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">td</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;inp&quot;</span>&gt;</span></span><br><span class="language-xml">               <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;empName&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;empName&quot;</span> /&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">td</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;word&quot;</span>&gt;</span>email: <span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">td</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;inp&quot;</span>&gt;</span></span><br><span class="language-xml">               <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;email&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;email&quot;</span> /&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">td</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;word&quot;</span>&gt;</span>salary: <span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">td</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;inp&quot;</span>&gt;</span></span><br><span class="language-xml">               <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;salary&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;salary&quot;</span> /&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">td</span> <span class="hljs-attr">colspan</span>=<span class="hljs-string">&quot;2&quot;</span> <span class="hljs-attr">align</span>=<span class="hljs-string">&quot;center&quot;</span>&gt;</span></span><br><span class="language-xml">               <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;addEmpButton&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;abc&quot;</span>&gt;</span></span><br><span class="language-xml">                  Submit</span><br><span class="language-xml">               <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml">   <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></span><br></code></pre></td></tr></table></figure>

<h4 id="jQuery中css样式操作"><a href="#jQuery中css样式操作" class="headerlink" title="jQuery中css样式操作"></a>jQuery中css样式操作</h4><p>addClass()        添加样式</p>
<p>removeClass()    删除样式</p>
<p>toggleClass()    有就删除，没有就添加样式</p>
<p>offset()        获取和设置元素的坐标，下面是这个的样例显示</p>
<p>top: 10.777777671813965, left: 118.55555725097656}  这两个参数top是符合条件的标签到浏览器顶上的距离，left是到左边框距离</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">div</span><span class="hljs-selector-class">.whiteborder</span>&#123;<br>   <span class="hljs-attribute">border</span>: <span class="hljs-number">2px</span> white solid;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>这个div是指这个样式只能给div这个标签使用</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;!<span class="hljs-variable constant_">DOCTYPE</span> html <span class="hljs-variable constant_">PUBLIC</span> <span class="hljs-string">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span> <span class="hljs-string">&quot;http://www.w3.org/TR/html4/loose.dtd&quot;</span>&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;Content-Type&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;text/html; charset=UTF-8&quot;</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Insert title here<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/css&quot;</span>&gt;</span><span class="language-css"></span></span><br><span class="language-css"><span class="language-xml">   </span></span><br><span class="language-css"><span class="language-xml">   <span class="hljs-selector-tag">div</span>&#123;</span></span><br><span class="language-css"><span class="language-xml">      <span class="hljs-attribute">width</span>:<span class="hljs-number">100px</span>;</span></span><br><span class="language-css"><span class="language-xml">      <span class="hljs-attribute">height</span>:<span class="hljs-number">260px</span>;</span></span><br><span class="language-css"><span class="language-xml">   &#125;</span></span><br><span class="language-css"><span class="language-xml">   </span></span><br><span class="language-css"><span class="language-xml">   <span class="hljs-selector-tag">div</span><span class="hljs-selector-class">.whiteborder</span>&#123;</span></span><br><span class="language-css"><span class="language-xml">      <span class="hljs-attribute">border</span>: <span class="hljs-number">2px</span> white solid;</span></span><br><span class="language-css"><span class="language-xml">   &#125;</span></span><br><span class="language-css"><span class="language-xml">   </span></span><br><span class="language-css"><span class="language-xml">   <span class="hljs-selector-tag">div</span><span class="hljs-selector-class">.redDiv</span>&#123;</span></span><br><span class="language-css"><span class="language-xml">      <span class="hljs-attribute">background-color</span>: red;</span></span><br><span class="language-css"><span class="language-xml">   &#125;</span></span><br><span class="language-css"><span class="language-xml">   </span></span><br><span class="language-css"><span class="language-xml">   <span class="hljs-selector-tag">div</span><span class="hljs-selector-class">.blueBorder</span>&#123;</span></span><br><span class="language-css"><span class="language-xml">      <span class="hljs-attribute">border</span>: <span class="hljs-number">5px</span> blue solid;</span></span><br><span class="language-css"><span class="language-xml">   &#125;</span></span><br><span class="language-css"><span class="language-xml">   </span></span><br><span class="language-css"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;script/jquery-1.7.2.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml">   </span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">   $(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span></span><br><span class="language-javascript"><span class="language-xml">      </span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-keyword">var</span> $divEle = $(<span class="hljs-string">&#x27;div:first&#x27;</span>);</span></span><br><span class="language-javascript"><span class="language-xml">      </span></span><br><span class="language-javascript"><span class="language-xml">      $(<span class="hljs-string">&#x27;#btn01&#x27;</span>).<span class="hljs-title function_">click</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span></span><br><span class="language-javascript"><span class="language-xml">         <span class="hljs-comment">//addClass() - 向被选元素添加一个或多个类</span></span></span><br><span class="language-javascript"><span class="language-xml">         $divEle.<span class="hljs-title function_">addClass</span>(<span class="hljs-string">&quot;redDiv blueBorder&quot;</span>);</span></span><br><span class="language-javascript"><span class="language-xml">      &#125;);</span></span><br><span class="language-javascript"><span class="language-xml">      </span></span><br><span class="language-javascript"><span class="language-xml">      $(<span class="hljs-string">&#x27;#btn02&#x27;</span>).<span class="hljs-title function_">click</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span></span><br><span class="language-javascript"><span class="language-xml">         <span class="hljs-comment">//removeClass() - 从被选元素删除一个或多个类 </span></span></span><br><span class="language-javascript"><span class="language-xml">         $divEle.<span class="hljs-title function_">removeClass</span>(<span class="hljs-string">&quot;redDiv blueBorder&quot;</span>);</span></span><br><span class="language-javascript"><span class="language-xml">         <span class="hljs-comment">//$divEle.removeClass();全部删除</span></span></span><br><span class="language-javascript"><span class="language-xml">      &#125;);</span></span><br><span class="language-javascript"><span class="language-xml">   </span></span><br><span class="language-javascript"><span class="language-xml">      </span></span><br><span class="language-javascript"><span class="language-xml">      $(<span class="hljs-string">&#x27;#btn03&#x27;</span>).<span class="hljs-title function_">click</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span></span><br><span class="language-javascript"><span class="language-xml">         <span class="hljs-comment">//toggleClass() - 对被选元素进行添加/删除类的切换操作 </span></span></span><br><span class="language-javascript"><span class="language-xml">         $divEle.<span class="hljs-title function_">toggleClass</span>(<span class="hljs-string">&#x27;redDiv&#x27;</span>);</span></span><br><span class="language-javascript"><span class="language-xml">      &#125;);</span></span><br><span class="language-javascript"><span class="language-xml">      </span></span><br><span class="language-javascript"><span class="language-xml">      </span></span><br><span class="language-javascript"><span class="language-xml">      $(<span class="hljs-string">&#x27;#btn04&#x27;</span>).<span class="hljs-title function_">click</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span></span><br><span class="language-javascript"><span class="language-xml">         <span class="hljs-comment">//offset() - 返回第一个匹配元素相对于文档的位置。</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-keyword">var</span> pos=$divEle.<span class="hljs-title function_">offset</span>();</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-comment">//得到top和left</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(pos);</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-comment">//还可以自己设置top和left，不一定是自己输入的值，按照当前屏幕大小给的值</span></span></span><br><span class="language-javascript"><span class="language-xml">      $divEle.<span class="hljs-title function_">offset</span>(&#123;</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-attr">top</span>:<span class="hljs-number">100</span>,</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-attr">left</span>:<span class="hljs-number">50</span></span></span><br><span class="language-javascript"><span class="language-xml">      &#125;);</span></span><br><span class="language-javascript"><span class="language-xml">      &#125;);</span></span><br><span class="language-javascript"><span class="language-xml">      </span></span><br><span class="language-javascript"><span class="language-xml">   </span></span><br><span class="language-javascript"><span class="language-xml">      </span></span><br><span class="language-javascript"><span class="language-xml">   &#125;)</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml">   <span class="hljs-tag">&lt;<span class="hljs-name">table</span> <span class="hljs-attr">align</span>=<span class="hljs-string">&quot;center&quot;</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;border&quot;</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="language-xml">         </span><br><span class="language-xml">         <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;btn&quot;</span>&gt;</span></span><br><span class="language-xml">               <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;button&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;addClass()&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;btn01&quot;</span>/&gt;</span></span><br><span class="language-xml">               <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;button&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;removeClass()&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;btn02&quot;</span>/&gt;</span></span><br><span class="language-xml">               <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;button&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;toggleClass()&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;btn03&quot;</span>/&gt;</span></span><br><span class="language-xml">               <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;button&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;offset()&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;btn04&quot;</span>/&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span></span><br><span class="language-xml">   <span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span></span><br><span class="language-xml">   </span><br><span class="language-xml">   </span><br><span class="language-xml">   </span><br><span class="language-xml">   <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span></span><br><span class="language-xml">   </span><br><span class="language-xml">   </span><br><span class="language-xml">   <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span></span><br><span class="language-xml">   </span><br><span class="language-xml">   </span><br><span class="language-xml">   </span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></span><br></code></pre></td></tr></table></figure>

<h4 id="jQuery动画"><a href="#jQuery动画" class="headerlink" title="jQuery动画"></a>jQuery动画</h4><p>基本动画</p>
<p>show()       将隐藏的元素显示</p>
<p>hide()         将可见的元素隐藏</p>
<p>toggle()       可见就隐藏，不可见就显示</p>
<p>以上动画方法都可以添加参数</p>
<p>这七个函数的参数都是这俩，只有fadeTo是不一样的，因为fadeTo多一个透明度的参数</p>
<p>​        1.第一个参数是动画执行的时常，以毫秒为单位</p>
<p>​        2.第二个参数是动画的回调函数（动画完成后自动调用的函数）</p>
<p>淡入淡出动画</p>
<p>fadeln()     淡入   慢慢可见</p>
<p>fadeOut()   淡出    慢慢消失</p>
<p>fadeTo()   在指定时常内慢慢的将透明度修改到指定的值  0透明   0.5半透明  1不透明</p>
<p>fadeToggle()   淡入淡出切换</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">HTML</span> <span class="hljs-keyword">PUBLIC</span> <span class="hljs-string">&quot;-//W3C//DTD HTML 4.01//EN&quot;</span> <span class="hljs-string">&quot;http://www.w3.org/TR/html4/strict.dtd&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;Content-Type&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;text/html; charset=UTF-8&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Untitled Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;css/style.css&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/css&quot;</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;stylesheet&quot;</span> /&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;script/jquery-1.7.2.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>   <br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">   <span class="hljs-comment">/*     </span></span><br><span class="hljs-comment"><span class="language-javascript">      基本</span></span><br><span class="hljs-comment"><span class="language-javascript">      show([speed,[easing],[fn]]) </span></span><br><span class="hljs-comment"><span class="language-javascript">      hide([speed,[easing],[fn]]) </span></span><br><span class="hljs-comment"><span class="language-javascript">      toggle([speed],[easing],[fn]) </span></span><br><span class="hljs-comment"><span class="language-javascript">      滑动</span></span><br><span class="hljs-comment"><span class="language-javascript">      slideDown([spe],[eas],[fn]) </span></span><br><span class="hljs-comment"><span class="language-javascript">      slideUp([speed,[easing],[fn]]) </span></span><br><span class="hljs-comment"><span class="language-javascript">      slideToggle([speed],[easing],[fn]) </span></span><br><span class="hljs-comment"><span class="language-javascript">      淡入淡出</span></span><br><span class="hljs-comment"><span class="language-javascript">      fadeIn([speed],[eas],[fn]) </span></span><br><span class="hljs-comment"><span class="language-javascript">      fadeOut([speed],[eas],[fn]) </span></span><br><span class="hljs-comment"><span class="language-javascript">      fadeTo([[spe],opa,[eas],[fn]]) </span></span><br><span class="hljs-comment"><span class="language-javascript">      fadeToggle([speed,[eas],[fn]])</span></span><br><span class="hljs-comment"><span class="language-javascript">      */</span></span><br><span class="language-javascript">      $(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">         <span class="hljs-comment">//显示   show()</span></span><br><span class="language-javascript">         $(<span class="hljs-string">&quot;#btn1&quot;</span>).<span class="hljs-title function_">click</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">            $(<span class="hljs-string">&quot;#div1&quot;</span>).<span class="hljs-title function_">show</span>(<span class="hljs-number">1000</span>,<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">            <span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;show动画完成&quot;</span>)</span><br><span class="language-javascript">            &#125;);</span><br><span class="language-javascript">         &#125;);       </span><br><span class="language-javascript">         <span class="hljs-comment">//隐藏  hide()</span></span><br><span class="language-javascript">         $(<span class="hljs-string">&quot;#btn2&quot;</span>).<span class="hljs-title function_">click</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">            $(<span class="hljs-string">&quot;#div1&quot;</span>).<span class="hljs-title function_">hide</span>(<span class="hljs-number">1000</span>,<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">            <span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;hide动画执行完成&quot;</span>)</span><br><span class="language-javascript">            &#125;);</span><br><span class="language-javascript">         &#125;);    </span><br><span class="language-javascript">         <span class="hljs-comment">//切换   toggle()</span></span><br><span class="language-javascript">         $(<span class="hljs-string">&quot;#btn3&quot;</span>).<span class="hljs-title function_">click</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">            $(<span class="hljs-string">&quot;#div1&quot;</span>).<span class="hljs-title function_">toggle</span>(<span class="hljs-number">1000</span>,<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">            <span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;toggle动画执行完成&quot;</span>)</span><br><span class="language-javascript">            &#125;);</span><br><span class="language-javascript">         &#125;);</span><br><span class="language-javascript">         <span class="hljs-comment">//动画的演示方式，就是不断的调用他自己</span></span><br><span class="language-javascript">         <span class="hljs-comment">/*var abc=function()&#123;</span></span><br><span class="hljs-comment"><span class="language-javascript">         $(&quot;#div1&quot;).toggle(1000,abc);</span></span><br><span class="hljs-comment"><span class="language-javascript">         &#125;</span></span><br><span class="hljs-comment"><span class="language-javascript">         abc();*/</span></span><br><span class="language-javascript">         </span><br><span class="language-javascript">         <span class="hljs-comment">//淡入   fadeIn()</span></span><br><span class="language-javascript">         $(<span class="hljs-string">&quot;#btn4&quot;</span>).<span class="hljs-title function_">click</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">            $(<span class="hljs-string">&#x27;#div1&#x27;</span>).<span class="hljs-title function_">fadeIn</span>(<span class="hljs-number">2000</span>,<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">            <span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;淡入完成&quot;</span>);</span><br><span class="language-javascript">            &#125;);</span><br><span class="language-javascript">         &#125;);    </span><br><span class="language-javascript">         <span class="hljs-comment">//淡出  fadeOut()</span></span><br><span class="language-javascript">         $(<span class="hljs-string">&quot;#btn5&quot;</span>).<span class="hljs-title function_">click</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">            $(<span class="hljs-string">&#x27;#div1&#x27;</span>).<span class="hljs-title function_">fadeOut</span>(<span class="hljs-number">2000</span>,<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">            <span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;淡出完成&quot;</span>);</span><br><span class="language-javascript">            &#125;);</span><br><span class="language-javascript">         &#125;);    </span><br><span class="language-javascript">         </span><br><span class="language-javascript">         <span class="hljs-comment">//淡化到  fadeTo()</span></span><br><span class="language-javascript">         $(<span class="hljs-string">&quot;#btn6&quot;</span>).<span class="hljs-title function_">click</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">            $(<span class="hljs-string">&quot;#div1&quot;</span>).<span class="hljs-title function_">fadeTo</span>(<span class="hljs-number">2000</span>,<span class="hljs-number">0.5</span>,<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">            <span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;fadeTo完成&quot;</span>);</span><br><span class="language-javascript">            &#125;);</span><br><span class="language-javascript">         &#125;);    </span><br><span class="language-javascript">         <span class="hljs-comment">//淡化切换  fadeToggle()</span></span><br><span class="language-javascript">         $(<span class="hljs-string">&quot;#btn7&quot;</span>).<span class="hljs-title function_">click</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">            $(<span class="hljs-string">&#x27;#div1&#x27;</span>).<span class="hljs-title function_">fadeToggle</span>(<span class="hljs-number">2000</span>,<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">            <span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;切换完成&quot;</span>);</span><br><span class="language-javascript">            &#125;);</span><br><span class="language-javascript">         &#125;);    </span><br><span class="language-javascript">      &#125;)</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>   <br>   <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">table</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;float: left;&quot;</span>&gt;</span><br>         <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;btn1&quot;</span>&gt;</span>显示show()<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>         <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>         <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;btn2&quot;</span>&gt;</span>隐藏hide()<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>         <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>         <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;btn3&quot;</span>&gt;</span>显示/隐藏切换 toggle()<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>         <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>         <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;btn4&quot;</span>&gt;</span>淡入fadeIn()<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>         <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>         <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;btn5&quot;</span>&gt;</span>淡出fadeOut()<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>         <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>         <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;btn6&quot;</span>&gt;</span>淡化到fadeTo()<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>         <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>         <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;btn7&quot;</span>&gt;</span>淡化切换fadeToggle()<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>         <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span><br>      <br>      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;div1&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;float:left;border: 1px solid;background-color: blue;width: 300px;height: 200px;&quot;</span>&gt;</span><br>         jquery动画定义了很多种动画效果，可以很方便的使用这些动画效果<br>      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>



<h4 id="jQuery动画练习"><a href="#jQuery动画练习" class="headerlink" title="jQuery动画练习"></a>jQuery动画练习</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.showmore</span> <span class="hljs-selector-tag">a</span> <span class="hljs-selector-tag">span</span> &#123;<br>   <span class="hljs-attribute">padding-left</span>: <span class="hljs-number">15px</span>;<br>   <span class="hljs-attribute">background</span>: <span class="hljs-built_in">url</span>(<span class="hljs-string">img/down.gif</span>) no-repeat <span class="hljs-number">0</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>这个css选择器的意思是   类选择器      且用这个选择器的标签子代必须有一个a，a的子代必须有一个span</p>
<p>添加cssclass样式的时候既可以用prop也可以用addClass</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;!<span class="hljs-variable constant_">DOCTYPE</span> html <span class="hljs-variable constant_">PUBLIC</span> <span class="hljs-string">&quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot;</span> <span class="hljs-string">&quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;</span>&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.w3.org/1999/xhtml&quot;</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;Content-Type&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;text/html; charset=utf-8&quot;</span> /&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>品牌展示练习<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/css&quot;</span>&gt;</span><span class="language-css"></span></span><br><span class="language-css"><span class="language-xml">* &#123;</span></span><br><span class="language-css"><span class="language-xml">   <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;</span></span><br><span class="language-css"><span class="language-xml">   <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>;</span></span><br><span class="language-css"><span class="language-xml">&#125;</span></span><br><span class="language-css"><span class="language-xml"></span></span><br><span class="language-css"><span class="language-xml"><span class="hljs-selector-tag">body</span> &#123;</span></span><br><span class="language-css"><span class="language-xml">   <span class="hljs-attribute">font-size</span>: <span class="hljs-number">12px</span>;</span></span><br><span class="language-css"><span class="language-xml">   <span class="hljs-attribute">text-align</span>: center;</span></span><br><span class="language-css"><span class="language-xml">&#125;</span></span><br><span class="language-css"><span class="language-xml"></span></span><br><span class="language-css"><span class="language-xml"><span class="hljs-selector-tag">a</span> &#123;</span></span><br><span class="language-css"><span class="language-xml">   <span class="hljs-attribute">color</span>: <span class="hljs-number">#04D</span>;</span></span><br><span class="language-css"><span class="language-xml">   <span class="hljs-attribute">text-decoration</span>: none;</span></span><br><span class="language-css"><span class="language-xml">&#125;</span></span><br><span class="language-css"><span class="language-xml"></span></span><br><span class="language-css"><span class="language-xml"><span class="hljs-selector-tag">a</span><span class="hljs-selector-pseudo">:hover</span> &#123;</span></span><br><span class="language-css"><span class="language-xml">   <span class="hljs-attribute">color</span>: <span class="hljs-number">#F50</span>;</span></span><br><span class="language-css"><span class="language-xml">   <span class="hljs-attribute">text-decoration</span>: underline;</span></span><br><span class="language-css"><span class="language-xml">&#125;</span></span><br><span class="language-css"><span class="language-xml"></span></span><br><span class="language-css"><span class="language-xml"><span class="hljs-selector-class">.SubCategoryBox</span> &#123;</span></span><br><span class="language-css"><span class="language-xml">   <span class="hljs-attribute">width</span>: <span class="hljs-number">600px</span>;</span></span><br><span class="language-css"><span class="language-xml">   <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> auto;</span></span><br><span class="language-css"><span class="language-xml">   <span class="hljs-attribute">text-align</span>: center;</span></span><br><span class="language-css"><span class="language-xml">   <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">40px</span>;</span></span><br><span class="language-css"><span class="language-xml">&#125;</span></span><br><span class="language-css"><span class="language-xml"></span></span><br><span class="language-css"><span class="language-xml"><span class="hljs-selector-class">.SubCategoryBox</span> <span class="hljs-selector-tag">ul</span> &#123;</span></span><br><span class="language-css"><span class="language-xml">   <span class="hljs-attribute">list-style</span>: none;</span></span><br><span class="language-css"><span class="language-xml">&#125;</span></span><br><span class="language-css"><span class="language-xml"></span></span><br><span class="language-css"><span class="language-xml"><span class="hljs-selector-class">.SubCategoryBox</span> <span class="hljs-selector-tag">ul</span> <span class="hljs-selector-tag">li</span> &#123;</span></span><br><span class="language-css"><span class="language-xml">   <span class="hljs-attribute">display</span>: block;</span></span><br><span class="language-css"><span class="language-xml">   <span class="hljs-attribute">float</span>: left;</span></span><br><span class="language-css"><span class="language-xml">   <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>;</span></span><br><span class="language-css"><span class="language-xml">   <span class="hljs-attribute">line-height</span>: <span class="hljs-number">20px</span>;</span></span><br><span class="language-css"><span class="language-xml">&#125;</span></span><br><span class="language-css"><span class="language-xml"></span></span><br><span class="language-css"><span class="language-xml"><span class="hljs-selector-class">.showmore</span> , <span class="hljs-selector-class">.showless</span>&#123;</span></span><br><span class="language-css"><span class="language-xml">   <span class="hljs-attribute">clear</span>: both;</span></span><br><span class="language-css"><span class="language-xml">   <span class="hljs-attribute">text-align</span>: center;</span></span><br><span class="language-css"><span class="language-xml">   <span class="hljs-attribute">padding-top</span>: <span class="hljs-number">10px</span>;</span></span><br><span class="language-css"><span class="language-xml">&#125;</span></span><br><span class="language-css"><span class="language-xml"></span></span><br><span class="language-css"><span class="language-xml"><span class="hljs-selector-class">.showmore</span> <span class="hljs-selector-tag">a</span> , <span class="hljs-selector-class">.showless</span> <span class="hljs-selector-tag">a</span>&#123;</span></span><br><span class="language-css"><span class="language-xml">   <span class="hljs-attribute">display</span>: block;</span></span><br><span class="language-css"><span class="language-xml">   <span class="hljs-attribute">width</span>: <span class="hljs-number">120px</span>;</span></span><br><span class="language-css"><span class="language-xml">   <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> auto;</span></span><br><span class="language-css"><span class="language-xml">   <span class="hljs-attribute">line-height</span>: <span class="hljs-number">24px</span>;</span></span><br><span class="language-css"><span class="language-xml">   <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#AAA</span>;</span></span><br><span class="language-css"><span class="language-xml">&#125;</span></span><br><span class="language-css"><span class="language-xml"></span></span><br><span class="language-css"><span class="language-xml"><span class="hljs-selector-class">.showmore</span> <span class="hljs-selector-tag">a</span> <span class="hljs-selector-tag">span</span> &#123;</span></span><br><span class="language-css"><span class="language-xml">   <span class="hljs-attribute">padding-left</span>: <span class="hljs-number">15px</span>;</span></span><br><span class="language-css"><span class="language-xml">   <span class="hljs-attribute">background</span>: <span class="hljs-built_in">url</span>(<span class="hljs-string">img/down.gif</span>) no-repeat <span class="hljs-number">0</span> <span class="hljs-number">0</span>;</span></span><br><span class="language-css"><span class="language-xml">&#125;</span></span><br><span class="language-css"><span class="language-xml"></span></span><br><span class="language-css"><span class="language-xml"><span class="hljs-selector-class">.showless</span> <span class="hljs-selector-tag">a</span> <span class="hljs-selector-tag">span</span> &#123;</span></span><br><span class="language-css"><span class="language-xml">   <span class="hljs-attribute">padding-left</span>: <span class="hljs-number">15px</span>;</span></span><br><span class="language-css"><span class="language-xml">   <span class="hljs-attribute">background</span>: <span class="hljs-built_in">url</span>(<span class="hljs-string">img/up.gif</span>) no-repeat <span class="hljs-number">0</span> <span class="hljs-number">0</span>;</span></span><br><span class="language-css"><span class="language-xml">&#125;</span></span><br><span class="language-css"><span class="language-xml"></span></span><br><span class="language-css"><span class="language-xml"><span class="hljs-selector-class">.promoted</span> <span class="hljs-selector-tag">a</span> &#123;</span></span><br><span class="language-css"><span class="language-xml">   <span class="hljs-attribute">color</span>: <span class="hljs-number">#F50</span>;</span></span><br><span class="language-css"><span class="language-xml">&#125;</span></span><br><span class="language-css"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;script/jquery-1.7.2.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml">   $(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">   <span class="hljs-comment">//基本初始状态</span></span></span><br><span class="language-javascript"><span class="language-xml">$(<span class="hljs-string">&quot;li:gt(5):not(:last)&quot;</span>).<span class="hljs-title function_">hide</span>();<span class="hljs-comment">//hide是动画操作</span></span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-comment">//给功能的按钮绑定单击事件</span></span></span><br><span class="language-javascript"><span class="language-xml">$(<span class="hljs-string">&quot;div div a&quot;</span>).<span class="hljs-title function_">click</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span></span><br><span class="language-javascript"><span class="language-xml">$(<span class="hljs-string">&quot;li:gt(5):not(:last)&quot;</span>).<span class="hljs-title function_">toggle</span>();<span class="hljs-comment">//切换回显示</span></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-comment">//按钮上的文本，1.显示全部品牌，角标向下，文字显示全部品牌</span></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">if</span>( $(<span class="hljs-string">&quot;li:gt(5):not(:last)&quot;</span>).<span class="hljs-title function_">is</span>(<span class="hljs-string">&quot;:hidden&quot;</span>))&#123;</span></span><br><span class="language-javascript"><span class="language-xml">$(<span class="hljs-string">&quot;div div a span&quot;</span>).<span class="hljs-title function_">text</span>(<span class="hljs-string">&quot;显示全部品牌&quot;</span>);</span></span><br><span class="language-javascript"><span class="language-xml">$(<span class="hljs-string">&quot;div div&quot;</span>).<span class="hljs-title function_">removeClass</span>();</span></span><br><span class="language-javascript"><span class="language-xml">$(<span class="hljs-string">&quot;div div&quot;</span>).<span class="hljs-title function_">addClass</span>(<span class="hljs-string">&quot;showmore&quot;</span>);</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-comment">//$(&quot;div div&quot;).prop(&quot;class&quot;,&quot;showmore&quot;);,添加自己定义的css类的时候也可以用prop</span></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-comment">//高亮取消</span></span></span><br><span class="language-javascript"><span class="language-xml">$(<span class="hljs-string">&quot;li:contains(&#x27;索尼&#x27;)&quot;</span>).<span class="hljs-title function_">removeClass</span>(<span class="hljs-string">&quot;promoted&quot;</span>);</span></span><br><span class="language-javascript"><span class="language-xml">&#125;</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">else</span>&#123;</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-comment">//显示精简品牌，角标向上，且文字是显示精简品牌</span></span></span><br><span class="language-javascript"><span class="language-xml">$(<span class="hljs-string">&quot;div div a span&quot;</span>).<span class="hljs-title function_">text</span>(<span class="hljs-string">&quot;显示精简品牌&quot;</span>);</span></span><br><span class="language-javascript"><span class="language-xml">$(<span class="hljs-string">&quot;div div&quot;</span>).<span class="hljs-title function_">removeClass</span>();</span></span><br><span class="language-javascript"><span class="language-xml">$(<span class="hljs-string">&quot;div div&quot;</span>).<span class="hljs-title function_">addClass</span>(<span class="hljs-string">&quot;showless&quot;</span>);</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-comment">//$(&quot;div div&quot;).prop(&quot;class&quot;,&quot;showless&quot;);</span></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-comment">//高亮取消</span></span></span><br><span class="language-javascript"><span class="language-xml">$(<span class="hljs-string">&quot;li:contains(&#x27;索尼&#x27;)&quot;</span>).<span class="hljs-title function_">addClass</span>(<span class="hljs-string">&quot;promoted&quot;</span>);</span></span><br><span class="language-javascript"><span class="language-xml">&#125;</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</span></span><br><span class="language-javascript"><span class="language-xml">&#125;);</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">   &#125;);</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span></span><br><span class="language-xml">   <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;SubCategoryBox&quot;</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;#&quot;</span>&gt;</span>佳能<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">i</span>&gt;</span>(30440) <span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;#&quot;</span>&gt;</span>索尼<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">i</span>&gt;</span>(27220) <span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;#&quot;</span>&gt;</span>三星<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">i</span>&gt;</span>(20808) <span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;#&quot;</span>&gt;</span>尼康<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">i</span>&gt;</span>(17821) <span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;#&quot;</span>&gt;</span>松下<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">i</span>&gt;</span>(12289) <span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;#&quot;</span>&gt;</span>卡西欧<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">i</span>&gt;</span>(8242) <span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;#&quot;</span>&gt;</span>富士<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">i</span>&gt;</span>(14894) <span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;#&quot;</span>&gt;</span>柯达<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">i</span>&gt;</span>(9520) <span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;#&quot;</span>&gt;</span>宾得<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">i</span>&gt;</span>(2195) <span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;#&quot;</span>&gt;</span>理光<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">i</span>&gt;</span>(4114) <span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;#&quot;</span>&gt;</span>奥林巴斯<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">i</span>&gt;</span>(12205) <span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;#&quot;</span>&gt;</span>明基<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">i</span>&gt;</span>(1466) <span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;#&quot;</span>&gt;</span>爱国者<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">i</span>&gt;</span>(3091) <span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;#&quot;</span>&gt;</span>其它品牌相机<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">i</span>&gt;</span>(7275) <span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;showmore&quot;</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;more.html&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>显示全部品牌<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">   <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></span><br></code></pre></td></tr></table></figure>

<h4 id="原生js和jQuery页面加载完成之后的区别"><a href="#原生js和jQuery页面加载完成之后的区别" class="headerlink" title="原生js和jQuery页面加载完成之后的区别"></a>原生js和jQuery页面加载完成之后的区别</h4><p>$( function(){} ); 和 window.onload &#x3D; function(){} 的区别？ </p>
<p>他们分别是在什么时候触发？ </p>
<p>1、jQuery 的页面加载完成之后是浏览器的内核解析完页面的标签创建好 DOM 对象之后就会马上执行。 </p>
<p>2、原生 js 的页面加载完成之后，除了要等浏览器内核解析完标签创建好 DOM 对象，还要等标签显示时需要的内容加载 完成。 </p>
<p>他们触发的顺序？ </p>
<p>1、jQuery 页面加载完成之后先执行 </p>
<p>2、原生 js 的页面加载完成之后 </p>
<p>他们执行的次数？ </p>
<p>1、原生 js 的页面加载完成之后，只会执行最后一次的赋值函数。 </p>
<p>2、jQuery 的页面加载完成之后是全部把注册的 function 函数，依次顺序全部执行</p>
<h4 id="jQuery中常用的事件处理方法"><a href="#jQuery中常用的事件处理方法" class="headerlink" title="jQuery中常用的事件处理方法"></a>jQuery中常用的事件处理方法</h4><p>click()        可以绑定单击事件，以及触发单击事件</p>
<p>mouseover()    鼠标移入事件</p>
<p>mouseout()     鼠标移出事件</p>
<p>bind()      可以给元素一次性绑定一个或多个事件</p>
<p>one()     使用上和bind一样，但是one方法绑定的事件只会触发一次</p>
<p>unbind ()    和bind方法相反的操作，解除事件的绑定</p>
<p>live()    也是用来绑定事件的，可以用来绑定选择器匹配的所有元素的事件，哪怕这个元素是后面动态创建出来的</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;!<span class="hljs-variable constant_">DOCTYPE</span> <span class="hljs-variable constant_">HTML</span> <span class="hljs-variable constant_">PUBLIC</span> <span class="hljs-string">&quot;-//W3C//DTD HTML 4.01//EN&quot;</span> <span class="hljs-string">&quot;http://www.w3.org/TR/html4/strict.dtd&quot;</span>&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span></span><br><span class="language-xml">   <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;Content-Type&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;text/html; charset=UTF-8&quot;</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Untitled Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;css/style.css&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/css&quot;</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;stylesheet&quot;</span> /&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../../script/jquery-1.7.2.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml">      </span></span><br><span class="language-javascript"><span class="language-xml">         $(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span></span><br><span class="language-javascript"><span class="language-xml">            <span class="hljs-comment">//1.通常绑定事件的方式</span></span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">            <span class="hljs-comment">//3.合并“鼠标移入”和“鼠标移出”事件</span></span></span><br><span class="language-javascript"><span class="language-xml">            <span class="hljs-comment">//4.合并单击事件</span></span></span><br><span class="language-javascript"><span class="language-xml">            <span class="hljs-comment">//5.切换元素可见状态</span></span></span><br><span class="language-javascript"><span class="language-xml">            <span class="hljs-comment">//6.只绑定一次</span></span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">               <span class="hljs-comment">// 触发事件的讲解</span></span></span><br><span class="language-javascript"><span class="language-xml">            $(<span class="hljs-string">&quot;h5&quot;</span>).<span class="hljs-title function_">click</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<span class="hljs-comment">//传function是绑定事件</span></span></span><br><span class="language-javascript"><span class="language-xml">            <span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;h5单击事件&quot;</span>);</span></span><br><span class="language-javascript"><span class="language-xml">            &#125;);</span></span><br><span class="language-javascript"><span class="language-xml">            <span class="hljs-comment">/*$(&quot;button&quot;).click(function()&#123;</span></span></span><br><span class="hljs-comment"><span class="language-javascript"><span class="language-xml">            $(&quot;h5&quot;).click();//不传function是触发事件，就是调用了h5的绑定事件</span></span></span><br><span class="hljs-comment"><span class="language-javascript"><span class="language-xml">            &#125;);*/</span></span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">            <span class="hljs-comment">//鼠标移入事件</span></span></span><br><span class="language-javascript"><span class="language-xml">            <span class="hljs-comment">/*$(&quot;h5&quot;).mouseover(function()&#123;</span></span></span><br><span class="hljs-comment"><span class="language-javascript"><span class="language-xml">            console.log(&quot;你进来了&quot;);</span></span></span><br><span class="hljs-comment"><span class="language-javascript"><span class="language-xml">            &#125;);*/</span></span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">            <span class="hljs-comment">//鼠标移除事件</span></span></span><br><span class="language-javascript"><span class="language-xml">            <span class="hljs-comment">/*$(&quot;h5&quot;).mouseout(function()&#123;</span></span></span><br><span class="hljs-comment"><span class="language-javascript"><span class="language-xml">            console.log(&quot;你出来了&quot;);</span></span></span><br><span class="hljs-comment"><span class="language-javascript"><span class="language-xml">            &#125;);*/</span></span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">            <span class="hljs-comment">//jQuery提供的绑定方式：bind()函数</span></span></span><br><span class="language-javascript"><span class="language-xml">            <span class="hljs-comment">/*$(&quot;h5&quot;).bind(&quot;click mouseover mouseout&quot;,function()&#123;</span></span></span><br><span class="hljs-comment"><span class="language-javascript"><span class="language-xml">            console.log(&quot;这是bind绑定的事件&quot;);</span></span></span><br><span class="hljs-comment"><span class="language-javascript"><span class="language-xml">            &#125;);*/</span></span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">               <span class="hljs-comment">//one()函数</span></span></span><br><span class="language-javascript"><span class="language-xml">              <span class="hljs-comment">/* $(&quot;h5&quot;).one(&quot;click mouseover mouseout&quot;,function()&#123;</span></span></span><br><span class="hljs-comment"><span class="language-javascript"><span class="language-xml">               console.log(&quot;这是one绑定的事件&quot;);</span></span></span><br><span class="hljs-comment"><span class="language-javascript"><span class="language-xml">               &#125;);*/</span></span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">              <span class="hljs-comment">//unbind()函数,不加参数就全删了</span></span></span><br><span class="language-javascript"><span class="language-xml">              <span class="hljs-comment">/*$(&quot;h5&quot;).unbind(&quot;click mouseover&quot;);*/</span></span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">              <span class="hljs-comment">//live()函数</span></span></span><br><span class="language-javascript"><span class="language-xml">              <span class="hljs-comment">//正常的绑定函数就是只有一开始那个被绑定的标签有效果，现在后来添加的标签依然是有效果的</span></span></span><br><span class="language-javascript"><span class="language-xml">              $(<span class="hljs-string">&quot;h5&quot;</span>).<span class="hljs-title function_">live</span>(<span class="hljs-string">&quot;click&quot;</span>,<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span></span><br><span class="language-javascript"><span class="language-xml">              <span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;h5单击事件==live方法绑定&#x27;</span>);</span></span><br><span class="language-javascript"><span class="language-xml">              &#125;);</span></span><br><span class="language-javascript"><span class="language-xml">              $(<span class="hljs-string">&#x27;&lt;h5 class=&quot;head&quot;&gt;什么是jQuery?&lt;/h5&gt;&#x27;</span>).<span class="hljs-title function_">appendTo</span>($(<span class="hljs-string">&quot;#panel&quot;</span>));</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">         &#125;);</span></span><br><span class="language-javascript"><span class="language-xml">      </span></span><br><span class="language-javascript"><span class="language-xml">      </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml">   <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span></span><br><span class="language-xml">   <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;panel&quot;</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;<span class="hljs-name">h5</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;head&quot;</span>&gt;</span>什么是jQuery?<span class="hljs-tag">&lt;/<span class="hljs-name">h5</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;content&quot;</span>&gt;</span></span><br><span class="language-xml">            jQuery是继Prototype之后又一个优秀的JavaScript库，它是一个由 John Resig 创建于2006年1月的开源项目。jQuery凭借简洁的语法和跨平台的兼容性，极大地简化了JavaScript开发人员遍历HTML文档、操作DOM、处理事件、执行动画和开发Ajax。它独特而又优雅的代码风格改变了JavaScript程序员的设计思路和编写程序的方式。</span><br><span class="language-xml">         <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">         <span class="hljs-tag">&lt;<span class="hljs-name">button</span>&gt;</span>按钮<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">   <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></span><br></code></pre></td></tr></table></figure>

<h4 id="jQuery事件的冒泡"><a href="#jQuery事件的冒泡" class="headerlink" title="jQuery事件的冒泡"></a>jQuery事件的冒泡</h4><p>事件冒泡是指父子元素同时监听一个事件，当触发子元素事件的时候，同一个事件也被传递到了父元素的事件里去响应</p>
<p>在子元素事件函数体内，return false 可以阻止事件的冒泡传递</p>
<p>简单来说就是，如果父子元素绑定同一个事件，子元素的事件被触发的时候，父元素的这个事件也会被触发</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">HTML</span> <span class="hljs-keyword">PUBLIC</span> <span class="hljs-string">&quot;-//W3C//DTD HTML 4.01//EN&quot;</span> <span class="hljs-string">&quot;http://www.w3.org/TR/html4/strict.dtd&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br>	<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>		<span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;Content-Type&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;text/html; charset=UTF-8&quot;</span>&gt;</span><br>		<span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Untitled Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>		<span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/css&quot;</span>&gt;</span><span class="language-css"></span><br><span class="language-css">			*&#123;</span><br><span class="language-css">				<span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;</span><br><span class="language-css">				<span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>;</span><br><span class="language-css">			&#125;</span><br><span class="language-css">			<span class="hljs-selector-tag">body</span>&#123;</span><br><span class="language-css">				<span class="hljs-attribute">font-size</span>: <span class="hljs-number">13px</span>;</span><br><span class="language-css">				<span class="hljs-attribute">line-height</span>: <span class="hljs-number">130%</span>;</span><br><span class="language-css">				<span class="hljs-attribute">padding</span>: <span class="hljs-number">60px</span>;</span><br><span class="language-css">			&#125;</span><br><span class="language-css">			<span class="hljs-selector-id">#content</span>&#123;</span><br><span class="language-css">				<span class="hljs-attribute">width</span>: <span class="hljs-number">220px</span>;</span><br><span class="language-css">				<span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#0050D0</span>;</span><br><span class="language-css">				<span class="hljs-attribute">background</span>: <span class="hljs-number">#96E555</span>;</span><br><span class="language-css">			&#125;</span><br><span class="language-css">			<span class="hljs-selector-tag">span</span>&#123;</span><br><span class="language-css">				<span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>;</span><br><span class="language-css">				<span class="hljs-attribute">margin</span>: <span class="hljs-number">10px</span>;</span><br><span class="language-css">				<span class="hljs-attribute">background</span>: <span class="hljs-number">#666666</span>;</span><br><span class="language-css">				<span class="hljs-attribute">cursor</span>: pointer;</span><br><span class="language-css">				<span class="hljs-attribute">color</span>: white;</span><br><span class="language-css">				<span class="hljs-attribute">display</span>: block;</span><br><span class="language-css">			&#125;</span><br><span class="language-css">			<span class="hljs-selector-tag">p</span>&#123;</span><br><span class="language-css">				<span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>;</span><br><span class="language-css">				<span class="hljs-attribute">background</span>: <span class="hljs-number">#888</span>;</span><br><span class="language-css">				<span class="hljs-attribute">color</span>: white;</span><br><span class="language-css">				<span class="hljs-attribute">height</span>: <span class="hljs-number">16px</span>;</span><br><span class="language-css">			&#125;</span><br><span class="language-css">		</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br>		<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;jquery-1.7.2.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>		<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript"></span><br><span class="language-javascript">			$(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">				$(<span class="hljs-string">&quot;#content&quot;</span>).<span class="hljs-title function_">click</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">				<span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;这是div&quot;</span>);</span><br><span class="language-javascript">				&#125;);</span><br><span class="language-javascript"></span><br><span class="language-javascript">				$(<span class="hljs-string">&quot;span&quot;</span>).<span class="hljs-title function_">click</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">				<span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;这是span&quot;</span>);</span><br><span class="language-javascript">				<span class="hljs-comment">//return false;</span></span><br><span class="language-javascript">				&#125;);</span><br><span class="language-javascript">			&#125;)</span><br><span class="language-javascript">		</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>	<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br>	<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>		<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;content&quot;</span>&gt;</span><br>			外层div元素<br>			<span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>内层span元素<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>			外层div元素<br>		<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>		<br>		<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;msg&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>	<br>		<br>		<span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>		<span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;http://www.hao123.com&quot;</span>&gt;</span>WWW.HAO123.COM<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>	<br>	<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br><br><br></code></pre></td></tr></table></figure>

<h4 id="jQuery事件对象"><a href="#jQuery事件对象" class="headerlink" title="jQuery事件对象"></a>jQuery事件对象</h4><p>事件对象，是封装有触发的事件信息的一个javascript对象</p>
<p>我们重点关心的是怎么拿到这个javasccript的事件对象</p>
<p>再给元素绑定事件的时候，在事件的function参数列表中添加一个参数，这个event就是javasccript传递参事件处理函数的事件对象</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span> <span class="hljs-keyword">PUBLIC</span> <span class="hljs-string">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span> <span class="hljs-string">&quot;http://www.w3.org/TR/html4/loose.dtd&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;Content-Type&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;text/html; charset=UTF-8&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Insert title here<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/css&quot;</span>&gt;</span><span class="language-css"></span><br><span class="language-css"></span><br><span class="language-css">   <span class="hljs-selector-id">#areaDiv</span> &#123;</span><br><span class="language-css">      <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid black;</span><br><span class="language-css">      <span class="hljs-attribute">width</span>: <span class="hljs-number">300px</span>;</span><br><span class="language-css">      <span class="hljs-attribute">height</span>: <span class="hljs-number">50px</span>;</span><br><span class="language-css">      <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">10px</span>;</span><br><span class="language-css">   &#125;</span><br><span class="language-css">   </span><br><span class="language-css">   <span class="hljs-selector-id">#showMsg</span> &#123;</span><br><span class="language-css">      <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid black;</span><br><span class="language-css">      <span class="hljs-attribute">width</span>: <span class="hljs-number">300px</span>;</span><br><span class="language-css">      <span class="hljs-attribute">height</span>: <span class="hljs-number">20px</span>;</span><br><span class="language-css">   &#125;</span><br><span class="language-css"></span><br><span class="language-css"></span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;jquery-1.7.2.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript"></span><br><span class="language-javascript">   <span class="hljs-comment">//1.原生javascript获取 事件对象</span></span><br><span class="language-javascript">   <span class="hljs-comment">/*window.onload=function()&#123;</span></span><br><span class="hljs-comment"><span class="language-javascript">   document.getElementById(&quot;areaDiv&quot;).onclick=function(event)&#123;</span></span><br><span class="hljs-comment"><span class="language-javascript">   console.log(event);</span></span><br><span class="hljs-comment"><span class="language-javascript">   &#125;</span></span><br><span class="hljs-comment"><span class="language-javascript">   &#125;;*/</span></span><br><span class="language-javascript"></span><br><span class="language-javascript"></span><br><span class="language-javascript"></span><br><span class="language-javascript">   <span class="hljs-comment">//2.JQuery代码获取 事件对象</span></span><br><span class="language-javascript">   <span class="hljs-comment">/*$(function()&#123;</span></span><br><span class="hljs-comment"><span class="language-javascript"></span></span><br><span class="hljs-comment"><span class="language-javascript">   $(&quot;#areaDiv&quot;).click(function(event)&#123;</span></span><br><span class="hljs-comment"><span class="language-javascript">   console.log(event);</span></span><br><span class="hljs-comment"><span class="language-javascript"></span></span><br><span class="hljs-comment"><span class="language-javascript">   &#125;);</span></span><br><span class="hljs-comment"><span class="language-javascript">   &#125;);*/</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">   <span class="hljs-comment">//3.使用bind同时对多个事件绑定同一个函数。怎么获取当前操作是什么事件。</span></span><br><span class="language-javascript">    <span class="hljs-comment">//这个操作可以让bind绑定的多个事件做不一样的事情</span></span><br><span class="language-javascript">    $(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">    $(<span class="hljs-string">&quot;#areaDiv&quot;</span>).<span class="hljs-title function_">bind</span>(<span class="hljs-string">&quot;mouseout mouseover&quot;</span>,<span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>)&#123;</span><br><span class="language-javascript">    <span class="hljs-keyword">if</span>(event.<span class="hljs-property">type</span>==<span class="hljs-string">&quot;mouseover&quot;</span>)&#123;</span><br><span class="language-javascript">    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;鼠标移入&quot;</span>);</span><br><span class="language-javascript">    &#125;</span><br><span class="language-javascript">    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(event.<span class="hljs-property">type</span>==<span class="hljs-string">&quot;mouseout&quot;</span>)</span><br><span class="language-javascript">    &#123;</span><br><span class="language-javascript">    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;鼠标移出&quot;</span>);</span><br><span class="language-javascript">    &#125;</span><br><span class="language-javascript"></span><br><span class="language-javascript">    &#125;);</span><br><span class="language-javascript">    &#125;);</span><br><span class="language-javascript"></span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br><br>   <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;areaDiv&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;showMsg&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>



<h4 id="jQuery练习，图片跟随"><a href="#jQuery练习，图片跟随" class="headerlink" title="jQuery练习，图片跟随"></a>jQuery练习，图片跟随</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;!<span class="hljs-variable constant_">DOCTYPE</span> html <span class="hljs-variable constant_">PUBLIC</span> <span class="hljs-string">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span> <span class="hljs-string">&quot;http://www.w3.org/TR/html4/loose.dtd&quot;</span>&gt;<br>&lt;html&gt;<br>&lt;head&gt;<br>&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;<br>&lt;title&gt;Insert title here&lt;/title&gt;<br>&lt;style type=&quot;text/css&quot;&gt;<br>   body &#123;<br>      text-align: center;<br>   &#125;<br>   #small &#123;<br>      margin-top: 150px;<br>   &#125;<br>   #showBig &#123;<br>      position: absolute;<br>      display: none;<br>   &#125;<br>&lt;/style&gt;<br>&lt;script type=&quot;text/javascript&quot; src=&quot;script/jquery-1.7.2.js&quot;&gt;&lt;/script&gt;<br>&lt;script type=&quot;text/javascript&quot;&gt;<br>   $(function()&#123;<br>      $(&quot;#small&quot;).bind(&quot;mouseover mouseout mousemove&quot;,function(event)&#123;<br>             if(event.type==&quot;mouseover&quot;)&#123;<br>             $(&quot;#showBig&quot;).show();<br>             &#125;<br>             else if(event.type==&quot;mouseout&quot;)&#123;<br>             $(&quot;#showBig&quot;).hide();<br>             &#125;<br>             else if(event.type==&quot;mousemove&quot;)&#123;<br>             $(&quot;#showBig&quot;).offset(&#123;<br>             left:event.pageX+10,<br>             top:event.pageY+10<br>             &#125;);<br>             &#125;<br><br><br><br><br>      &#125;);<br>   &#125;);<br>&lt;/script&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br><br>   &lt;img id=&quot;small&quot; src=&quot;img/small.jpg&quot; /&gt;<br>   <br>   &lt;div id=&quot;showBig&quot;&gt;<br>      &lt;img src=&quot;img/big.jpg&quot;&gt;<br>   &lt;/div&gt;<br><br>&lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>

<h4 id="书城项目的第一个阶段表单验证"><a href="#书城项目的第一个阶段表单验证" class="headerlink" title="书城项目的第一个阶段表单验证"></a>书城项目的第一个阶段表单验证</h4><p>规定了注册时用户名密码的格式，以及错误提示等等，</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;!<span class="hljs-variable constant_">DOCTYPE</span> html&gt;<br>&lt;html&gt;<br>&lt;head&gt;<br>&lt;meta charset=&quot;UTF-8&quot;&gt;<br>&lt;title&gt;尚硅谷会员注册页面&lt;/title&gt;<br>&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;../../static/css/style.css&quot; &gt;<br>	&lt;script src=&quot;../../static/script/jquery-1.7.2.js&quot;&gt;&lt;/script&gt;<br>	&lt;script&gt;<br>	$(function()&#123;<br>	//1.验证用户名，必须由数字字母下划线组成，并且长度为5到12位<br>		$(&quot;#sub_btn&quot;).click(function()&#123;<br>		//1.获取用户名输入框中的内容<br>		var username=$(&quot;#username&quot;).val();<br>		//2.创建正则表达式对象<br>		var pattern=/^\w&#123;5,12&#125;$/;<br>		//3.使用test方法进行验证<br>		if(!pattern.test(username))&#123;<br>		$(&quot;span.errorMsg&quot;).text(&quot;用户名不合法&quot;);<br>		//有了return false不会跳转<br>				return false;<br>		&#125;<br>//2.验证密码<br>		//1.获取用户名输入框中的内容<br>		var password=$(&quot;#password&quot;).val();<br>		//2.创建正则表达式对象<br>		var pspattern=/^\w&#123;5,12&#125;$/;<br>		//3.使用test方法进行验证<br>		if(!pspattern.test(password))&#123;<br>		$(&quot;span.errorMsg&quot;).text(&quot;密码不合法&quot;);<br>		//有了return false不会跳转<br>				return false;<br>		&#125;<br><br><br>//3.确认密码<br>        //1.获取确认密码内容<br>        var repassword =$(&quot;#repwd&quot;).val();<br>        if(repassword!=password)&#123;<br>        $(&quot;span.errorMsg&quot;).text(&quot;确认密码与密码不一致&quot;);<br>        return false;<br>        &#125;<br><br>//4.验证邮箱<br>        //1.获取邮箱当中的内容<br>        var emailText=$(&quot;#email&quot;).val();<br>        var emailpt=/^([a-z0-9_\.-]+)@([\da-z\.-]+)\.([a-z\.]&#123;2,6&#125;)$/;<br>        if(!emailpt.test(emailText))&#123;<br>        $(&quot;span.errorMsg&quot;).text(&quot;邮箱格式不合法&quot;);<br>        return false;<br>        &#125;<br><br><br>//5.验证码，验证由输入内容即可<br>        var codeText=$(&quot;#code&quot;).val();<br>        //去掉验证码前后空格<br>        codeText=$.trim(codeText);<br>        if(codeText==null||codeText==&quot;&quot;)&#123;<br>        $(&quot;span.errorMsg&quot;).text(&quot;无验证码&quot;);<br>        return false;<br>        &#125;<br><br>        		$(&quot;span.errorMsg&quot;).text(&quot;&quot;);//如果用户名密码邮箱又合法了再给他改过来<br>&#125;);<br>		&#125;);<br><br>	&lt;/script&gt;<br>&lt;style type=&quot;text/css&quot;&gt;<br>	.login_form&#123;<br>		height:420px;<br>		margin-top: 25px;<br>	&#125;<br>	<br>&lt;/style&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>		&lt;div id=&quot;login_header&quot;&gt;<br>			&lt;img class=&quot;logo_img&quot; alt=&quot;&quot; src=&quot;../../static/img/logo.gif&quot; &gt;<br>		&lt;/div&gt;<br>		<br>			&lt;div class=&quot;login_banner&quot;&gt;<br>			<br>				&lt;div id=&quot;l_content&quot;&gt;<br>					&lt;span class=&quot;login_word&quot;&gt;欢迎注册&lt;/span&gt;<br>				&lt;/div&gt;<br>				<br>				&lt;div id=&quot;content&quot;&gt;<br>					&lt;div class=&quot;login_form&quot;&gt;<br>						&lt;div class=&quot;login_box&quot;&gt;<br>							&lt;div class=&quot;tit&quot;&gt;<br>								&lt;h1&gt;注册尚硅谷会员&lt;/h1&gt;<br>								&lt;span class=&quot;errorMsg&quot;&gt;&lt;/span&gt;<br>							&lt;/div&gt;<br>							&lt;div class=&quot;form&quot;&gt;<br>								&lt;form action=&quot;regist_success.html&quot;&gt;<br>									&lt;label&gt;用户名称：&lt;/label&gt;<br>									&lt;input class=&quot;itxt&quot; type=&quot;text&quot; placeholder=&quot;请输入用户名&quot; autocomplete=&quot;off&quot; tabindex=&quot;1&quot; name=&quot;username&quot; id=&quot;username&quot; /&gt;<br>									&lt;br /&gt;<br>									&lt;br /&gt;<br>									&lt;label&gt;用户密码：&lt;/label&gt;<br>									&lt;input class=&quot;itxt&quot; type=&quot;password&quot; placeholder=&quot;请输入密码&quot; autocomplete=&quot;off&quot; tabindex=&quot;1&quot; name=&quot;password&quot; id=&quot;password&quot; /&gt;<br>									&lt;br /&gt;<br>									&lt;br /&gt;<br>									&lt;label&gt;确认密码：&lt;/label&gt;<br>									&lt;input class=&quot;itxt&quot; type=&quot;password&quot; placeholder=&quot;确认密码&quot; autocomplete=&quot;off&quot; tabindex=&quot;1&quot; name=&quot;repwd&quot; id=&quot;repwd&quot; /&gt;<br>									&lt;br /&gt;<br>									&lt;br /&gt;<br>									&lt;label&gt;电子邮件：&lt;/label&gt;<br>									&lt;input class=&quot;itxt&quot; type=&quot;text&quot; placeholder=&quot;请输入邮箱地址&quot; autocomplete=&quot;off&quot; tabindex=&quot;1&quot; name=&quot;email&quot; id=&quot;email&quot; /&gt;<br>									&lt;br /&gt;<br>									&lt;br /&gt;<br>									&lt;label&gt;验证码：&lt;/label&gt;<br>									&lt;input class=&quot;itxt&quot; type=&quot;text&quot; style=&quot;width: 150px;&quot; id=&quot;code&quot;/&gt;<br>									&lt;img alt=&quot;&quot; src=&quot;../../static/img/code.bmp&quot; style=&quot;float: right; margin-right: 40px&quot;&gt;									<br>									&lt;br /&gt;<br>									&lt;br /&gt;<br>									&lt;input type=&quot;submit&quot; value=&quot;注册&quot; id=&quot;sub_btn&quot; /&gt;<br>									<br>								&lt;/form&gt;<br>							&lt;/div&gt;<br>							<br>						&lt;/div&gt;<br>					&lt;/div&gt;<br>				&lt;/div&gt;<br>			&lt;/div&gt;<br>		&lt;div id=&quot;bottom&quot;&gt;<br>			&lt;span&gt;<br>				尚硅谷书城.Copyright &amp;copy;2015<br>			&lt;/span&gt;<br>		&lt;/div&gt;<br>&lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>

<h1 id="XML"><a href="#XML" class="headerlink" title="XML"></a>XML</h1><p>什么是XML？</p>
<p>xml是可扩展性标记性语言</p>
<p>XML的作用</p>
<p>​        1.用来保存数据，而且这些数据具有自我描述性</p>
<p>​         2.它还可以做为项目或者模块的配置文件</p>
<p>​        3.还可以作为网络传输数据的格式(JSON为主)</p>
<p>示例</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;utf-8&quot;</span>?&gt;<br>&lt;!--<br>&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;utf-8&quot;</span>?&gt;<br>以上内容就是xml文件的声明<br>version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;utf-8&quot;</span>    version表示xml的版本  encoding表示xml文件本身的编码<br>--&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">books</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">book</span> <span class="hljs-attr">sb</span>=<span class="hljs-string">&quot;SN123412123412&quot;</span>&gt;</span><span class="hljs-comment">&lt;!--book表示一个图书信息   sn属性表示图书序列号--&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>时间监视<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span><span class="hljs-comment">&lt;!--name标签表示书名--&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">author</span>&gt;</span>霍金<span class="hljs-tag">&lt;/<span class="hljs-name">author</span>&gt;</span><span class="hljs-comment">&lt;!--author表示作者--&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">price</span>&gt;</span>75<span class="hljs-tag">&lt;/<span class="hljs-name">price</span>&gt;</span><span class="hljs-comment">&lt;!--price表示图书价格--&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">book</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">book</span> <span class="hljs-attr">sb</span>=<span class="hljs-string">&quot;SN123412123411&quot;</span>&gt;</span><span class="hljs-comment">&lt;!--book表示一个图书信息   sn属性表示图书序列号--&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>java入门<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span><span class="hljs-comment">&lt;!--name标签表示书名--&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">author</span>&gt;</span>沙老师<span class="hljs-tag">&lt;/<span class="hljs-name">author</span>&gt;</span><span class="hljs-comment">&lt;!--author表示作者--&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">price</span>&gt;</span>9.9<span class="hljs-tag">&lt;/<span class="hljs-name">price</span>&gt;</span><span class="hljs-comment">&lt;!--price表示图书价格--&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">book</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">books</span>&gt;</span></span><br></code></pre></td></tr></table></figure>





<p>XML文件的写法</p>
<p>1-2 </p>
<p>xml 发明的<strong>目的</strong>：  <strong>传输和 存储数据。</strong></p>
<p>**xml 发明的*<em>目的*<em>：  *<em>传输和 存储数据。*</em></em></em></p>
<p>xml 发明的<strong>目的</strong>：  <strong>传输和 存储数据。</strong></p>
<p>**xml 发明的*<em>目的*<em>：  *<em>传输和 存储数据。*</em></em></em></p>
<p><strong>xml 不是为了展示数据，</strong></p>
<p><strong>html 才是为了展示数据用的。</strong> </p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209291643448.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20220917161433670"></p>
<p>所有的<strong>xml</strong> 必须要<strong>有一个根节点</strong>： </p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209291643450.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="1013846-20210808203953565-117336166"></p>
<p>这种写法是错误的 </p>
<p>正确的写法：</p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209291643451.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="1"></p>
<p>浏览器展示</p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209291643452.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20220917163634579"></p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209291643453.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20220917163657572"></p>
<h2 id="第二章：-xml的-基本语法。"><a href="#第二章：-xml的-基本语法。" class="headerlink" title="第二章： xml的 基本语法。"></a>第二章： xml的 基本语法。</h2><p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209291643454.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20220917163709935"></p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209291643455.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20220917163722062"></p>
<p>Xml的头声明， 可以有，也可以省略</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;utf-8&quot;</span>?&gt;</span><br>&quot;&quot;&quot;version参数是版本号&quot;&quot;&quot;  encoding是编码<br><span class="hljs-comment">&lt;!--&lt;a&gt;ddd &lt;b&gt;hh&lt;/a&gt;&lt;/b&gt;--&gt;</span><br>&quot;&quot;&quot;这里是一个xml文件的一个注释&quot;&quot;&quot;<br><span class="hljs-tag">&lt;<span class="hljs-name">root</span>&gt;</span><br><br>  <span class="hljs-tag">&lt;<span class="hljs-name">shuibian</span>&gt;</span>....<span class="hljs-tag">&lt;/<span class="hljs-name">shuibian</span>&gt;</span><br><br>  <span class="hljs-tag">&lt;<span class="hljs-name">xie</span>&gt;</span>...<span class="hljs-tag">&lt;/<span class="hljs-name">xie</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">root</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209291643456.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20220917163734405"></p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209291643457.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20220917163749487"></p>
<p>标签交叉，在xml 是不允许的。</p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209291643458.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20220917163803928"></p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209291643459.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20220917163815433"></p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209291643460.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20220917163829643"></p>
<p>属性：就是描述这个标签额外的信息。</p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209291643461.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20220917163844467"></p>
<p>例子：比如img 标签，必须要有 src属性 。</p>
<p>Img 标签，本身的目的：就是个图片标签 。</p>
<p>Src 属性 的作用是： 告诉你要展示的图片 在哪里</p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209291643462.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20220917163859302"></p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209291643463.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20220917163912615"></p>
<p>属性规则：</p>
<p>但是在xml中，我们不需要额外的信息进行展示。</p>
<p>因为我们是自定义标签的 。</p>
<p>Html标签，必须要用到属性，因为我们不能自定义html标签。</p>
<p>Xml 中，属性就是鸡肋。</p>
<p>属性，在xml中可以用。但是用的真不多</p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209291643464.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20220917163927505"></p>
<p>CDATA的写法</p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209291643465.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20220917163938534"></p>
<p>展示效果：</p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209291643466.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20220917164019883"></p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209291643467.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20220917164032816"></p>
<h2 id="DTD"><a href="#DTD" class="headerlink" title="DTD"></a>DTD</h2><p><strong>简介</strong></p>
<p>1.对xml文件的格式进行约束，保证xml是一个有效的xml</p>
<p>2.dtd可以分为两种，内部dtd(你在写xml代码的时候就把内部dtd写好了)，外部dtd(他是一个外部的单独的dtd文件，需要引入进来)</p>
<p><strong>使用</strong></p>
<p><strong>内部的dtd</strong>的定义，语法如下：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;utf-8&quot;</span>?&gt;</span><br><span class="hljs-comment">&lt;!--声明dtd--&gt;</span><br><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">scores</span> [</span><br><span class="hljs-meta"><span class="hljs-meta">&lt;!ELEMENT <span class="hljs-keyword">scores</span> (<span class="hljs-keyword">student</span>*)&gt;</span></span><br><span class="hljs-meta">&lt;!--这里的星号表示出现任意次--&gt;</span><br><span class="hljs-meta"><span class="hljs-meta">&lt;!ELEMENT <span class="hljs-keyword">student</span> (<span class="hljs-keyword">name</span>,<span class="hljs-keyword">course</span>,<span class="hljs-keyword">score</span>)&gt;</span></span><br><span class="hljs-meta"><span class="hljs-meta">&lt;!ATTLIST <span class="hljs-keyword">student</span> <span class="hljs-keyword">id</span> <span class="hljs-keyword">CDATA</span> <span class="hljs-keyword">#REQUIRED</span>&gt;</span></span><br><span class="hljs-meta"><span class="hljs-meta">&lt;!ELEMENT <span class="hljs-keyword">name</span> (<span class="hljs-keyword">#PCDATA</span>)&gt;</span></span><br><span class="hljs-meta"><span class="hljs-meta">&lt;!ELEMENT <span class="hljs-keyword">score</span> (<span class="hljs-keyword">#PCDATA</span>)&gt;</span></span><br><span class="hljs-meta"><span class="hljs-meta">&lt;!ELEMENT <span class="hljs-keyword">course</span> (<span class="hljs-keyword">#PCDATA</span>)&gt;</span></span><br><span class="hljs-meta">&lt;!--让name标签里面只能写文本而不能写其他的标签之类的--&gt;</span><br><span class="hljs-meta">&lt;!--PCDATA 是会被解析器解析的文本。. 这些文本将被解析器检查实体以及标记。. 文本中的标签会被当作标记来处理，而实体会被展开。. 不过，被解析的字符数据不应当包含任何 &amp; &lt; &gt; 字符；需要使用 &amp; &lt; &gt; 实体来分别替换它们--&gt;</span><br><span class="hljs-meta"><span class="hljs-meta">&lt;!ENTITY <span class="hljs-keyword">jt</span> <span class="hljs-string">&quot;Joe Test&quot;</span>&gt;</span></span><br><span class="hljs-meta">&lt;!--实例--&gt;</span><br><span class="hljs-meta"><span class="hljs-meta">&lt;!ENTITY % <span class="hljs-keyword">jtt</span> <span class="hljs-string">&quot;Joe Test&quot;</span>&gt;</span></span><br><span class="hljs-meta">&lt;!--这相当于声明了一个对象，只能在dtd文件中使用,用的时候就是%jjt;--&gt;</span><br><span class="hljs-meta">&lt;scores&gt;</span><br><span class="hljs-meta">  &lt;student id=&quot;1&quot;&gt;</span><br><span class="hljs-meta">     &lt;name&gt;王同&lt;/name&gt;</span><br><span class="hljs-meta">     &lt;course&gt;java&lt;/course&gt;</span><br><span class="hljs-meta">     &lt;score&gt;89&lt;/score&gt;</span><br><span class="hljs-meta">  &lt;/student&gt;</span><br><span class="hljs-meta">  &lt;student id=&quot;2&quot;&gt;</span><br><span class="hljs-meta">     &lt;name&gt;李佳&lt;/name&gt;</span><br><span class="hljs-meta">     &lt;course&gt;sql&lt;/course&gt;</span><br><span class="hljs-meta">     &lt;score&gt;58&lt;/score&gt;</span><br><span class="hljs-meta">     &lt;test&gt;&amp;jt;&lt;/test&gt;</span><br><span class="hljs-meta">     &lt;!--实例，这里的;不会显示--&gt;</span><br><span class="hljs-meta">  &lt;/student&gt;</span><br><span class="hljs-meta">&lt;/scores&gt;</span><br><span class="hljs-meta"></span><br><span class="hljs-meta"></span><br><span class="hljs-meta"></span><br><span class="hljs-meta">]&gt;</span><br><span class="hljs-comment">&lt;!--加入了dtd之后，写xml文件之后就有模板有提示了--&gt;</span><br><br><br></code></pre></td></tr></table></figure>

<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs xml">这就是<span class="hljs-meta">&lt;!ATTLIST <span class="hljs-keyword">student</span> <span class="hljs-keyword">id</span> <span class="hljs-keyword">CDATA</span> <span class="hljs-keyword">#REQUIRED</span>&gt;</span>条代码的解释<br>基本语法：<span class="hljs-meta">&lt;!ATTLIST  元素名称  属性名称  属性类型  默认值&gt;</span><br><br>上面对id属性的限制的最后一个参数类型有<br><br>#REQUIRED 表示属性值必须<br><br>#IMPLIED   表示属性值不是必须的<br><br>#FIXED value  属性值是固定的<br>值      默认值<br><br><br>上面对id属性的限制倒数第二个参数类型有<br><br>CDATA    字符或数字<br><br>(en1|en2|……)  枚举类型<br><br> ID    属性唯一<br><br>IDREF   对某个唯一属性进行引用<br></code></pre></td></tr></table></figure>



<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;!ELEMENT 元素名称 类别&gt;</span> 或<span class="hljs-meta">&lt;!ELEMENT 元素名称 (元素内容)&gt;</span><br>类别：约束标签的内容<br><br>EMPTY：空标签<br><br>(#PCDATA)：普通字符串（没有子标签）<br><br>ANY ： 可以是任何内容（包含子标签）<br><br>(元素内容)： 标签包含子标签的情况<br><br>顺序问题：<br>(A,B,C,D): 按顺序依次出现<br><br>(A|B|C|D): 任意出现一个(枚举式出现)<br></code></pre></td></tr></table></figure>



<p>数量词</p>
<p>+ 表示出现一次或者多次，至少一次</p>
<p>?表示出现0次或1次</p>
<p>*表示出现任意次</p>
<p><strong>外部dtd</strong></p>
<p>1.创建一个外部的dtd文件</p>
<p>这是一个文件的格式</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs dtd">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;<br><br>&lt;!--声明dtd--&gt;<br><br>&lt;!ELEMENT scores (student*)&gt;<br>&lt;!--上面的空格是必须要有的--&gt;<br><br>&lt;!--这里的星号表示出现任意次--&gt;<br><br>&lt;!ELEMENT student (name,course,score)&gt;<br><br>&lt;!ATTLIST student id CDATA #REQUIRED&gt;<br><br>&lt;!ELEMENT name (#PCDATA)&gt;<br><br>&lt;!ELEMENT score (#PCDATA)&gt;<br><br>&lt;!ELEMENT course (#PCDATA)&gt;<br></code></pre></td></tr></table></figure>

<p>2.在xml中引入一个外部的dtd文件</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;!DPCTYPE <span class="hljs-keyword">scores</span> <span class="hljs-keyword">SYSTEM</span> “scores.dtd<span class="hljs-string">&quot;&gt;</span></span><br></code></pre></td></tr></table></figure>

<p>这有的浏览器对其可能不支持</p>
<p>第二个是根标签，scores.dtd是一个要引入的文件，SYSTEM也是必要的</p>
<p><strong>ENTITY的使用实例</strong></p>
<p>关于ENTITY的讲解，在xxe漏洞当中介绍</p>
<h2 id="XML解析技术介绍"><a href="#XML解析技术介绍" class="headerlink" title="XML解析技术介绍"></a>XML解析技术介绍</h2><p>xml 可扩展的标记语言。 </p>
<p>不管是 html 文件还是 xml 文件它们都是标记型文档，都可以使用 w3c 组织制定的 dom 技术来解析</p>
<p>document 对象表示的是整个文档（可以是 html 文档，也可以是 xml 文档）</p>
<h2 id="使用dom4j读取xml文件得到document对象"><a href="#使用dom4j读取xml文件得到document对象" class="headerlink" title="使用dom4j读取xml文件得到document对象"></a>使用dom4j读取xml文件得到document对象</h2><p>dom4j的使用直接看pdf</p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209291643468.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20220917222951542"></p>
<p>被用来解析的xml文件</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">books</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">book</span> <span class="hljs-attr">sn</span>=<span class="hljs-string">&quot;SN12341232&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>辟邪剑谱<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">price</span>&gt;</span>9.9<span class="hljs-tag">&lt;/<span class="hljs-name">price</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">author</span>&gt;</span>班主任<span class="hljs-tag">&lt;/<span class="hljs-name">author</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">book</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">book</span> <span class="hljs-attr">sn</span>=<span class="hljs-string">&quot;SN12341231&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>葵花宝典<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">price</span>&gt;</span>99.99<span class="hljs-tag">&lt;/<span class="hljs-name">price</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">author</span>&gt;</span>班长<span class="hljs-tag">&lt;/<span class="hljs-name">author</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">book</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">books</span>&gt;</span><br></code></pre></td></tr></table></figure>



<p>解析xml文件的代码</p>
<p>@Test是指一个测试方法，这个方法使用需要导包导关于junit4的包</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> com.atguigu.pojo.Book;<br><span class="hljs-keyword">import</span> org.dom4j.Document;<br><span class="hljs-keyword">import</span> org.dom4j.DocumentException;<br><span class="hljs-keyword">import</span> org.dom4j.Element;<br><span class="hljs-keyword">import</span> org.dom4j.io.SAXReader;<br><span class="hljs-keyword">import</span> org.junit.Test;<br><br><span class="hljs-keyword">import</span> java.util.List;<br><br><span class="hljs-keyword">import</span> <span class="hljs-keyword">static</span> java.lang.Double.parseDouble;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Dom4jTest</span> &#123;<br><br>    <span class="hljs-meta">@Test</span><span class="hljs-comment">//是指这是一个测试方法，可以不用主方法来调用</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test1</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> DocumentException &#123;<br>        <span class="hljs-comment">//创建一个SaxReader输入流，去读取xml配置文件，生成Document对象</span><br>        SAXReader saxReader=<span class="hljs-keyword">new</span> <span class="hljs-title class_">SAXReader</span>();<br>        <span class="hljs-type">Document</span> <span class="hljs-variable">document</span> <span class="hljs-operator">=</span> saxReader.read(<span class="hljs-string">&quot;src/books.xml&quot;</span>);<br>        System.out.println(document);<br>    &#125;<br><br><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test2</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> DocumentException &#123;<br>        <span class="hljs-comment">//1.读取books.xml文件</span><br>        SAXReader reader= <span class="hljs-keyword">new</span> <span class="hljs-title class_">SAXReader</span>();<br>        <span class="hljs-comment">// 2.通过Document对象获取根元素</span><br>        <span class="hljs-comment">//在Junit测试中，相对路径是从模块开始的也就是从xml模块开始的，所以路径中第一个是src</span><br>        <span class="hljs-type">Document</span> <span class="hljs-variable">read</span> <span class="hljs-operator">=</span> reader.read(<span class="hljs-string">&quot;src/books.xml&quot;</span>);<br>        <span class="hljs-comment">//3.通过根元素获取book标签对象</span><br>        <span class="hljs-type">Element</span> <span class="hljs-variable">element</span> <span class="hljs-operator">=</span> read.getRootElement();<br>        <span class="hljs-comment">//element()和elements()都是通过标签名查找子元素，elements()返回多个，element()返回一个</span><br>        List&lt;Element&gt; books = element.elements(<span class="hljs-string">&quot;book&quot;</span>);<br>        <span class="hljs-comment">//4.遍历，处理每个book标签转化为Book类</span><br>        <span class="hljs-keyword">for</span>(Element book:books)&#123;<br>            <span class="hljs-comment">//asXML()把标签对象转换为标签字符串</span><br>            Element nameElement=book.element(<span class="hljs-string">&quot;name&quot;</span>);<br>            <span class="hljs-comment">//getText()获取标签文本内容</span><br>            String nameText=nameElement.getText();<br>            <span class="hljs-comment">//直接获取指定标签名的文本内容</span><br>            String priceText=book.elementText(<span class="hljs-string">&quot;price&quot;</span>);<br>            String authorText=book.elementText(<span class="hljs-string">&quot;author&quot;</span>);<br><br>            <span class="hljs-comment">//获取属性值</span><br>            String snValue=book.attributeValue(<span class="hljs-string">&quot;sn&quot;</span>);<br>            System.out.println(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Book</span>(snValue,nameText,parseDouble(priceText),authorText));<br><br>        &#125;<br><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="Idea文件结构"><a href="#Idea文件结构" class="headerlink" title="Idea文件结构"></a>Idea文件结构</h2><p>项目-&gt;模块-&gt;包</p>
<p>src文件夹中放置你的源代码，out目录放置src文件夹里面的java程序</p>
<h1 id="Tomcat"><a href="#Tomcat" class="headerlink" title="Tomcat"></a>Tomcat</h1><h2 id="javaweb概念"><a href="#javaweb概念" class="headerlink" title="javaweb概念"></a>javaweb概念</h2><p>javaweb是指所有通过java语言编写的可以通过浏览器访问的程序的总成称叫javaweb</p>
<p>java是基于请求和响应来开发的</p>
<p><strong>什么是请求</strong></p>
<p>请求是指客户端发给服务器发送数据，叫请求request</p>
<p><strong>什么是响应</strong></p>
<p>相应是指服务器给客户端回传数据，叫响应reponse</p>
<p><strong>请求和响应的关系</strong></p>
<p>成对出现的，有请求就有回应</p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209291643469.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20220918100658314"></p>
<p><strong>2.Web 资源的分类</strong></p>
<p> web 资源按实现的技术和呈现的效果的不同，又分为静态资源和动态资源两种。 </p>
<p>静态资源： html、css、js、txt、mp4 视频 , jpg 图片 </p>
<p>动态资源： jsp 页面、Servlet 程序</p>
<p>3.常用的 Web 服务器 </p>
<p>Tomcat：由 Apache 组织提供的一种 Web 服务器，提供对 jsp 和 Servlet 的支持。它是一种轻量级的 javaWeb 容器（服务 器），也是当前应用最广的 JavaWeb 服务器（免费）。 </p>
<p>Jboss：是一个遵从 JavaEE 规范的、开放源代码的、纯 Java 的 EJB 服务器，它支持所有的 JavaEE 规范（免费）。 </p>
<p>GlassFish： 由 Oracle 公司开发的一款 JavaWeb 服务器，是一款强健的商业服务器，达到产品级质量（应用很少）。 </p>
<p>Resin：是 CAUCHO 公司的产品，是一个非常流行的服务器，对 servlet 和 JSP 提供了良好的支持， 性能也比较优良，resin 自身采用 JAVA 语言开发（收费，应用比较多）。 </p>
<p>WebLogic：是 Oracle 公司的产品，是目前应用最广泛的 Web 服务器，支持 JavaEE 规范， 而且不断的完善以适应新的开发要求，适合大型项目（收费，用的不多，适合大公司）。</p>
<p><strong>Tomcat服务器和Servelet版本的对应关系</strong></p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209291643470.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20220918102346974"></p>
<h2 id="Tomcat使用"><a href="#Tomcat使用" class="headerlink" title="Tomcat使用"></a>Tomcat使用</h2><p>安装 找到你需要用的 Tomcat 版本对应的 zip 压缩包，解压到需要安装的目录即可。</p>
<h3 id="目录介绍"><a href="#目录介绍" class="headerlink" title="目录介绍"></a>目录介绍</h3><p>bin          专门用来存放 Tomcat 服务器的可执行程序 </p>
<p>conf         专门用来存放 Tocmat 服务器的配置文件 </p>
<p>lib            专门用来存放 Tomcat 服务器的 jar 包 </p>
<p>logs             专门用来存放 Tomcat 服务器运行时输出的日记信息 </p>
<p>temp             专门用来存放 Tomcdat 运行时产生的临时数据 </p>
<p>webapps      专门用来存放部署的 Web 工程。 </p>
<p>work          是 Tomcat 工作时的目录，用来存放 Tomcat 运行时 jsp 翻译为 Servlet 的源码，和 Session 钝化（序列化）的目录</p>
<p><strong>如何启动tomcat服务器</strong></p>
<p>找到 Tomcat 目录下的 bin 目录下的 startup.bat 文件，双击，就可以启动 Tomcat 服务器</p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209291643471.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20220918124637456"></p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209291643472.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20220918124707554"></p>
<p><strong>另一种启动Tomcat服务器的方式</strong></p>
<p>1、打开命令行 </p>
<p>2、cd 到 你的 Tomcat 的 bin 目录下 </p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209291643473.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20220918130712935"></p>
<p>3、敲入启动命令： catalina ru</p>
<p>直接在命令行里输入D:就可以进入D盘</p>
<h3 id="Tomcat的停止"><a href="#Tomcat的停止" class="headerlink" title="Tomcat的停止"></a>Tomcat的停止</h3><p>1、点击 tomcat 服务器窗口的 x 关闭按钮 </p>
<p>2、把 Tomcat 服务器窗口置为当前窗口，然后按快捷键 Ctrl+C</p>
<p> 3、找到 Tomcat 的 bin 目录下的 shutdown.bat 双击，就可以停止 Tomcat 服务器</p>
<h3 id="如何修改Tomcat默认的端口号"><a href="#如何修改Tomcat默认的端口号" class="headerlink" title="如何修改Tomcat默认的端口号"></a>如何修改Tomcat默认的端口号</h3><p>Mysql 默认的端口号是：3306 </p>
<p>Tomcat 默认的端口号是：8080 </p>
<p>找到 Tomcat 目录下的 conf 目录，找到 server.xml 配置文件。</p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209291643474.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20220918132017144"></p>
<p>修改port属性来修改服务器端口</p>
<h3 id="如何把web工程部署到tomcat服务器中"><a href="#如何把web工程部署到tomcat服务器中" class="headerlink" title="如何把web工程部署到tomcat服务器中"></a>如何把web工程部署到tomcat服务器中</h3><p>第一种方法：只需要把web工程的目录拷贝到Tomcat服务器的webapps目录下即可</p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209291643475.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20220918134335523"></p>
<p>第二种方法</p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209291643476.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20220918135319528"></p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs awk">http:<span class="hljs-regexp">//</span>localhost:<span class="hljs-number">8080</span><span class="hljs-regexp">/abc/i</span>ndex.html<br><br><br></code></pre></td></tr></table></figure>

<p>这个xml文件名和那个path不一定非得一样，且这个xml文件在变成xml文件之前必须是UTF-8的记事本文件，然后改名为xml文件</p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209291643477.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20220918144329941"></p>
<p>1.让txt文件变成html文件被访问的时候，用ANSI编码格式，否则会出现乱码</p>
<h3 id="Tomcat中创建动态的web工程"><a href="#Tomcat中创建动态的web工程" class="headerlink" title="Tomcat中创建动态的web工程"></a>Tomcat中创建动态的web工程</h3><p>csdn中记载那样创建</p>
<p>先创建一个java模块，然后右键java模块找到add framework support</p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209291643478.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20220920121015195"></p>
<p>再在WEB-INF目录里创建lib目录，存放jar包，将jar复制进去之后，右键jar包，选add as libray</p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209291643479.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20220920121255710"></p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209291643480.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20220920121310644"></p>
<p>Application server  是自己找到那个自己的Tomcat</p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209291643481.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20220920121325671"></p>
<p><img src="https://img-blog.csdnimg.cn/68743a3a6bed43db9d196ee788ed76f7.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAQllCU1hI,size_20,color_FFFFFF,t_70,g_se,x_16" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="img"></p>
<h3 id="如何在-IDEA-中部署工程到-Tomcat-上运行"><a href="#如何在-IDEA-中部署工程到-Tomcat-上运行" class="headerlink" title="如何在 IDEA 中部署工程到 Tomcat 上运行"></a>如何在 IDEA 中部署工程到 Tomcat 上运行</h3><p>看pdf文件即可</p>
<h3 id="如何给Tomcat添加第三方jar包"><a href="#如何给Tomcat添加第三方jar包" class="headerlink" title="如何给Tomcat添加第三方jar包"></a>如何给Tomcat添加第三方jar包</h3><p>看pdf即可</p>
<h1 id="Servlet"><a href="#Servlet" class="headerlink" title="Servlet"></a>Servlet</h1><p>路径</p>
<p><strong>什么是·Servlet</strong></p>
<p>1.Servlet是javaEE规范之一，规范就是接口</p>
<p>2.Servlet是javaweb三大组件之一，三大组件分别是servlet程序，filter过滤器，listener监听器</p>
<p>3.Servlet是运行在服务器上的Java小程序，它可以接受客户端发送过来的请求，并响应数据给客户端</p>
<h2 id="手动实现Servlet程序"><a href="#手动实现Servlet程序" class="headerlink" title="手动实现Servlet程序"></a>手动实现Servlet程序</h2><p>1.编写一个类去实现Servlet接口</p>
<p>2.实现service方法，处理请求，并响应数据</p>
<p>3.到web.xml中配置servlet程序的访问地址</p>
<p>实现servlet接口的程序</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.servlet;<br><span class="hljs-keyword">import</span> javax.servlet.*;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HelloServlet</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Servlet</span> &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">init</span><span class="hljs-params">(ServletConfig servletConfig)</span> <span class="hljs-keyword">throws</span> ServletException &#123;<br><br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> ServletConfig <span class="hljs-title function_">getServletConfig</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>    &#125;<br><br>    <span class="hljs-comment">/*service方法是专门用来处理请求和响应的*/</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">service</span><span class="hljs-params">(ServletRequest servletRequest, ServletResponse servletResponse)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>        System.out.println(<span class="hljs-string">&quot;hello servlet访问了&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getServletInfo</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">destroy</span><span class="hljs-params">()</span> &#123;<br><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>



<p>web.xml文件</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">web-app</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;</span></span><br><span class="hljs-tag">         <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">         <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;</span></span><br><span class="hljs-tag">         <span class="hljs-attr">version</span>=<span class="hljs-string">&quot;4.0&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet</span>&gt;</span><br>        <span class="hljs-comment">&lt;!--servlet标签给Tomcat配置Servlet程序--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span><br>            HelloServlet<br>            <span class="hljs-comment">&lt;!--这个名字一般是和类名一样的，但也是别名可以不同，但一定要和下面的servlet-mapping中的name相同，servlet-class是必须和真实类名相同的--&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>        <span class="hljs-comment">&lt;!--servlet-class是Servlet程序的全类名--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">servlet-class</span>&gt;</span><br>            com.atguigu.servlet.HelloServlet<br><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">servlet-class</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">servlet</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span><br>        <span class="hljs-comment">&lt;!--servlet-name标签的作用是告诉服务器，我当前配置的地址给那个Servlet程序使用--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>HelloServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>        <span class="hljs-comment">&lt;!--servlet-name标签的作用是告诉服务器，我当前配置的地址给那个Servlet程序使用--&gt;</span><br>        <span class="hljs-comment">&lt;!-- url-pattern标签配置访问地址</span><br><span class="hljs-comment">        /   斜杠在服务器解析的时候，表示地址为http://ip:port/工程路径</span><br><span class="hljs-comment">        /hello  表示地址为:http://ip:port/工程路径/hello</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">        --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/hello<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br><span class="hljs-comment">&lt;!--这里的这个hello最好是和servlet的名字有点联系，一眼能看出--&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">web-app</span>&gt;</span><br><br><br></code></pre></td></tr></table></figure>

<p>运行tomcat实例之后，在url后面添加&#x2F;hello就可以访问到这个HelloServlet程序，也就是调用了上面java代码中的service方法</p>
<p>常见的错误</p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209291643482.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20220920164356420"></p>
<h2 id="url地址如何定位servlet程序去访问的"><a href="#url地址如何定位servlet程序去访问的" class="headerlink" title="url地址如何定位servlet程序去访问的"></a>url地址如何定位servlet程序去访问的</h2><p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209291643483.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20220921102737307"></p>
<h2 id="Servlet的生命周期"><a href="#Servlet的生命周期" class="headerlink" title="Servlet的生命周期"></a>Servlet的生命周期</h2><p>一个servlet的执行顺序</p>
<p>1.执行Servlet构造器方法</p>
<p>2.执行init初始化方法</p>
<p>第一二步是在第一次方法的时候创建Servlet程序会调用，就是如果刷新页面再次访问不会再执行1，2</p>
<p>3.执行service方法</p>
<p>每次访问都会调用，每次刷新页面再次访问就会调用</p>
<p>4.执行destroy方法</p>
<p>第四步，在web工程停止的时候会调用</p>
<p>四个方法实现的演示</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.servlet;<br><span class="hljs-keyword">import</span> javax.servlet.*;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HelloServlet</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Servlet</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">HelloServlet</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;1 构造器方法&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">init</span><span class="hljs-params">(ServletConfig servletConfig)</span> <span class="hljs-keyword">throws</span> ServletException &#123;<br>        System.out.println(<span class="hljs-string">&quot;2.ini方法&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> ServletConfig <span class="hljs-title function_">getServletConfig</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>    &#125;<br><br>    <span class="hljs-comment">/*service方法是专门用来处理请求和响应的*/</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">service</span><span class="hljs-params">(ServletRequest servletRequest, ServletResponse servletResponse)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>        System.out.println(<span class="hljs-string">&quot;3 service===hello servlet访问了&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getServletInfo</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">destroy</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;4.destroy方法&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs awk">启动服务器之后，访问http:<span class="hljs-regexp">//</span>localhost:<span class="hljs-number">8080</span><span class="hljs-regexp">/ab/</span>hello<br><br>结果：<span class="hljs-number">1</span> 构造器方法<br>     <span class="hljs-number">2</span>.ini方法<br>     <span class="hljs-number">3</span> service===hello servlet访问了<br></code></pre></td></tr></table></figure>

<h2 id="Servlet请求的分发处理"><a href="#Servlet请求的分发处理" class="headerlink" title="Servlet请求的分发处理"></a>Servlet请求的分发处理</h2><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">在模块文件夹下的html文件，可以通过http:<span class="hljs-regexp">//</span>localhost:<span class="hljs-number">8080</span><span class="hljs-regexp">/servlet/</span>a.html访问<br></code></pre></td></tr></table></figure>

<p>a.html前面的都是工程路径</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;http://localhost:8080/servlet/hello&quot;</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;post&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>method可以有post和get，对应不同的操作，所以应该对Servlet程序进行改良</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.servlet;<br><span class="hljs-keyword">import</span> javax.servlet.*;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequest;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HelloServlet</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Servlet</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">HelloServlet</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;1 构造器方法&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">init</span><span class="hljs-params">(ServletConfig servletConfig)</span> <span class="hljs-keyword">throws</span> ServletException &#123;<br>        System.out.println(<span class="hljs-string">&quot;2.ini方法&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> ServletConfig <span class="hljs-title function_">getServletConfig</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>    &#125;<br><br>    <span class="hljs-comment">/*service方法是专门用来处理请求和响应的*/</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">service</span><span class="hljs-params">(ServletRequest servletRequest, ServletResponse servletResponse)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>        <span class="hljs-comment">//类型转换，HttpServletRequest是ServletRequest的子接口，Servlet没有getMethod方法</span><br>        HttpServletRequest httpServletRequest= (HttpServletRequest) servletRequest;<br>        <span class="hljs-comment">//获取请求的方式</span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">method</span> <span class="hljs-operator">=</span> httpServletRequest.getMethod();<br>        <span class="hljs-keyword">if</span>(<span class="hljs-string">&quot;GET&quot;</span>.equals(method))&#123;<br>            System.out.println(<span class="hljs-string">&quot;get请求&quot;</span>);<br>        &#125;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(<span class="hljs-string">&quot;POST&quot;</span>.equals(<span class="hljs-string">&quot;post请求&quot;</span>))&#123;<br>            System.out.println(<span class="hljs-string">&quot;post请求&quot;</span>);<br>        &#125;<br><br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getServletInfo</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">destroy</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;4.destroy方法&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>一个方法中又执行get又执行post不太好，将这两个方法分开</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.servlet;<br><span class="hljs-keyword">import</span> javax.servlet.*;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequest;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HelloServlet</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Servlet</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">HelloServlet</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;1 构造器方法&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">init</span><span class="hljs-params">(ServletConfig servletConfig)</span> <span class="hljs-keyword">throws</span> ServletException &#123;<br>        System.out.println(<span class="hljs-string">&quot;2.ini方法&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> ServletConfig <span class="hljs-title function_">getServletConfig</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>    &#125;<br><br>    <span class="hljs-comment">/*service方法是专门用来处理请求和响应的*/</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">service</span><span class="hljs-params">(ServletRequest servletRequest, ServletResponse servletResponse)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>        <span class="hljs-comment">//类型转换，HttpServletRequest是ServletRequest的子接口，Servlet没有getMethod方法</span><br>        HttpServletRequest httpServletRequest= (HttpServletRequest) servletRequest;<br>        <span class="hljs-comment">//获取请求的方式</span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">method</span> <span class="hljs-operator">=</span> httpServletRequest.getMethod();<br>        <span class="hljs-keyword">if</span>(<span class="hljs-string">&quot;GET&quot;</span>.equals(method))&#123;<br>            doGet();<br>        &#125;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(<span class="hljs-string">&quot;POST&quot;</span>.equals(<span class="hljs-string">&quot;post请求&quot;</span>))&#123;<br>           doPost();<br>        &#125;<br><br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doGet</span><span class="hljs-params">()</span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;get请求&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;get请求&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;get请求&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;get请求&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;get请求&quot;</span>);<br>    &#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doPost</span><span class="hljs-params">()</span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;post请求&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;post请求&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;post请求&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;post请求&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;post请求&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getServletInfo</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">destroy</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;4.destroy方法&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>



<h2 id="通过继承HttpServlet实现Servlet程序"><a href="#通过继承HttpServlet实现Servlet程序" class="headerlink" title="通过继承HttpServlet实现Servlet程序"></a>通过继承HttpServlet实现Servlet程序</h2><p>一般在实际项目中，都是使用继承HttpServlet类的方式去实现Servlet程序</p>
<p>1.编写一个类去继承 HttpServlet类</p>
<p>2.根据业务需要重写doGet或者doPost方法</p>
<p>3.到web.xml中配置Servlet程序的访问地址</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;http://localhost:8080/servlet/hello2&quot;</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;get&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.servlet;<br><br><span class="hljs-keyword">import</span> javax.servlet.ServletException;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServlet;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequest;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletResponse;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HelloServlet2</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">HttpServlet</span> &#123;<br>    <span class="hljs-comment">/*</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">    doGet()方法在Get请求的时候调用</span><br><span class="hljs-comment">    doPost()方法在Post请求的时候调用</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doGet</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>        System.out.println(<span class="hljs-string">&quot;helloservlet2  doget&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doPost</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>        System.out.println(<span class="hljs-string">&quot;helloservlet2 dopost&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>



<h2 id="使用IDEA菜单生成Servlet程序"><a href="#使用IDEA菜单生成Servlet程序" class="headerlink" title="使用IDEA菜单生成Servlet程序"></a>使用IDEA菜单生成Servlet程序</h2><h2 id="整个Servlet类的继承体系"><a href="#整个Servlet类的继承体系" class="headerlink" title="整个Servlet类的继承体系"></a>整个Servlet类的继承体系</h2><p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209291643484.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20220922185908421"></p>
<h2 id="ServletConfig类"><a href="#ServletConfig类" class="headerlink" title="ServletConfig类"></a>ServletConfig类</h2><p>ServletConfig从类名上看，就是Servlet程序的配置信息类</p>
<p>servlet程序和servletConfig对象都是由Tomcat负责创建，我们负责使用</p>
<p>Servlet程序默认是第一次访问的时候创建，ServletConfig是每个Servlet程序创建的时候，就创建一个对应的ServletConfig对象</p>
<p><strong>三大作用</strong></p>
<p>1.可以获取Servlet的别名额就是servlet-name的值</p>
<p>2.获取初始化参数init-param</p>
<p>3.获取servletContext对象</p>
<p><strong>init方法体现了ServletConfig的三大作用</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.servlet;<br><span class="hljs-keyword">import</span> javax.servlet.*;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequest;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HelloServlet</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Servlet</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">HelloServlet</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;1 构造器方法&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">init</span><span class="hljs-params">(ServletConfig servletConfig)</span> <span class="hljs-keyword">throws</span> ServletException &#123;<br>        System.out.println(<span class="hljs-string">&quot;2.ini方法&quot;</span>);<br>       <span class="hljs-comment">// 1.可以获取Servlet的别名额就是servlet-name的值</span><br>System.out.println(<span class="hljs-string">&quot;servlet的别名是:&quot;</span>+servletConfig.getServletName());<br>        <span class="hljs-comment">//2.获取初始化参数init-param</span><br>System.out.println(<span class="hljs-string">&quot;初始化参数username的值为&quot;</span>+servletConfig.getInitParameter(<span class="hljs-string">&quot;username&quot;</span>));<br>System.out.println(<span class="hljs-string">&quot;初始化参数password的值为&quot;</span>+servletConfig.getInitParameter(<span class="hljs-string">&quot;password&quot;</span>));<br>        <span class="hljs-comment">//3.获取servletContext对象</span><br>        System.out.println(servletConfig.getServletContext());<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> ServletConfig <span class="hljs-title function_">getServletConfig</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>    &#125;<br><br>    <span class="hljs-comment">/*service方法是专门用来处理请求和响应的*/</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">service</span><span class="hljs-params">(ServletRequest servletRequest, ServletResponse servletResponse)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>        <span class="hljs-comment">//类型转换，HttpServletRequest是ServletRequest的子接口，Servlet没有getMethod方法</span><br>        HttpServletRequest httpServletRequest= (HttpServletRequest) servletRequest;<br>        <span class="hljs-comment">//获取请求的方式</span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">method</span> <span class="hljs-operator">=</span> httpServletRequest.getMethod();<br>        <span class="hljs-keyword">if</span>(<span class="hljs-string">&quot;GET&quot;</span>.equals(method))&#123;<br>            doGet();<br>        &#125;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(<span class="hljs-string">&quot;POST&quot;</span>.equals(<span class="hljs-string">&quot;post请求&quot;</span>))&#123;<br>           doPost();<br>        &#125;<br><br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doGet</span><span class="hljs-params">()</span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;get请求&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;get请求&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;get请求&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;get请求&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;get请求&quot;</span>);<br>    &#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doPost</span><span class="hljs-params">()</span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;post请求&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;post请求&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;post请求&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;post请求&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;post请求&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getServletInfo</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">destroy</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;4.destroy方法&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>



<p>每个Servlet程序对应一个ServletConfig对象，所以不可能在HelloServlet2中获得的ServletConfig对象来获取给HelloServlet1配置的信息</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs scala"><span class="hljs-keyword">package</span> com.atguigu.servlet;<br><br><span class="hljs-keyword">import</span> javax.servlet.<span class="hljs-type">ServletConfig</span>;<br><span class="hljs-keyword">import</span> javax.servlet.<span class="hljs-type">ServletException</span>;<br><span class="hljs-keyword">import</span> javax.servlet.http.<span class="hljs-type">HttpServlet</span>;<br><span class="hljs-keyword">import</span> javax.servlet.http.<span class="hljs-type">HttpServletRequest</span>;<br><span class="hljs-keyword">import</span> javax.servlet.http.<span class="hljs-type">HttpServletResponse</span>;<br><span class="hljs-keyword">import</span> java.io.<span class="hljs-type">IOException</span>;<br><br>public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HelloServlet2</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">HttpServlet</span> </span>&#123;<br>    <span class="hljs-comment">/*</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">    doGet()方法在Get请求的时候调用</span><br><span class="hljs-comment">    doPost()方法在Post请求的时候调用</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> void doGet(<span class="hljs-type">HttpServletRequest</span> req, <span class="hljs-type">HttpServletResponse</span> resp) <span class="hljs-keyword">throws</span> <span class="hljs-type">ServletException</span>, <span class="hljs-type">IOException</span> &#123;<br>        <span class="hljs-type">System</span>.out.println(<span class="hljs-string">&quot;helloservlet2  doget&quot;</span>);<br><br>        <span class="hljs-comment">//可以使用getServletConfig()方法来获得servletConfig对象</span><br>        <span class="hljs-type">ServletConfig</span> servletConfig=getServletConfig();<br>        <span class="hljs-type">System</span>.out.println(servletConfig);<br>        <span class="hljs-type">System</span>.out.println(<span class="hljs-string">&quot;初始化参数username的值为&quot;</span>+servletConfig.getInitParameter(<span class="hljs-string">&quot;username&quot;</span>));<br>        <span class="hljs-type">System</span>.out.println(<span class="hljs-string">&quot;初始化参数password的值为&quot;</span>+servletConfig.getInitParameter(<span class="hljs-string">&quot;password&quot;</span>));<br><br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> void doPost(<span class="hljs-type">HttpServletRequest</span> req, <span class="hljs-type">HttpServletResponse</span> resp) <span class="hljs-keyword">throws</span> <span class="hljs-type">ServletException</span>, <span class="hljs-type">IOException</span> &#123;<br>        <span class="hljs-type">System</span>.out.println(<span class="hljs-string">&quot;helloservlet2 dopost&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>重写Servlet程序的init方法的时候一定要就是调用它父类的init方法</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs scala">public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HelloServlet2</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">HttpServlet</span> </span>&#123;<br><br>    <span class="hljs-comment">//重写init程序的时候必须有这个super.init(config)</span><br>    <span class="hljs-meta">@Override</span><br>    public void init(<span class="hljs-type">ServletConfig</span> config) <span class="hljs-keyword">throws</span> <span class="hljs-type">ServletException</span> &#123;<br>        <span class="hljs-keyword">super</span>.init(config);<span class="hljs-comment">//调用父类的init方法才能让this.config获值</span><br>        <span class="hljs-type">System</span>.out.println(<span class="hljs-string">&quot;重写了init初始化方法，做了一些工作&quot;</span>);<br>    &#125;<br>    <span class="hljs-comment">/*</span><br></code></pre></td></tr></table></figure>

<h2 id="ServletContext类"><a href="#ServletContext类" class="headerlink" title="ServletContext类"></a>ServletContext类</h2><p>1.ServletContext是一个接口，它表示servlet上下文对象</p>
<p>2.一个web工程只有一个ServletConText对象实例，不管调用getServletContext()几次，得到的都是一个ServletContext对象</p>
<p>3.ServletContext对象是一个域对象</p>
<p>4.<strong>ServletContext是在web工程部署启动的时候创建，在web工程停止的时候销毁</strong>    重新部署或者重启服务器之后，存储的数据就会消失</p>
<p>什么是域对象</p>
<p>域对象是可以象Map一样存储数据的对象，叫域对象</p>
<p>这里的域指的是存储数据的操作范围，整个web工程</p>
<p>​                               存数据                           取数据                           删除数据</p>
<p>Map                        put()                           get()                                       remove()</p>
<p>域对象                      setAttribute()            getAttribute()                    removeAttribute()</p>
<p><strong>ServletContext对象能向ServletContext域中存储对象</strong></p>
<p><strong>ServletContext类的四个作用</strong></p>
<p>1.获取web.xml中配置的上下文参数context.param</p>
<p>2.获取当前的工程路径，格式:&#x2F;工程路径</p>
<p>3.获取工程部署后在服务器硬盘上的绝对路径</p>
<p>4.像Map一样存储数据</p>
<p><strong>当正常在网址栏输入网址访问基本都是get请求</strong></p>
<p>以下路径是IDEA整合Tomcat之后，Tomcat被拷贝的一些副本内容</p>
<p>C:\Users#赵梓皓&amp;\AppData\Local\JetBrains\IntelliJIdea2020.3\tomcat\cc813db2-dbda-4294-89c0-505f477c0964</p>
<figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs avrasm"><span class="hljs-symbol">D:</span>\IDEAjava工程\javaweb\<span class="hljs-keyword">out</span>\artifacts\servlet_war_exploded\  这个就是项目部署之后在磁盘中的位置<br></code></pre></td></tr></table></figure>



<p>servlet:war exploded就是一个文件夹，里面是项目中的web文件夹中的内容</p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209291643485.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20220922204548529"></p>
<p>前三个功能</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.servlet;<br><br><span class="hljs-keyword">import</span> javax.servlet.ServletConfig;<br><span class="hljs-keyword">import</span> javax.servlet.ServletContext;<br><span class="hljs-keyword">import</span> javax.servlet.ServletException;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServlet;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequest;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletResponse;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ContextServlet</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">HttpServlet</span> &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doGet</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>        <span class="hljs-comment">//1.获取web.xml中配置的上下文参数context.param</span><br>        ServletContext context= getServletConfig().getServletContext();<br>        String username=context.getInitParameter(<span class="hljs-string">&quot;username&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;context-param参数username是&quot;</span>+username);<br>        System.out.println(<span class="hljs-string">&quot;context-param参数password是&quot;</span>+context.getInitParameter(<span class="hljs-string">&quot;password&quot;</span>));<br>        <span class="hljs-comment">//2.获取当前的工程路径，格式:/工程路径</span><br>System.out.println(<span class="hljs-string">&quot;当前工程的路径&quot;</span>+context.getContextPath());<br>        <span class="hljs-comment">//3.获取工程部署后在服务器硬盘上的绝对路径</span><br>        <span class="hljs-comment">//   斜杠   被服务器解析地址为http://ip:port/工程名/    映射到IDEA代码的web目录</span><br>        <span class="hljs-comment">//就是得到的这个地址访问之后就是web目录下的东西</span><br>        System.out.println(<span class="hljs-string">&quot;工程部书之后的路径&quot;</span>+context.getRealPath(<span class="hljs-string">&quot;/&quot;</span>));<br>        <span class="hljs-comment">//获取web目录下的其他文件的绝对路径</span><br>        System.out.println(<span class="hljs-string">&quot;工程下css目录的绝对路径是&quot;</span>+context.getRealPath(<span class="hljs-string">&quot;/css&quot;</span>));<br>        System.out.println(<span class="hljs-string">&quot;工程目录下imgs目录1.jpg的绝对路径是&quot;</span>+context.getRealPath(<span class="hljs-string">&quot;/imgs/1.jpg&quot;</span>));<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>



<p>第四个功能.像Map一样存储数据，</p>
<p>ContextServlet1和ContextServlet2只要有一个存了key1的值，另一个也能获取key1的值，但重新部署或者重启服务器数据就消失了</p>
<p>ContextServlet1</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.servlet;<br><br><span class="hljs-keyword">import</span> javax.servlet.ServletContext;<br><span class="hljs-keyword">import</span> javax.servlet.ServletException;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServlet;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequest;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletResponse;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ContextServlet1</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">HttpServlet</span> &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doGet</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>        <span class="hljs-comment">//获取ServletContext对象</span><br>        <span class="hljs-type">ServletContext</span> <span class="hljs-variable">context</span> <span class="hljs-operator">=</span> getServletContext();<br>        <span class="hljs-comment">//打印context的地址看两个Servlet中的地址相不相同</span><br>        System.out.println(context);<br>        System.out.println(<span class="hljs-string">&quot;保存之前：Context1获取key1的值是&quot;</span>+context.getAttribute(<span class="hljs-string">&quot;key1&quot;</span>));<br>        context.setAttribute(<span class="hljs-string">&quot;key1&quot;</span>,<span class="hljs-string">&quot;value&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;context1中获取域数据key1的值为&quot;</span>+context.getAttribute(<span class="hljs-string">&quot;key1&quot;</span>));<br>        System.out.println(<span class="hljs-string">&quot;context1中获取域数据key1的值为&quot;</span>+context.getAttribute(<span class="hljs-string">&quot;key1&quot;</span>));<br>        System.out.println(<span class="hljs-string">&quot;context1中获取域数据key1的值为&quot;</span>+context.getAttribute(<span class="hljs-string">&quot;key1&quot;</span>));<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doPost</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br><br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure>

<p>ContextServlet2</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.servlet;<br><br><span class="hljs-keyword">import</span> javax.servlet.ServletContext;<br><span class="hljs-keyword">import</span> javax.servlet.ServletException;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServlet;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequest;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletResponse;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ContextServlet2</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">HttpServlet</span> &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doGet</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException&#123;<br>        <span class="hljs-type">ServletContext</span> <span class="hljs-variable">context</span> <span class="hljs-operator">=</span> getServletContext();<br>        System.out.println(context);<br>        System.out.println(<span class="hljs-string">&quot;Context2中获取域数据key1的值是&quot;</span>+context.getAttribute(<span class="hljs-string">&quot;key1&quot;</span>));<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure>



<p>两个文件中context地址相同</p>
<p>org.apache.catalina.core.ApplicationContextFacade@467b6a76</p>
<p>org.apache.catalina.core.ApplicationContextFacade@467b6a76</p>
<h2 id="HTTP协议"><a href="#HTTP协议" class="headerlink" title="HTTP协议"></a>HTTP协议</h2><h3 id="请求的HTTP协议"><a href="#请求的HTTP协议" class="headerlink" title="请求的HTTP协议"></a>请求的HTTP协议</h3><p>协议是指双方或者多方约定好，大家都需要遵守的规则，叫协议</p>
<p>所谓HTTP协议就是指，客户端和服务器之间通信时，发送的数据需要遵守的规则，叫http协议</p>
<p>HTTP 协议中的数据又叫报文。</p>
<p>客户端给服务器发送数据叫请求。 </p>
<p>服务器给客户端回传数据叫响应。 </p>
<p>请求又分为 GET 请求，和 POST 请求两种</p>
<p><strong>GET 请求</strong> </p>
<p>getpost都会对url进行url编码</p>
<p>1、请求行(报文行) (1) 请求的方式 GET (2) 请求的资源路径[+?+请求参数] (3) 请求的协议的版本号 HTTP&#x2F;1.1 </p>
<p>2、请求头(报文头) key : value 组成 不同的键值对，表示不同的含义</p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209291643486.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20220923145222423"></p>
<p><strong>ii. POST 请求</strong></p>
<p> 1、请求行</p>
<p> (1)请求的方式 POST (2) 请求的资源路径[+?+请求参数] (3) 请求的协议的版本号 HTTP&#x2F;1.1 2、</p>
<p>2.请求头 </p>
<ol>
<li>key : value 不同的请求头，有不同的含义</li>
</ol>
<p>空行(请求头和请求体之间有空行)</p>
<p>3、请求体 &#x3D;&#x3D;&#x3D;&gt;&gt;&gt; 就是发送给服务器的数据</p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209291643487.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20220923150231137"></p>
<p><strong>iii. 常用请求头的说明</strong> </p>
<p>Accept: 表示客户端可以接收的数据类型 </p>
<p>Accpet-Languege: 表示客户端可以接收的语言类型 </p>
<p>User-Agent: 表示客户端浏览器的信息 </p>
<p>Host： 表示请求时的服务器 ip 和端口</p>
<p><strong>iv. 哪些是 GET 请求，哪些是 POST 请求</strong> </p>
<p>GET 请求有哪些：</p>
<p> 1、form 标签 method&#x3D;get   2、a 标签    3、link 标签引入 css    4、Script 标签引入 js 文件     5、img 标签引入图片    6、iframe 引入 html 页面    7、在浏览器地址栏中输入地址后敲回车 </p>
<p>POST 请求有哪些：</p>
<p> 8、form 标签 method&#x3D;post</p>
<h3 id="响应的-HTTP-协议格式"><a href="#响应的-HTTP-协议格式" class="headerlink" title="响应的 HTTP 协议格式"></a>响应的 HTTP 协议格式</h3><p>1、响应行 (1) 响应的协议和版本号   HTTP&#x2F;1.1</p>
<p>​                  (2) 响应状态码    200</p>
<p>​                  (3) 响应状态描述符      </p>
<p>2、响应头 (1) key : value 不同的响应头，有其不同含义</p>
<p> 空行 </p>
<p>3、响应体 —-&gt;&gt;&gt; 就是回传给客户端的数</p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209291643488.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20220924084143658"></p>
<p><strong>常见的响应码</strong></p>
<p>200 表示请求成功 </p>
<p>302 表示请求重定向（明天讲） </p>
<p>404 表示请求服务器已经收到了，但是你要的数据不存在（请求地址错误） </p>
<p>500 表示服务器已经收到请求，但是服务器内部错误（代码错误）</p>
<p><strong>MIME 类型说明</strong> </p>
<p>MIME 是 HTTP 协议中数据类型。 MIME 的英文全称是”Multipurpose Internet Mail Extensions” 多功能 Internet 邮件扩充服务。MIME 类型的格式是“大类型&#x2F;小 类型”，并与某一种文件的扩展名相对应</p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209291643489.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20220924085410669"></p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209291643490.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20220924090516889"></p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209291643491.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20220924090547978"></p>
<h2 id="ServletRequest"><a href="#ServletRequest" class="headerlink" title="ServletRequest"></a>ServletRequest</h2><p>每次只要有请求进入，tomcat服务器就会把请求过来的HTTP协议信息解析好封装到request对象中。</p>
<p>然后传递到service方法，也含有doget  dopost方法中给我们使用。我们可以通过HttpServletRequest对象，获取到所有请求的信息</p>
<h3 id="HttpServletRequest-类的常用方法"><a href="#HttpServletRequest-类的常用方法" class="headerlink" title="HttpServletRequest 类的常用方法"></a>HttpServletRequest 类的常用方法</h3><p>i. getRequestURI()                                 获取请求的资源路径 </p>
<p>ii. getRequestURL()                               获取请求的统一资源定位符（绝对路径） </p>
<p>iii. getRemoteHost()                             获取客户端的 ip 地址 </p>
<p>iv. getHeader()                                      获取请求头 </p>
<p>v. getParameter()                                 获取请求的参数 </p>
<p>vi. getParameterValues()                    获取请求的参数（多个值的时候使用） </p>
<p>vii. getMethod()                                    获取请求的方式 GET 或 POST </p>
<p>viii. setAttribute(key, value);              设置域数据   ，<strong>ServletRequest能通过这个方法向request域中存储数据</strong></p>
<p>ix. getAttribute(key);                           获取域数据 </p>
<p>x. getRequestDispatcher()                 获取请求转发对象</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.servlet;<br><br><span class="hljs-keyword">import</span> javax.servlet.ServletException;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServlet;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequest;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletResponse;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RequestAPIServlet</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">HttpServlet</span> &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doGet</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>       <span class="hljs-comment">// i. getRequestURI()                             获取请求的资源路径</span><br>System.out.println(<span class="hljs-string">&quot;url=&gt;&quot;</span>+req.getRequestURI());<br>        <span class="hljs-comment">//ii. getRequestURL()                            获取请求的统一资源定位符（绝对路径）</span><br>System.out.println(<span class="hljs-string">&quot;ulr=&gt;&quot;</span>+req.getRequestURL());<br>        <span class="hljs-comment">//iii. getRemoteHost()                             获取客户端的 ip 地址</span><br>System.out.println(<span class="hljs-string">&quot;客户端 ip 地址&quot;</span>+req.getRemoteHost());<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">在IDEA中，使用使用localhost访问时，得到的客户端ip地址是127.0.0.1</span><br><span class="hljs-comment">在IDEA中，使用使用127.0.0.1访问时，得到的客户端ip地址是127.0.0.1</span><br><span class="hljs-comment">在IDEA中，使用使用真实ip访问时，得到的客户端ip地址是真实ip</span><br><span class="hljs-comment"> */</span><br><br>        <span class="hljs-comment">//iv. getHeader()                                      获取请求头</span><br>System.out.println(<span class="hljs-string">&quot;请求头&quot;</span>+req.getHeader(<span class="hljs-string">&quot;User-Agent&quot;</span>));<br>        <span class="hljs-comment">//vii. getMethod()                                    获取请求的方式 GET 或 POST</span><br>        System.out.println(<span class="hljs-string">&quot;请求的方式&quot;</span>+req.getMethod());<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="Servlet获取请求的参数值"><a href="#Servlet获取请求的参数值" class="headerlink" title="Servlet获取请求的参数值"></a>Servlet获取请求的参数值</h3><p>用来发送参数的form表单</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;http://localhost:8086/servlet2/parameterServlet&quot;</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;get&quot;</span>&gt;</span><br><br>    用户名 <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;username&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span><br>    密码 <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;password&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span><br>    兴趣爱好 <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;hobby&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;cpp&quot;</span>&gt;</span>c++<br>           <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;hobby&quot;</span>  <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;java&quot;</span>&gt;</span>java<br>           <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;hobby&quot;</span>  <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;javascript&quot;</span>&gt;</span>javascript<span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.servlet;<br><br><span class="hljs-keyword">import</span> javax.servlet.ServletException;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServlet;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequest;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletResponse;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><span class="hljs-keyword">import</span> java.util.Arrays;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ParameterServlet</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">HttpServlet</span> &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doGet</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br> <span class="hljs-comment">//获取请求的参数，用name属性的值来作为参数获取</span><br>        System.out.println(req.getParameter(<span class="hljs-string">&quot;username&quot;</span>));<br>        System.out.println(req.getParameter(<span class="hljs-string">&quot;password&quot;</span>));<br><span class="hljs-comment">//获取有多个参数的请求</span><br>String []hobby=req.getParameterValues(<span class="hljs-string">&quot;hobby&quot;</span>);<br>System.out.println(Arrays.toString(hobby));<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>解决post请求中的中文乱码问题</strong></p>
<p>req.setCharacterEncoding(“UTF-8”);</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;http://localhost:8086/servlet2/parameterServlet&quot;</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;post&quot;</span>&gt;</span><br><br>    用户名 <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;username&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span><br>    密码 <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;password&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span><br>    兴趣爱好 <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;hobby&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;cpp&quot;</span>&gt;</span>c++<br>           <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;hobby&quot;</span>  <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;java&quot;</span>&gt;</span>java<br>           <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;hobby&quot;</span>  <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;javascript&quot;</span>&gt;</span>javascript<span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.servlet;<br><br><span class="hljs-keyword">import</span> javax.servlet.ServletException;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServlet;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequest;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletResponse;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><span class="hljs-keyword">import</span> java.util.Arrays;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ParameterServlet</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">HttpServlet</span> &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doGet</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br> <span class="hljs-comment">//获取请求的参数，用name属性的值来作为参数获取</span><br>        System.out.println(req.getParameter(<span class="hljs-string">&quot;username&quot;</span>));<br>        System.out.println(req.getParameter(<span class="hljs-string">&quot;password&quot;</span>));<br><span class="hljs-comment">//获取有多个参数的请求</span><br>String []hobby=req.getParameterValues(<span class="hljs-string">&quot;hobby&quot;</span>);<br>System.out.println(Arrays.toString(hobby));<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doPost</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>        <span class="hljs-comment">//设置请求体的字符集为UTF-8，从而解决post请求的中文乱码问题</span><br>        <span class="hljs-comment">//这个方法只有在所有获取请求参数方法之前调用才有效</span><br>        req.setCharacterEncoding(<span class="hljs-string">&quot;UTF-8&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;=-----post----&quot;</span>);<br>        <span class="hljs-comment">//获取请求的参数，用name属性的值来作为参数获取</span><br>        System.out.println(req.getParameter(<span class="hljs-string">&quot;username&quot;</span>));<br>        System.out.println(req.getParameter(<span class="hljs-string">&quot;password&quot;</span>));<br><span class="hljs-comment">//获取有多个参数的请求</span><br>        String []hobby=req.getParameterValues(<span class="hljs-string">&quot;hobby&quot;</span>);<br>        System.out.println(Arrays.toString(hobby));<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="请求的转发"><a href="#请求的转发" class="headerlink" title="请求的转发"></a>请求的转发</h3><p>什么是请求的转发?</p>
<p> 请求转发是指，服务器收到请求后，从一次资源跳转到另一个资源的操作叫请求转发</p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209291643492.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20220924113414262"></p>
<p>请求转发的特点第四条</p>
<p>如果form.html在WEB-INF目录下无法通过<a target="_blank" rel="noopener" href="http://localhost:8086/servlet2/WEB-INF/form.html%E8%AE%BF%E9%97%AE">http://localhost:8086/servlet2/WEB-INF/form.html访问</a></p>
<p>但可以通过请求转发访问</p>
<p>下面两种都可以，第一个是绝对路径，第二个是相对路径</p>
<figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs abnf">RequestDispatcher requestDispatcher <span class="hljs-operator">=</span> req.getRequestDispatcher(<span class="hljs-string">&quot;/WEB-INF/form.html&quot;</span>)<span class="hljs-comment">;</span><br></code></pre></td></tr></table></figure>

<figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs abnf">RequestDispatcher requestDispatcher <span class="hljs-operator">=</span> req.getRequestDispatcher(<span class="hljs-string">&quot;WEB-INF/form.html&quot;</span>)<span class="hljs-comment">;</span><br></code></pre></td></tr></table></figure>

<p>在web中   &#x2F;斜杠就代表<a href="http://ip:port/工程名/">http://ip:port/工程名/</a>  可以映射到web目录下，可以在后面直接加web目录中的资源访问，但不能直接访问</p>
<p>WEB-INF目录中的资源</p>
<p>这是实现图片中的请求转发的步骤</p>
<p>servlet1</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.servlet;<br><br><span class="hljs-keyword">import</span> javafx.scene.control.TextInputControl;<br><br><span class="hljs-keyword">import</span> javax.servlet.RequestDispatcher;<br><span class="hljs-keyword">import</span> javax.servlet.ServletException;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServlet;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequest;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletResponse;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">servlet1</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">HttpServlet</span> &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doGet</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>       <span class="hljs-comment">//获取请求参数，(办事的材料)查看</span><br>        <span class="hljs-comment">//这个参数也可以用get传参直接传</span><br>        String username=req.getParameter(<span class="hljs-string">&quot;username&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;在servlet1柜台中查看参数(材料)&quot;</span>+username);<br><br>        <span class="hljs-comment">//给材料盖一个章，并传递到servlet2柜台二去查看</span><br>        req.setAttribute(<span class="hljs-string">&quot;key&quot;</span>,<span class="hljs-string">&quot;柜台1的章&quot;</span>);<br><br>        <span class="hljs-comment">/*</span><br><span class="hljs-comment">        请求转发必须要以斜杠打头，斜杠表示地址为：http://ip:port/工程名/  ,映射到IDEA代码的web目录，然后在后面加这个servlet文件名即可</span><br><span class="hljs-comment">         */</span><br>        <span class="hljs-comment">//问路servlet2(柜台二在哪)</span><br>        <span class="hljs-type">RequestDispatcher</span> <span class="hljs-variable">requestDispatcher</span> <span class="hljs-operator">=</span> req.getRequestDispatcher(<span class="hljs-string">&quot;/servlet2&quot;</span>);<br><br>        <span class="hljs-comment">//走向servlet2，柜台二</span><br>        requestDispatcher.forward(req,resp);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>servlet2</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.servlet;<br><br><span class="hljs-keyword">import</span> javax.servlet.ServletException;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServlet;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequest;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletResponse;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">servlet2</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">HttpServlet</span> &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doGet</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>        <span class="hljs-comment">//获取请求参数，(办事的材料)查看</span><br>        String username=req.getParameter(<span class="hljs-string">&quot;username&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;在servlet1柜台中查看参数(材料)&quot;</span>+username);<br><br>        <span class="hljs-comment">//查看柜台1 是否有盖章</span><br>        <span class="hljs-type">Object</span> <span class="hljs-variable">key</span> <span class="hljs-operator">=</span> req.getAttribute(<span class="hljs-string">&quot;key&quot;</span>);<br>      System.out.println(<span class="hljs-string">&quot;柜台一是否有章&quot;</span>+key);<br><br>      <span class="hljs-comment">//处理自己的业务</span><br>        System.out.println(<span class="hljs-string">&quot;servlet2处理自己的业务&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="关于重定向以及javaweb的路径补充（getResourcAsStream）"><a href="#关于重定向以及javaweb的路径补充（getResourcAsStream）" class="headerlink" title="关于重定向以及javaweb的路径补充（getResourcAsStream）"></a>关于重定向以及javaweb的路径补充（getResourcAsStream）</h3><p>服务器对服务器(请求转发)发起请求：(也叫服务器对斜杠&#x2F;进行解析的时候</p>
<p>绝对路径：&#x2F;   斜杠代表的是项目根目录     也就是<a href="http://ip:port/工程名，">http://ip:port/工程名，</a>  可以映射到web目录下，后面直接跟web目录下内容，除了WEB-INF</p>
<p>浏览器对服务器(重定向)发起请求：(也叫浏览器对斜杠&#x2F;进行解析的时候)</p>
<p>绝对路径：&#x2F;   斜杠代表的是tomcat根目录，也就是<a href="http://ip:port">http://ip:port</a> 需要自己去加工程名</p>
<p>当这种&#x2F;表示tomcat根目录的时候，绝对路径开头的   &#x2F;工程名   就是自己设置的那个    而不是文件名</p>
<p>不管是哪个相对路径都是看相对位置</p>
<p>这个就是规定了工程的目录   也就是<a href="http://ip:port/servlet2">http://ip:port/servlet2</a></p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209291643493.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20220924140059312"></p>
<p>请求转发路径解释：</p>
<p>这个是web.xml文件中规定的Servlet文件的访问路径</p>
<p>等于是在web文件夹中创立一个contextservlet2文件，这也为什么<a href="http://ip:port/servlet2/contextservlet2能访问到servlet文件的原因">http://ip:port/servlet2/contextservlet2能访问到servlet文件的原因</a></p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209291643494.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20220924140317384"></p>
<p>请求转发</p>
<p>这个地方用servlet2是因为这可以用相对路径，他们访问路径都在web目录下</p>
<p>也可以用&#x2F;servlet2  这是绝对路径，因为servlet2访问路径在web目录下</p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209291643496.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20220924141139460"></p>
<p>如果是web文件下有这个form.html文件也可以就是通过请求转发访问</p>
<p>下面两种都可以</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">RequestDispatcher</span> <span class="hljs-variable">requestDispatcher</span> <span class="hljs-operator">=</span> req.getRequestDispatcher(<span class="hljs-string">&quot;form.html&quot;</span>);<br></code></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">RequestDispatcher</span> <span class="hljs-variable">requestDispatcher</span> <span class="hljs-operator">=</span> req.getRequestDispatcher(<span class="hljs-string">&quot;/form.html&quot;</span>);<br></code></pre></td></tr></table></figure>

<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs stylus">getResourceAsStream中的路径只有两种写法<br><br>最前面是<span class="hljs-string">&#x27;/&#x27;</span>      说明是工程目录下可以映射到web目录下<br><br>最前面没有<span class="hljs-string">&#x27;/&#x27;</span>   说明是默认从<span class="hljs-attribute">src</span>目录开始<br></code></pre></td></tr></table></figure>

<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209291643497.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20220924155454292"></p>
<h3 id="base标签的作用"><a href="#base标签的作用" class="headerlink" title="base标签的作用"></a>base标签的作用</h3><p>即使文件加上了base标签，也可以使用绝对路径</p>
<p>错误演示</p>
<p>c.html</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>这是a下的b下的c.html页面<br><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;/servlet2/index.html&quot;</span>&gt;</span>跳回首页<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;../../index.html&quot;</span>&gt;</span>跳回首页<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>这两个a标签中的地址都是index.html的地址一个是相对路径一个是绝对路径</p>
<p>这里因为是浏览器向服务器发起请求所以这里的绝对路径    &#x2F;   斜杠代表的是<a href="http://ip:port/">http://ip:port/</a></p>
<p>访问到工程名默认的是访问web文件下的名为index的html或者js的文件</p>
<p>index.html</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>这是web下的index.html<br><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;a/b/c.html&quot;</span>&gt;</span>a/b/c.html<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;http://localhost:8086/servlet2/ForwardC&quot;</span>&gt;</span><br>    请求转发<br><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>第二个a标签利用请求转发跳转，是无法在c.html回到首页的</p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209291643498.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20220924152916257"></p>
<p>正确版本</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--base标签设置页面相对路径工作时参照的地址</span><br><span class="hljs-comment">        href   属性就是参数的地址值</span><br><span class="hljs-comment">    --&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>这是a下的b下的c.html页面<br><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;/servlet2/index.html&quot;</span>&gt;</span>跳回首页<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;../../index.html&quot;</span>&gt;</span>跳回首页<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>



<p><a target="_blank" rel="noopener" href="http://localhost:8080/servlet2/a/b/c.html%E5%B0%B1%E6%98%AF%E8%BF%99%E4%B8%AA%E6%96%87%E4%BB%B6%E4%B8%AD%E7%9A%84%E6%89%80%E6%9C%89%E7%9B%B8%E5%AF%B9%E8%B7%AF%E5%BE%84%E7%9A%84%E5%9C%B0%E5%9D%80%E9%83%BD%E6%98%AF%E5%8F%82%E7%85%A7%E8%BF%99%E4%B8%AA%E8%B7%AF%E5%BE%84%E7%9A%84">http://localhost:8080/servlet2/a/b/c.html就是这个文件中的所有相对路径的地址都是参照这个路径的</a></p>
<h2 id="HttpServletResponse"><a href="#HttpServletResponse" class="headerlink" title="HttpServletResponse"></a>HttpServletResponse</h2><p>作用</p>
<p>HttpServletResponse 类和 HttpServletRequest 类一样。每次请求进来，Tomcat 服务器都会创建一个 Response 对象传递给 Servlet 程序去使用。</p>
<p>HttpServletRequest 表示请求过来的信息，HttpServletResponse 表示所有响应的信息， 我们如果需要设置返回给客户端的信息，都可以通过 HttpServletResponse</p>
<h3 id="两个输出流说明"><a href="#两个输出流说明" class="headerlink" title="两个输出流说明"></a>两个输出流说明</h3><p>字节流          getOutputStream()     常用于下载，传递二进制数据 </p>
<p>字符流          getWriter()           常用于回传字符串(常用)</p>
<p><strong>两个流同时只能使用一个，使用了字节流，就不能再使用字符流，否则就会报错</strong></p>
<h3 id="如何往客户端回传数据（乱码解决）"><a href="#如何往客户端回传数据（乱码解决）" class="headerlink" title="如何往客户端回传数据（乱码解决）"></a>如何往客户端回传数据（乱码解决）</h3><p>要求：往客户端回传字符串数据以及中文乱码的解决方案（将服务器和浏览器统一编码）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.servlet;<br><br><span class="hljs-keyword">import</span> javax.servlet.ServletException;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServlet;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequest;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletResponse;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><span class="hljs-keyword">import</span> java.io.PrintWriter;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ResponseIOServlet</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">HttpServlet</span> &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doGet</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>        <span class="hljs-comment">//查看相应的字符集      默认ISO-8859-1</span><br>        System.out.println(resp.getCharacterEncoding());<br>        <span class="hljs-comment">//设置服务器字符集为UTF-8</span><br><br>        resp.setCharacterEncoding(<span class="hljs-string">&quot;UTF-8&quot;</span>);<br><br>        <span class="hljs-comment">//同时要自己去改变浏览器的字符集，改为UTF-8</span><br>        resp.setHeader(<span class="hljs-string">&quot;Content-Type&quot;</span>,<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span>);<br><br>        <span class="hljs-comment">//要求：往客户端回传字符串数据</span><br>        PrintWriter writer=resp.getWriter();<br>        writer.write(<span class="hljs-string">&quot;我很帅&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>第二种解决中文乱码的方案</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.servlet;<br><br><span class="hljs-keyword">import</span> javax.servlet.ServletException;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServlet;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequest;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletResponse;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><span class="hljs-keyword">import</span> java.io.PrintWriter;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ResponseIOServlet</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">HttpServlet</span> &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doGet</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>        <span class="hljs-comment">//它会同时设置服务器和客户端都使用UTF-8字符集，还设置了响应头</span><br>        <span class="hljs-comment">//此方法一定要在获取流之前时使用才有效</span><br>       resp.setContentType(<span class="hljs-string">&quot;text/html; charset=UTF-8&quot;</span>);<br>       System.out.println(resp.getCharacterEncoding());<br>        <span class="hljs-comment">//要求：往客户端回传字符串数据</span><br>        PrintWriter writer=resp.getWriter();<br>        writer.write(<span class="hljs-string">&quot;我很帅&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="Servlet请求重定向"><a href="#Servlet请求重定向" class="headerlink" title="Servlet请求重定向"></a>Servlet请求重定向</h2><p>请求重定向，是指客户端给服务器发请求，然后服务器告诉客户端说。我给你一些地址。你去新地址访问。叫请求 重定向（因为之前的地址可能已经被废弃）</p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209291643499.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20220924164726868"></p>
<p>重点：两个servlet之间不共享Request域中的数据</p>
<p>其实就是当用HttpServletResponse的setAttribute()方法是不能把把存储的数据给多个Servlet获取的，但ServletContext可以</p>
<p><strong>response1重定向到response2的解析</strong></p>
<p>response1</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs scala"><span class="hljs-keyword">package</span> com.atguigu.servlet;<br><br><span class="hljs-keyword">import</span> javax.servlet.<span class="hljs-type">ServletException</span>;<br><span class="hljs-keyword">import</span> javax.servlet.http.<span class="hljs-type">HttpServlet</span>;<br><span class="hljs-keyword">import</span> javax.servlet.http.<span class="hljs-type">HttpServletRequest</span>;<br><span class="hljs-keyword">import</span> javax.servlet.http.<span class="hljs-type">HttpServletResponse</span>;<br><span class="hljs-keyword">import</span> java.io.<span class="hljs-type">IOException</span>;<br><br>public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">response1</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">HttpServlet</span> </span>&#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> void doGet(<span class="hljs-type">HttpServletRequest</span> req, <span class="hljs-type">HttpServletResponse</span> resp) <span class="hljs-keyword">throws</span> <span class="hljs-type">ServletException</span>, <span class="hljs-type">IOException</span> &#123;<br>        <span class="hljs-type">System</span>.out.println(<span class="hljs-string">&quot;曾到此一游 Response1&quot;</span>);<br>        req.setAttribute(<span class="hljs-string">&quot;key&quot;</span>,<span class="hljs-string">&quot;value1&quot;</span>);<br>        <span class="hljs-comment">//设置响应状态码，表示重定向(已搬迁)</span><br>        resp.setStatus(<span class="hljs-number">302</span>);<br>        <span class="hljs-comment">//设置响应头，说明新的地址在哪里</span><br>        resp.setHeader(<span class="hljs-string">&quot;Location&quot;</span>,<span class="hljs-string">&quot;http://localhost:8086/servlet2/response2&quot;</span>);<br><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>response2</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs scala"><span class="hljs-keyword">package</span> com.atguigu.servlet;<br><br><span class="hljs-keyword">import</span> javax.servlet.<span class="hljs-type">ServletException</span>;<br><span class="hljs-keyword">import</span> javax.servlet.http.<span class="hljs-type">HttpServlet</span>;<br><span class="hljs-keyword">import</span> javax.servlet.http.<span class="hljs-type">HttpServletRequest</span>;<br><span class="hljs-keyword">import</span> javax.servlet.http.<span class="hljs-type">HttpServletResponse</span>;<br><span class="hljs-keyword">import</span> java.io.<span class="hljs-type">IOException</span>;<br><br>public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">response2</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">HttpServlet</span> </span>&#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> void doGet(<span class="hljs-type">HttpServletRequest</span> req, <span class="hljs-type">HttpServletResponse</span> resp) <span class="hljs-keyword">throws</span> <span class="hljs-type">ServletException</span>, <span class="hljs-type">IOException</span> &#123;<br>        <span class="hljs-type">System</span>.out.println(req.getAttribute(<span class="hljs-string">&quot;key&quot;</span>));<br>        resp.getWriter().write(<span class="hljs-string">&quot;response2 result&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>



<p>response1重定向到form.html的解析</p>
<p><strong>错误案例：不能够重定向到WEB-INF下的form.html文件</strong></p>
<p>因为重定向也就是第二次的地址是用来浏览器向服务器发起请求，WEB-INF中的文件受保护所以不行</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs scala"><span class="hljs-keyword">package</span> com.atguigu.servlet;<br><br><span class="hljs-keyword">import</span> javax.servlet.<span class="hljs-type">ServletException</span>;<br><span class="hljs-keyword">import</span> javax.servlet.http.<span class="hljs-type">HttpServlet</span>;<br><span class="hljs-keyword">import</span> javax.servlet.http.<span class="hljs-type">HttpServletRequest</span>;<br><span class="hljs-keyword">import</span> javax.servlet.http.<span class="hljs-type">HttpServletResponse</span>;<br><span class="hljs-keyword">import</span> java.io.<span class="hljs-type">IOException</span>;<br><br>public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">response1</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">HttpServlet</span> </span>&#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> void doGet(<span class="hljs-type">HttpServletRequest</span> req, <span class="hljs-type">HttpServletResponse</span> resp) <span class="hljs-keyword">throws</span> <span class="hljs-type">ServletException</span>, <span class="hljs-type">IOException</span> &#123;<br>        <span class="hljs-type">System</span>.out.println(<span class="hljs-string">&quot;曾到此一游 Response1&quot;</span>);<br>        req.setAttribute(<span class="hljs-string">&quot;key&quot;</span>,<span class="hljs-string">&quot;value1&quot;</span>);<br>        <span class="hljs-comment">//设置响应状态码，表示重定向(已搬迁)</span><br>        resp.setStatus(<span class="hljs-number">302</span>);<br>        <span class="hljs-comment">//设置响应头，说明新的地址在哪里</span><br>        resp.setHeader(<span class="hljs-string">&quot;Location&quot;</span>,<span class="hljs-string">&quot;http://localhost:8086/WEB-INF/form.html&quot;</span>);<br><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>正确案例</strong>：访问web目录下的form.html</p>
<p>新地址使用绝对路径的方法，下面两个都是绝对路径</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.servlet;<br><br><span class="hljs-keyword">import</span> javax.servlet.ServletException;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServlet;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequest;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletResponse;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">response1</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">HttpServlet</span> &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doGet</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>        System.out.println(<span class="hljs-string">&quot;曾到此一游 Response1&quot;</span>);<br>        req.setAttribute(<span class="hljs-string">&quot;key&quot;</span>,<span class="hljs-string">&quot;value1&quot;</span>);<br>        <span class="hljs-comment">//设置响应状态码，表示重定向(已搬迁)</span><br>        resp.setStatus(<span class="hljs-number">302</span>);<br>        <span class="hljs-comment">//设置响应头，说明新的地址在哪里</span><br>        resp.setHeader(<span class="hljs-string">&quot;Location&quot;</span>,<span class="hljs-string">&quot;http://localhost:8086/servlet2/form.html&quot;</span>);<br><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs scala"><span class="hljs-keyword">package</span> com.atguigu.servlet;<br><br><span class="hljs-keyword">import</span> javax.servlet.<span class="hljs-type">ServletException</span>;<br><span class="hljs-keyword">import</span> javax.servlet.http.<span class="hljs-type">HttpServlet</span>;<br><span class="hljs-keyword">import</span> javax.servlet.http.<span class="hljs-type">HttpServletRequest</span>;<br><span class="hljs-keyword">import</span> javax.servlet.http.<span class="hljs-type">HttpServletResponse</span>;<br><span class="hljs-keyword">import</span> java.io.<span class="hljs-type">IOException</span>;<br><br>public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">response1</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">HttpServlet</span> </span>&#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> void doGet(<span class="hljs-type">HttpServletRequest</span> req, <span class="hljs-type">HttpServletResponse</span> resp) <span class="hljs-keyword">throws</span> <span class="hljs-type">ServletException</span>, <span class="hljs-type">IOException</span> &#123;<br>        <span class="hljs-type">System</span>.out.println(<span class="hljs-string">&quot;曾到此一游 Response1&quot;</span>);<br>        req.setAttribute(<span class="hljs-string">&quot;key&quot;</span>,<span class="hljs-string">&quot;value1&quot;</span>);<br>        <span class="hljs-comment">//设置响应状态码，表示重定向(已搬迁)</span><br>        resp.setStatus(<span class="hljs-number">302</span>);<br>        <span class="hljs-comment">//设置响应头，说明新的地址在哪里</span><br>        resp.setHeader(<span class="hljs-string">&quot;Location&quot;</span>,<span class="hljs-string">&quot;/servlet2/form.html&quot;</span>);<br><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>相对路径</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.servlet;<br><br><span class="hljs-keyword">import</span> javax.servlet.ServletException;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServlet;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequest;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletResponse;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">response1</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">HttpServlet</span> &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doGet</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>        System.out.println(<span class="hljs-string">&quot;曾到此一游 Response1&quot;</span>);<br>        req.setAttribute(<span class="hljs-string">&quot;key&quot;</span>,<span class="hljs-string">&quot;value1&quot;</span>);<br>        <span class="hljs-comment">//设置响应状态码，表示重定向(已搬迁)</span><br>        resp.setStatus(<span class="hljs-number">302</span>);<br>        <span class="hljs-comment">//设置响应头，说明新的地址在哪里</span><br>        resp.setHeader(<span class="hljs-string">&quot;Location&quot;</span>,<span class="hljs-string">&quot;form.html&quot;</span>);<br><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>



<p>因为这里的重定向的地址是浏览器会向服务器发起的请求，所以绝对路径的  &#x2F;表示的是tomcat根目录下的内容</p>
<p>重定向也可以访问外部地址，只要把location换成一个网站的网址就可以</p>
<h2 id="第二种请求重定向的方法"><a href="#第二种请求重定向的方法" class="headerlink" title="第二种请求重定向的方法"></a>第二种请求重定向的方法</h2><p>第二种方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.servlet;<br><br><span class="hljs-keyword">import</span> javax.servlet.ServletException;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServlet;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequest;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletResponse;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">response1</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">HttpServlet</span> &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doGet</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>     resp.sendRedirect(<span class="hljs-string">&quot;/servlet2/response2&quot;</span>);<br><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="书城项目的第二个阶段"><a href="#书城项目的第二个阶段" class="headerlink" title="书城项目的第二个阶段"></a>书城项目的第二个阶段</h2><p>用户的注册和登录</p>
<p><strong>javaEE项目的三层架构</strong></p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209291643500.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20220924190340985"></p>
<p>分层的目的是为了解耦。解耦就是为了降低代码的耦合度。方便项目后期的维护和升级</p>
<p>下面的斜杠是或者的意思</p>
<p>web 层       com.atguigu.web&#x2F;servlet&#x2F;controller   </p>
<p>service 层            com.atguigu.service                    Service 接口包 </p>
<p>​                             com.atguigu.service.impl          Service 接口实现类 </p>
<p>dao 持久层 com.atguigu.dao                  Dao 接口包        </p>
<p>​                    com.atguigu.dao.impl          Dao 接口实现类 </p>
<p>实体 bean 对象          com.atguigu.pojo&#x2F;entity&#x2F;domain&#x2F;bean         JavaBean 类 </p>
<p>测试包                    com.atguigu.test&#x2F;junit</p>
<p>工具类                     com.atguigu.utils</p>
<h3 id="创建数据库和User用户表"><a href="#创建数据库和User用户表" class="headerlink" title="创建数据库和User用户表"></a>创建数据库和User用户表</h3><p>一般创建一个表都需要有一个id这样自增的主键</p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">create</span> <span class="hljs-keyword">database</span> book;<br><br>use book;<br><br><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> t_user(<br>id <span class="hljs-type">int</span> <span class="hljs-keyword">PRIMARY KEY</span> auto_increment,<br>username <span class="hljs-type">varchar</span>(<span class="hljs-number">20</span>) <span class="hljs-keyword">not</span> <span class="hljs-keyword">null</span> <span class="hljs-keyword">unique</span>,<br><span class="hljs-keyword">password</span> <span class="hljs-type">varchar</span>(<span class="hljs-number">20</span>) <span class="hljs-keyword">not</span> <span class="hljs-keyword">null</span>,<br>email <span class="hljs-type">varchar</span>(<span class="hljs-number">200</span>)<br>);<br><br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_user(username,<span class="hljs-keyword">password</span>,email) <span class="hljs-keyword">values</span>(<span class="hljs-string">&#x27;admin&#x27;</span>,<span class="hljs-string">&#x27;admin&#x27;</span>,<span class="hljs-string">&#x27;admin@guigu.com&#x27;</span>);<br><br><span class="hljs-keyword">select</span> *<span class="hljs-keyword">from</span> t_user;<br></code></pre></td></tr></table></figure>

<h3 id="编写数据库表对应的javaBean对象"><a href="#编写数据库表对应的javaBean对象" class="headerlink" title="编写数据库表对应的javaBean对象"></a>编写数据库表对应的javaBean对象</h3><p>所谓的javaBean对象就是一个和数据库中储存数据一样类型的java类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.pojo;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span> &#123;<br>    <span class="hljs-keyword">private</span> Integer id;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;User&#123;&quot;</span> +<br>                <span class="hljs-string">&quot;id=&quot;</span> + id +<br>                <span class="hljs-string">&quot;, username=&#x27;&quot;</span> + username + <span class="hljs-string">&#x27;\&#x27;&#x27;</span> +<br>                <span class="hljs-string">&quot;, password=&#x27;&quot;</span> + password + <span class="hljs-string">&#x27;\&#x27;&#x27;</span> +<br>                <span class="hljs-string">&quot;, email=&#x27;&quot;</span> + email + <span class="hljs-string">&#x27;\&#x27;&#x27;</span> +<br>                <span class="hljs-string">&#x27;&#125;&#x27;</span>;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">User</span><span class="hljs-params">(Integer id, String username, String password, String email)</span> &#123;<br>        <span class="hljs-built_in">this</span>.id = id;<br>        <span class="hljs-built_in">this</span>.username = username;<br>        <span class="hljs-built_in">this</span>.password = password;<br>        <span class="hljs-built_in">this</span>.email = email;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">User</span><span class="hljs-params">()</span> &#123;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> Integer <span class="hljs-title function_">getId</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> id;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setId</span><span class="hljs-params">(Integer id)</span> &#123;<br>        <span class="hljs-built_in">this</span>.id = id;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getUsername</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> username;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setUsername</span><span class="hljs-params">(String username)</span> &#123;<br>        <span class="hljs-built_in">this</span>.username = username;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getPassword</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> password;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setPassword</span><span class="hljs-params">(String password)</span> &#123;<br>        <span class="hljs-built_in">this</span>.password = password;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getEmail</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> email;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setEmail</span><span class="hljs-params">(String email)</span> &#123;<br>        <span class="hljs-built_in">this</span>.email = email;<br>    &#125;<br><br>    <span class="hljs-keyword">private</span> String username;<br>    <span class="hljs-keyword">private</span> String password;<br>    <span class="hljs-keyword">private</span> String email;<br>    <br>&#125;<br></code></pre></td></tr></table></figure>



<h3 id="编写工具类JDBCUtils"><a href="#编写工具类JDBCUtils" class="headerlink" title="编写工具类JDBCUtils"></a>编写工具类JDBCUtils</h3><p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209291643501.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20220925164446929"></p>
<p>导入这两个包才能用@test</p>
<p>JdbcUtils类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.utils;<br><br><span class="hljs-keyword">import</span> com.alibaba.druid.pool.DruidDataSource;<br><span class="hljs-keyword">import</span> com.alibaba.druid.pool.DruidDataSourceFactory;<br><br><span class="hljs-keyword">import</span> java.io.InputStream;<br><span class="hljs-keyword">import</span> java.sql.Connection;<br><span class="hljs-keyword">import</span> java.sql.SQLException;<br><span class="hljs-keyword">import</span> java.util.Properties;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">JdbcUtils</span> &#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> DruidDataSource dataSource;<br><span class="hljs-keyword">static</span> &#123;<br>    <span class="hljs-keyword">try</span>&#123;<br>      Properties properties=<span class="hljs-keyword">new</span> <span class="hljs-title class_">Properties</span>();<br>      <span class="hljs-comment">//奇怪的是这个地方不能用绝对路径</span><br>      InputStream inputStream=JdbcUtils.class.getClassLoader().getResourceAsStream(<span class="hljs-string">&quot;druid.properties&quot;</span>);<br>      properties.load(inputStream);<br>      dataSource= (DruidDataSource) DruidDataSourceFactory.createDataSource(properties);<br>      System.out.println(dataSource.getConnection());<br>    &#125;<br>    <span class="hljs-keyword">catch</span>(Exception e)&#123;<br>        e.printStackTrace();<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">//获取数据库连接池中的连接，如果返回null就是获取失败，有值就是获取成功</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Connection <span class="hljs-title function_">getConnection</span><span class="hljs-params">()</span>&#123;<br>    Connection conn=<span class="hljs-literal">null</span>;<br>    <span class="hljs-keyword">try</span> &#123;<br>        conn=dataSource.getConnection();<br>    &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;<br>        e.printStackTrace();<br>    &#125;<br>    <span class="hljs-keyword">return</span> conn;<br>&#125;<br><br><span class="hljs-comment">//关闭连接</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">close</span><span class="hljs-params">(Connection conn)</span>&#123;<br>    <span class="hljs-keyword">if</span>(conn!=<span class="hljs-literal">null</span>)&#123;<br>        <span class="hljs-keyword">try</span>&#123;<br>            conn.close();<br>        &#125;<br>        <span class="hljs-keyword">catch</span>(Exception e)&#123;<br>            e.printStackTrace();<br>        &#125;<br>    &#125;<br>    &#125;<br><br><br>&#125;<br></code></pre></td></tr></table></figure>

<p>测试类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.test;<br><br><span class="hljs-keyword">import</span> com.atguigu.utils.JdbcUtils;<br><span class="hljs-keyword">import</span> org.junit.Test;<br><br><span class="hljs-keyword">import</span> java.sql.Connection;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">JdbcUtilsTest</span> &#123;<br>    <span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testJdbcUtils</span><span class="hljs-params">()</span>&#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt;<span class="hljs-number">100</span> ; i++) &#123;<br>            Connection conn=JdbcUtils.getConnection();<br>            System.out.println(conn);<br>            JdbcUtils.close(conn);<br>        &#125;<br><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>因为数据库连接池配置文件中有最大连接数为规定数，所以只有每次都释放才能获取连接</p>
<h3 id="BaseDao"><a href="#BaseDao" class="headerlink" title="BaseDao"></a>BaseDao</h3><p><strong>在使用queryForList和queryForOne来获得javaBean对象的时候，这个javaBean类中属性的名字必须和select后面的列名相同，或者是起名让他相同</strong></p>
<p>封装了增删改和查询方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.dao.impl;<br><br><span class="hljs-keyword">import</span> com.atguigu.utils.JdbcUtils;<br><span class="hljs-keyword">import</span> org.apache.commons.dbutils.QueryRunner;<br><span class="hljs-keyword">import</span> org.apache.commons.dbutils.handlers.BeanHandler;<br><span class="hljs-keyword">import</span> org.apache.commons.dbutils.handlers.BeanListHandler;<br><span class="hljs-keyword">import</span> org.apache.commons.dbutils.handlers.ScalarHandler;<br><br><span class="hljs-keyword">import</span> java.sql.Connection;<br><span class="hljs-keyword">import</span> java.sql.SQLException;<br><span class="hljs-keyword">import</span> java.util.List;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BaseDao</span> &#123;<br>    <span class="hljs-comment">//使用DbUtils操作数据库</span><br><span class="hljs-keyword">private</span> QueryRunner queryRunner=<span class="hljs-keyword">new</span> <span class="hljs-title class_">QueryRunner</span>();<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">update()方法用来执行：insert  update  delete语句</span><br><span class="hljs-comment">如果返回-1说明执行失败，  否则返回其他表示影响的行数</span><br><span class="hljs-comment"> */</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">update</span><span class="hljs-params">(String sql,Object...args)</span>&#123;<br>        Connection conn= JdbcUtils.getConnection();<br>        <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-keyword">return</span> queryRunner.update(conn, sql, args);<br>        &#125;<br>        <span class="hljs-keyword">catch</span>(Exception e)&#123;<br>            e.printStackTrace();<br>        &#125;<br>        <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;<br>    &#125;<br><br>    <span class="hljs-comment">/*</span><br><span class="hljs-comment">    查询返回一个javaBean的sql语句   type为返回对象类型，args是sql对应的参数值，sql是执行的sql语句  &lt;T&gt;返回的类型和泛型</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">public</span> &lt;T&gt; T <span class="hljs-title function_">queryForOne</span><span class="hljs-params">(Class&lt;T&gt; type,String sql,Object...args)</span> &#123;<br>        Connection con=JdbcUtils.getConnection();<br>        <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-keyword">return</span> queryRunner.query(con,sql,<span class="hljs-keyword">new</span> <span class="hljs-title class_">BeanHandler</span>&lt;T&gt;(type),args);<br>        &#125; <span class="hljs-keyword">catch</span> (SQLException throwables) &#123;<br>            throwables.printStackTrace();<br>        &#125;<br>        <span class="hljs-keyword">finally</span>&#123;<br>            JdbcUtils.close(con);<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>    &#125;<br><br>    <span class="hljs-comment">/*</span><br><span class="hljs-comment">    查询返回多个javaBean的sql语句</span><br><span class="hljs-comment">     */</span><br><br>    <span class="hljs-keyword">public</span> &lt;T&gt; List&lt;T&gt; <span class="hljs-title function_">queryForList</span><span class="hljs-params">(Class&lt;T&gt; type,String sql,Object...args)</span>&#123;<br>        Connection con=JdbcUtils.getConnection();<br>        <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-keyword">return</span> queryRunner.query(con,sql,<span class="hljs-keyword">new</span> <span class="hljs-title class_">BeanListHandler</span>&lt;T&gt;(type),args);<br>        &#125; <span class="hljs-keyword">catch</span> (Exception e)&#123;<br>        e.printStackTrace();<br>        &#125;<br>        <span class="hljs-keyword">finally</span>&#123;<br>            JdbcUtils.close(con);<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>    &#125;<br><br>    <span class="hljs-comment">/*</span><br><span class="hljs-comment">    执行返回一个单元格的sql</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">queryForSingleValue</span><span class="hljs-params">(String sql,Object...args)</span>&#123;<br>        Connection conn=JdbcUtils.getConnection();<br>        <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-keyword">return</span> queryRunner.query(conn, sql,<span class="hljs-keyword">new</span> <span class="hljs-title class_">ScalarHandler</span>(), args);<br>        &#125;<br>        <span class="hljs-keyword">catch</span>(Exception e)&#123;<br>            e.printStackTrace();<br>        &#125;<br>        <span class="hljs-keyword">finally</span>&#123;<br>            JdbcUtils.close(conn);<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="编写UserDao和测试"><a href="#编写UserDao和测试" class="headerlink" title="编写UserDao和测试"></a>编写UserDao和测试</h3><p><strong>其实这个Dao可以设计为一个泛型接口，用哪个类时再传递泛型参数，这样就是设计了一个不同数据库类的通用Dao</strong></p>
<p>根据你所需要的方法来设计</p>
<p>UserDao</p>
<p>可以在空白处按ctrl和shift和t得到这个接口的测试</p>
<p>将Destination package换成你想要的位置，勾选好下面三个方法</p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209291643502.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20220926110847299"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.dao;<br><br><span class="hljs-keyword">import</span> com.atguigu.pojo.User;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">UserDao</span> &#123;<br><br><br><br>    <span class="hljs-comment">/*</span><br><span class="hljs-comment">    根据用户名查询用户信息</span><br><span class="hljs-comment">    username 用户名</span><br><span class="hljs-comment">    如果返回null则说明没有这个用户，返之亦然</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">public</span> User <span class="hljs-title function_">queryByUsername</span><span class="hljs-params">(String username)</span>;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 保存用户信息</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> user</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> 返回-1表示操作失败，其他是sql语句影响的行数</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">saveUser</span><span class="hljs-params">(User user)</span>;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 根据用户名和密码查询用户信息</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> username</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> password</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> 如果返回null则说明用户名或密码错误，返之亦然</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">public</span> User <span class="hljs-title function_">queryUserByUsernameAndPassword</span><span class="hljs-params">(String username,String password)</span>;<br><br><br><br>&#125;<br></code></pre></td></tr></table></figure>

<p>UserDaoImpl</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.dao.impl;<br><br><span class="hljs-keyword">import</span> com.atguigu.dao.UserDao;<br><span class="hljs-keyword">import</span> com.atguigu.pojo.User;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserDaoImpl</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">BaseDao</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">UserDao</span> &#123;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> User <span class="hljs-title function_">queryByUsername</span><span class="hljs-params">(String username)</span> &#123;<br>        String sql=<span class="hljs-string">&quot;select id,username,password,email from t_user where username=?&quot;</span>;<br>        <span class="hljs-keyword">return</span> queryForOne(User.class,sql,username);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">saveUser</span><span class="hljs-params">(User user)</span> &#123;<br>        String sql=<span class="hljs-string">&quot;insert into t_user(username,password,email) values(?,?,?)&quot;</span>;<br>        <span class="hljs-keyword">return</span> update(sql,user.getUsername(),user.getPassword(),user.getEmail());<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> User <span class="hljs-title function_">queryUserByUsernameAndPassword</span><span class="hljs-params">(String username, String password)</span> &#123;<br>        String sql=<span class="hljs-string">&quot;select id,username,password,email from t_user where username=? and password=?&quot;</span>;<br>        <span class="hljs-keyword">return</span> queryForOne(User.class,sql,username,password);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>



<p>UserDaoTest</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.test;<br><br><span class="hljs-keyword">import</span> com.atguigu.dao.UserDao;<br><span class="hljs-keyword">import</span> com.atguigu.dao.impl.UserDaoImpl;<br><span class="hljs-keyword">import</span> com.atguigu.pojo.User;<br><span class="hljs-keyword">import</span> org.junit.Test;<br><br><span class="hljs-keyword">import</span> <span class="hljs-keyword">static</span> org.junit.Assert.*;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserDaoTest</span> &#123;<br>    UserDao userDao=<span class="hljs-keyword">new</span> <span class="hljs-title class_">UserDaoImpl</span>();<br><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">queryByUsername</span><span class="hljs-params">()</span> &#123;<br><br>         <span class="hljs-keyword">if</span>(userDao.queryByUsername(<span class="hljs-string">&quot;admin123&quot;</span>)==<span class="hljs-literal">null</span>)<br>         &#123;<br>             System.out.println(<span class="hljs-string">&quot;用户名可用&quot;</span>);<br>         &#125;<br>         <span class="hljs-keyword">else</span><br><br>         &#123;<br>             System.out.println(<span class="hljs-string">&quot;用户名已存在&quot;</span>);<br>         &#125;<br>    &#125;<br><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">saveUser</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">if</span>(userDao.queryUserByUsernameAndPassword(<span class="hljs-string">&quot;admin&quot;</span>,<span class="hljs-string">&quot;admin&quot;</span>)==<span class="hljs-literal">null</span>)&#123;<br>            System.out.println(<span class="hljs-string">&quot;用户名或密码错误登陆错误&quot;</span>);<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            System.out.println(<span class="hljs-string">&quot;登陆成功&quot;</span>);<br>        &#125;<br><br><br>    &#125;<br><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">queryUserByUsernameAndPassword</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(userDao.saveUser(<span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>(<span class="hljs-literal">null</span>,<span class="hljs-string">&quot;admin&quot;</span>,<span class="hljs-string">&quot;123456&quot;</span>,<span class="hljs-string">&quot;wzg168@qq.com&quot;</span>)));<br><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="编写UserService和测试"><a href="#编写UserService和测试" class="headerlink" title="编写UserService和测试"></a>编写UserService和测试</h3><p>可以在空白处按ctrl和shift和t得到这个接口的测试</p>
<p>将Destination package换成你想要的位置，勾选好下面三个方法</p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209291643502.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20220926110847299"></p>
<p>实现业务</p>
<p>UserService</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.service;<br><br><span class="hljs-keyword">import</span> com.atguigu.pojo.User;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">UserService</span> &#123;<br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 注册用户</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> user</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">registerUser</span><span class="hljs-params">(User user)</span>;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 登录</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> user</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> 如果返回null，说明登录失败，返回有值，是登录成功</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">public</span> User <span class="hljs-title function_">login</span><span class="hljs-params">(User user)</span>;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 检查用户名是否可用</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> username</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> 返回true表示用户名已存在，返回false表示用户名可用</span><br><span class="hljs-comment">     */</span><br>  <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">existsUsername</span><span class="hljs-params">(String username)</span>;<br><br><br>&#125;<br></code></pre></td></tr></table></figure>

<p>UserServiceImpl</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.service.impl;<br><br><span class="hljs-keyword">import</span> com.atguigu.dao.UserDao;<br><span class="hljs-keyword">import</span> com.atguigu.dao.impl.UserDaoImpl;<br><span class="hljs-keyword">import</span> com.atguigu.pojo.User;<br><span class="hljs-keyword">import</span> com.atguigu.service.UserService;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">UserService</span> &#123;<br>    <span class="hljs-keyword">private</span> UserDao userDao=<span class="hljs-keyword">new</span> <span class="hljs-title class_">UserDaoImpl</span>();<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">registerUser</span><span class="hljs-params">(User user)</span> &#123;<br>        userDao.saveUser(user);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> User <span class="hljs-title function_">login</span><span class="hljs-params">(User user)</span> &#123;<br>        <span class="hljs-keyword">return</span> userDao.queryUserByUsernameAndPassword(user.getUsername(),user.getPassword());<br><br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">existsUsername</span><span class="hljs-params">(String username)</span> &#123;<br>        <span class="hljs-keyword">if</span>(userDao.queryByUsername(username)==<span class="hljs-literal">null</span>)&#123;<br>            <span class="hljs-comment">//等于null说明没查到，没查到表示可用</span><br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>



<p>UserServiceTest</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.test;<br><br><span class="hljs-keyword">import</span> com.atguigu.pojo.User;<br><span class="hljs-keyword">import</span> com.atguigu.service.UserService;<br><span class="hljs-keyword">import</span> com.atguigu.service.impl.UserServiceImpl;<br><span class="hljs-keyword">import</span> org.junit.Test;<br><br><span class="hljs-keyword">import</span> <span class="hljs-keyword">static</span> org.junit.Assert.*;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserServiceTest</span> &#123;<br><br>    UserService userService=<span class="hljs-keyword">new</span> <span class="hljs-title class_">UserServiceImpl</span>();<br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">registerUser</span><span class="hljs-params">()</span> &#123;<br>        userService.registerUser(<span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>(<span class="hljs-literal">null</span>,<span class="hljs-string">&quot;bbj168&quot;</span>,<span class="hljs-string">&quot;666666&quot;</span>,<span class="hljs-string">&quot;6668@qq.com&quot;</span>));<br>    &#125;<br><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">login</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(userService.login(<span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>(<span class="hljs-literal">null</span>,<span class="hljs-string">&quot;bbj168&quot;</span>,<span class="hljs-string">&quot;666666&quot;</span>,<span class="hljs-literal">null</span>)));<br>    &#125;<br><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">existsUsername</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">if</span>(userService.existsUsername(<span class="hljs-string">&quot;bbj168&quot;</span>))&#123;<br>            System.out.println(<span class="hljs-string">&quot;用户名已存在&quot;</span>);<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            System.out.println(<span class="hljs-string">&quot;用户名可用&quot;</span>);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="实现用户注册的功能"><a href="#实现用户注册的功能" class="headerlink" title="实现用户注册的功能"></a>实现用户注册的功能</h3><p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209291643503.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20220926113340709"></p>
<p>javaweb阶段用base设定相对路径跳转</p>
<p>框架阶段用绝对路径</p>
<p>在title下面加上base标签<strong>，然后改变文件中所有的路径，因为现在的相对路径是以base这个路径为开头的</strong></p>
<p>改变的文件既有register.html也有register_success.html   </p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">&lt;base <span class="hljs-attribute">href</span>=<span class="hljs-string">&quot;http://localhost:8087/book2/&quot;</span>&gt;<br></code></pre></td></tr></table></figure>



<p>xml文件中配置servlet</p>
<p>把html文件中的表单，action设置为servlet的路径，method改为post</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">&lt;form <span class="hljs-attribute">action</span>=<span class="hljs-string">&quot;registServlet&quot;</span> <span class="hljs-attribute">method</span>=<span class="hljs-string">&quot;post&quot;</span>&gt;<br></code></pre></td></tr></table></figure>



<p><strong>编写RegistServlet程序</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.web;<br><br><br><span class="hljs-keyword">import</span> com.atguigu.pojo.User;<br><span class="hljs-keyword">import</span> com.atguigu.service.UserService;<br><span class="hljs-keyword">import</span> com.atguigu.service.impl.UserServiceImpl;<br><br><span class="hljs-keyword">import</span> javax.servlet.ServletException;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServlet;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequest;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletResponse;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RegisterServlet</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">HttpServlet</span> &#123;<br>    <span class="hljs-comment">//web层和service层交互</span><br>    UserService userService=<span class="hljs-keyword">new</span> <span class="hljs-title class_">UserServiceImpl</span>();<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doPost</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>        <span class="hljs-comment">//1.获取请求的参数</span><br>        String username=req.getParameter(<span class="hljs-string">&quot;username&quot;</span>);<br>        String password=req.getParameter(<span class="hljs-string">&quot;password&quot;</span>);<br>        String email=req.getParameter(<span class="hljs-string">&quot;email&quot;</span>);<br>        String code=req.getParameter(<span class="hljs-string">&quot;code&quot;</span>);<br>        <span class="hljs-comment">//2.检查 验证码是否正确,先把验证码写死，要求为abcde</span><br>        <span class="hljs-keyword">if</span>(<span class="hljs-string">&quot;abcde&quot;</span>.equalsIgnoreCase(code))&#123;<br>            <span class="hljs-comment">//验证码正确</span><br>            <span class="hljs-comment">//检查用户名是否可用</span><br>            <span class="hljs-keyword">if</span>(userService.existsUsername(username))&#123;<br>                System.out.println(<span class="hljs-string">&quot;用户名&quot;</span>+username+<span class="hljs-string">&quot;已存在&quot;</span>);<br>                <span class="hljs-comment">//跳回到注册页面</span><br>                req.getRequestDispatcher(<span class="hljs-string">&quot;/pages/user/regist.html&quot;</span>).forward(req,resp);<br>            &#125;<br>            <span class="hljs-keyword">else</span><br>            &#123;<br>                <span class="hljs-comment">//可用</span><br>                <span class="hljs-comment">//调用Sercice保存到数据库</span><br>                userService.registerUser(<span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>(<span class="hljs-literal">null</span>,username,password,email));<br>                <span class="hljs-comment">//注册成功后，跳转到注册成功页面</span><br>                req.getRequestDispatcher(<span class="hljs-string">&quot;/pages/user/regist_success.html&quot;</span>).forward(req,resp);<br>            &#125;<br>        &#125;<span class="hljs-keyword">else</span>&#123;<br>            System.out.println(<span class="hljs-string">&quot;验证码&quot;</span>+code+<span class="hljs-string">&quot;错误&quot;</span>);<br>            <span class="hljs-comment">//验证码不正确</span><br>            <span class="hljs-comment">//跳回注册页面，因为还是申请服务器中文件所以/还是工程目录下的</span><br>            req.getRequestDispatcher(<span class="hljs-string">&quot;/pages/user/regist.html&quot;</span>).forward(req,resp);<br><br>        &#125;<br><br><br><br><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>





<h3 id="IDEA中的Debug调试"><a href="#IDEA中的Debug调试" class="headerlink" title="IDEA中的Debug调试"></a>IDEA中的Debug调试</h3><p>看pdf文件即可</p>
<h3 id="用户登录功能的实现"><a href="#用户登录功能的实现" class="headerlink" title="用户登录功能的实现"></a>用户登录功能的实现</h3><p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210011009030.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20221001100925253"></p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210011031511.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20221001100954890"></p>
<p>操作步骤和用户注册功能差不多</p>
<figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs reasonml">package com.atguigu.web;<br><br><br>import com.atguigu.pojo.User;<br>import com.atguigu.service.UserService;<br>import com.atguigu.service.impl.UserServiceImpl;<br><br>import javax.servlet.ServletException;<br>import javax.servlet.http.HttpServlet;<br>import javax.servlet.http.HttpServletRequest;<br>import javax.servlet.http.HttpServletResponse;<br>import java.io.IOException;<br><br>public <span class="hljs-keyword">class</span> RegisterServlet extends HttpServlet &#123;<br>    <span class="hljs-comment">//web层和service层交互</span><br>    UserService userService=<span class="hljs-keyword">new</span> <span class="hljs-constructor">UserServiceImpl()</span>;<br>    @Override<br>    protected void <span class="hljs-keyword">do</span><span class="hljs-constructor">Post(HttpServletRequest <span class="hljs-params">req</span>, HttpServletResponse <span class="hljs-params">resp</span>)</span> throws ServletException, IOException &#123;<br>        <span class="hljs-comment">//1.获取请求的参数</span><br>        <span class="hljs-comment">//这个getParameter方法是通过那个属性的name得到的</span><br>        String username=req.get<span class="hljs-constructor">Parameter(<span class="hljs-string">&quot;username&quot;</span>)</span>;<br>        String password=req.get<span class="hljs-constructor">Parameter(<span class="hljs-string">&quot;password&quot;</span>)</span>;<br>        String email=req.get<span class="hljs-constructor">Parameter(<span class="hljs-string">&quot;email&quot;</span>)</span>;<br>        String code=req.get<span class="hljs-constructor">Parameter(<span class="hljs-string">&quot;code&quot;</span>)</span>;<br>        <span class="hljs-comment">//2.检查 验证码是否正确,先把验证码写死，要求为abcde</span><br>        <span class="hljs-keyword">if</span>(<span class="hljs-string">&quot;abcde&quot;</span>.equals<span class="hljs-constructor">IgnoreCase(<span class="hljs-params">code</span>)</span>)&#123;<br>            <span class="hljs-comment">//验证码正确</span><br>            <span class="hljs-comment">//检查用户名是否可用</span><br>            <span class="hljs-keyword">if</span>(userService.exists<span class="hljs-constructor">Username(<span class="hljs-params">username</span>)</span>)&#123;<br>                <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>out.println(<span class="hljs-string">&quot;用户名&quot;</span>+username+<span class="hljs-string">&quot;已存在&quot;</span>);<br>                <span class="hljs-comment">//跳回到注册页面</span><br>                req.get<span class="hljs-constructor">RequestDispatcher(<span class="hljs-string">&quot;/pages/user/regist.html&quot;</span>)</span>.forward(req,resp);<br>            &#125;<br>            <span class="hljs-keyword">else</span><br>            &#123;<br>                <span class="hljs-comment">//可用</span><br>                <span class="hljs-comment">//调用Sercice保存到数据库</span><br>                userService.register<span class="hljs-constructor">User(<span class="hljs-params">new</span> User(<span class="hljs-params">null</span>,<span class="hljs-params">username</span>,<span class="hljs-params">password</span>,<span class="hljs-params">email</span>)</span>);<br>                <span class="hljs-comment">//注册成功后，跳转到注册成功页面</span><br>                req.get<span class="hljs-constructor">RequestDispatcher(<span class="hljs-string">&quot;/pages/user/regist_success.html&quot;</span>)</span>.forward(req,resp);<br>            &#125;<br>        &#125;<span class="hljs-keyword">else</span>&#123;<br>            <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>out.println(<span class="hljs-string">&quot;验证码&quot;</span>+code+<span class="hljs-string">&quot;错误&quot;</span>);<br>            <span class="hljs-comment">//验证码不正确</span><br>            <span class="hljs-comment">//跳回注册页面，因为还是申请服务器中文件所以/还是工程目录下的</span><br>            req.get<span class="hljs-constructor">RequestDispatcher(<span class="hljs-string">&quot;/pages/user/regist.html&quot;</span>)</span>.forward(req,resp);<br><br>        &#125;<br><br><br><br><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>



<h1 id="JSP的内容"><a href="#JSP的内容" class="headerlink" title="JSP的内容"></a>JSP的内容</h1><p><strong>jsp就是既能写java又能写html的文件</strong></p>
<p>jsp 的全换是 java server pages。</p>
<p>Java 的服务器页面。 jsp 的主要作用是代替 Servlet 程序回传 html 页面的数据。 </p>
<p>因为 Servlet 程序回传 html 页面数据是一件非常繁锁的事情。开发成本和维护成本都极高。</p>
<p>用servlet回传数据示例</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs swift">package com.atguigu.servlet;<br><br><span class="hljs-keyword">import</span> javax.servlet.ServletException;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServlet;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequest;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletResponse;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><span class="hljs-keyword">import</span> java.io.PrintWriter;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">pringHtml</span> <span class="hljs-title class_">extends</span> <span class="hljs-title class_">HttpServlet</span> &#123;<br>    <span class="hljs-meta">@Override</span><br>    protected void doGet(<span class="hljs-type">HttpServletRequest</span> req, <span class="hljs-type">HttpServletResponse</span> resp) <span class="hljs-keyword">throws</span> <span class="hljs-type">ServletException</span>, <span class="hljs-type">IOException</span> &#123;<br>        <span class="hljs-comment">// 通过响应的回传流回传 html 页面数据</span><br>        resp.setContentType(<span class="hljs-string">&quot;text/html; charset=UTF-8&quot;</span>);<br>        <span class="hljs-type">PrintWriter</span> writer <span class="hljs-operator">=</span> resp.getWriter();<br>        writer.write(<span class="hljs-string">&quot;&lt;!DOCTYPE html&gt;<span class="hljs-subst">\r</span><span class="hljs-subst">\n</span>&quot;</span>);<br>        writer.write(<span class="hljs-string">&quot; &lt;html lang=<span class="hljs-subst">\&quot;</span>en<span class="hljs-subst">\&quot;</span>&gt;<span class="hljs-subst">\r</span><span class="hljs-subst">\n</span>&quot;</span>);<br>        writer.write(<span class="hljs-string">&quot; &lt;head&gt;<span class="hljs-subst">\r</span><span class="hljs-subst">\n</span>&quot;</span>);<br>        writer.write(<span class="hljs-string">&quot; &lt;meta charset=<span class="hljs-subst">\&quot;</span>UTF-8<span class="hljs-subst">\&quot;</span>&gt;<span class="hljs-subst">\r</span><span class="hljs-subst">\n</span>&quot;</span>);<br>        writer.write(<span class="hljs-string">&quot; &lt;title&gt;Title&lt;/title&gt;<span class="hljs-subst">\r</span><span class="hljs-subst">\n</span>&quot;</span>);<br>        writer.write(<span class="hljs-string">&quot; &lt;/head&gt;<span class="hljs-subst">\r</span><span class="hljs-subst">\n</span>&quot;</span>);<br>        writer.write(<span class="hljs-string">&quot; &lt;body&gt;<span class="hljs-subst">\r</span><span class="hljs-subst">\n</span>&quot;</span>);<br>        writer.write(<span class="hljs-string">&quot; 这是 html 页面数据 <span class="hljs-subst">\r</span><span class="hljs-subst">\n</span>&quot;</span>);<br>        writer.write(<span class="hljs-string">&quot; &lt;/body&gt;<span class="hljs-subst">\r</span><span class="hljs-subst">\n</span>&quot;</span>);<br>        writer.write(<span class="hljs-string">&quot;&lt;/html&gt;<span class="hljs-subst">\r</span><span class="hljs-subst">\n</span>&quot;</span>);<br>        writer.write(<span class="hljs-string">&quot;<span class="hljs-subst">\r</span><span class="hljs-subst">\n</span>&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>





<p>一个简单的jsp代码</p>
<figure class="highlight mojolicious"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs mojolicious"><span class="language-xml">&lt;%</span><span class="language-perl">--</span><br><span class="language-perl">  Created by IntelliJ IDEA.</span><br><span class="language-perl">  User: <span class="hljs-comment">#赵梓皓&amp;</span></span><br><span class="language-perl">  Date: <span class="hljs-number">2022</span>/<span class="hljs-number">10</span>/<span class="hljs-number">1</span></span><br><span class="language-perl">  Time: <span class="hljs-number">10</span>:<span class="hljs-number">28</span></span><br><span class="language-perl">  To change this template <span class="hljs-keyword">use</span> File | Settings | File Templates.</span><br><span class="language-perl">--</span><span class="language-xml">%&gt;</span><br><span class="language-xml">&lt;%</span><span class="language-perl">@ page contentType=<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="hljs-string">&quot;java&quot;</span> </span><span class="language-xml">%&gt;</span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span></span><br><span class="language-xml">这是html页面数据</span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></span><br></code></pre></td></tr></table></figure>



<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210011031963.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20221001103112651"></p>
<p>2、jsp 如何访问：</p>
<p> jsp 页面和 html 页面一样，都是存放在 web 目录下。访问也跟访问 html 页面一样</p>
<p>在 web 目录下有如下的文件： </p>
<p>web 目录 a.html 页面 访问地址是 &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&gt;&gt;&gt;&gt;&gt;&gt; <a href="http://ip:port/工程路径/">http://ip:port/工程路径/</a></p>
<p>a.html b.jsp 页面 访问地址是 &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&gt;&gt;&gt;&gt;&gt;&gt; <a href="http://ip:port/工程路径/b.js">http://ip:port/工程路径/b.js</a></p>
<h2 id="jsp页面的本质"><a href="#jsp页面的本质" class="headerlink" title="jsp页面的本质"></a>jsp页面的本质</h2><p>jsp 页面本质上是一个 Servlet 程序</p>
<p>当我们第一次访问 jsp 页面的时候。Tomcat 服务器会帮我们把 jsp 页面翻译成为一个 java 源文件。并且对它进行编译成 为.class 字节码程序。我们打开 java 源文件不难发现其里面的内容是</p>
<p>找java源文件的路径     </p>
<figure class="highlight moonscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs moonscript"><span class="hljs-name">C</span>:\Users\#赵梓皓&amp;\AppData\Local\JetBrains\IntelliJIdea2020<span class="hljs-number">.3</span>\tomcat\a918c083-a48c<span class="hljs-number">-4</span>fed-a7cf<span class="hljs-number">-4186</span>b397852c\work\Catalina\localhost\jsp\org\apache\jsp<br><br></code></pre></td></tr></table></figure>

<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210011039442.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20221001103931295"></p>
<p>我们跟踪原代码发现，HttpJspBase 类。它直接地继承了 HttpServlet 类。也就是说。jsp 翻译出来的 java 类，它间接了继 承了 HttpServlet 类。也就是说，翻译出来的是一个 Servlet 程序</p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210011039961.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20221001103955100"></p>
<p>总结：通过翻译的 java 源代码我们就可以得到结果：jsp 就是 Servlet 程序。</p>
<p>大家也可以去观察翻译出来的 Servlet 程序的源代码，不难发现。其底层实现，也是通过输出流。把 html 页面数据回传 给客户端</p>
<h2 id="jsp-的三种语法"><a href="#jsp-的三种语法" class="headerlink" title="jsp 的三种语法"></a>jsp 的三种语法</h2><h3 id="jsp-头部的-page-指令"><a href="#jsp-头部的-page-指令" class="headerlink" title="jsp 头部的 page 指令"></a>jsp 头部的 page 指令</h3><p>jsp 的 page 指令可以修改 jsp 页面中一些重要的属性，或者行为</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">&lt;%@<span class="hljs-built_in"> page </span><span class="hljs-attribute">contentType</span>=<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span> <span class="hljs-attribute">language</span>=<span class="hljs-string">&quot;java&quot;</span> %&gt;<br></code></pre></td></tr></table></figure>

<p>i. language 属性                         表示 jsp 翻译后是什么语言文件。暂时只支持 java。</p>
<p> ii. contentType 属性                 表示 jsp 返回的数据类型是什么。也是源码中 response.setContentType()参数值 </p>
<p>iii. pageEncoding 属性                表示当前 jsp 页面文件本身的字符集。 </p>
<p>iv. import 属性                              跟 java 源代码中一样。用于导包，导类。 </p>
<p>&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;两个属性是给 out 输出流使用&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; </p>
<p>v. autoFlush 属性 设置当 out 输出流缓冲区满了之后，是否自动刷新冲级区。默认值是 true。 </p>
<p>vi. buffer 属性 设置 out 缓冲区的大小。默认是 8kb</p>
<p>如果将autoFlush设为false</p>
<p>buffer改为比较小的2kb    </p>
<p>然后jsp中页面又很多就会出现这种情况</p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210011111674.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20221001111120326"></p>
<p>pageEncoding属性改变的就是这个界面的编码</p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210011105624.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20221001110537277"></p>
<p>vii. errorPage                 属性 设置当 jsp 页面运行时出错，自动跳转去的错误页面路径。</p>
<figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs abnf"><span class="hljs-attribute">errorPage</span><span class="hljs-operator">=</span><span class="hljs-string">&quot;/error500.jsp&quot;</span><br></code></pre></td></tr></table></figure>

<!--
errorPage 表示错误后自动跳转去的路径 <br/>
这个路径一般都是以斜杠打头，它表示请求地址为 http://ip:port/工程路径/
映射到代码的 Web 目录
-->

<p>viii.              isErrorPage 属性             设置当前 jsp 页面是否是错误信息页面。默认是 false。如果是 true 可以 获取异常信息。 </p>
<p>ix.           session 属性                         设置访问当前 jsp 页面，是否会创建 HttpSession 对象。默认是 true。 </p>
<p>x. extends 属性                                    设置 jsp 翻译出来的java 类默认继承谁。</p>
<figure class="highlight mojolicious"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs mojolicious"><span class="language-xml">&lt;%</span><span class="language-perl">--</span><br><span class="language-perl">  Created by IntelliJ IDEA.</span><br><span class="language-perl">  User: <span class="hljs-comment">#赵梓皓&amp;</span></span><br><span class="language-perl">  Date: <span class="hljs-number">2022</span>/<span class="hljs-number">10</span>/<span class="hljs-number">1</span></span><br><span class="language-perl">  Time: <span class="hljs-number">10</span>:<span class="hljs-number">28</span></span><br><span class="language-perl">  To change this template <span class="hljs-keyword">use</span> File | Settings | File Templates.</span><br><span class="language-perl">--</span><span class="language-xml">%&gt;</span><br><span class="language-xml">&lt;%</span><span class="language-perl">@ page contentType=<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span></span><br><span class="language-perl">         pageEncoding=<span class="hljs-string">&quot;utf-8&quot;</span></span><br><span class="language-perl">         import=<span class="hljs-string">&quot;java.util.Map&quot;</span></span><br><span class="language-perl">         autoFlush=<span class="hljs-string">&quot;true&quot;</span></span><br><span class="language-perl">         buffer=<span class="hljs-string">&quot;8kb&quot;</span></span><br><span class="language-perl">         errorPage=<span class="hljs-string">&quot;/error500.jsp&quot;</span></span><br><span class="language-perl">         language=<span class="hljs-string">&quot;java&quot;</span> </span><span class="language-xml">%&gt;</span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span></span><br><span class="language-xml">a.jsp页面</span><br><span class="language-xml">&lt;%</span><span class="language-perl"></span><br><span class="language-perl">    <span class="hljs-keyword">int</span> i=<span class="hljs-number">12</span>/<span class="hljs-number">0</span>;</span><br><span class="language-perl"></span><span class="language-xml">%&gt;</span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></span><br></code></pre></td></tr></table></figure>

<h3 id="脚本"><a href="#脚本" class="headerlink" title="脚本"></a>脚本</h3><h4 id="声明脚本（少用）"><a href="#声明脚本（少用）" class="headerlink" title="声明脚本（少用）"></a>声明脚本（少用）</h4><p>声明脚本的格式是： &lt;%! 声明 java 代码 %</p>
<p>作用：可以给 jsp 翻译出来的 java 类定义属性和方法甚至是静态代码块。内部类等</p>
<p>这是jsp的代码</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs JSP">&lt;%--<br>  Created by IntelliJ IDEA.<br>  User: #赵梓皓&amp;<br>  Date: <span class="hljs-number">2022</span>/<span class="hljs-number">10</span>/<span class="hljs-number">1</span><br>  Time: <span class="hljs-number">10</span>:<span class="hljs-number">28</span><br>  To change <span class="hljs-built_in">this</span> template use File | Settings | File Templates.<br>--%&gt;<br>&lt;%@ page contentType=<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span><br>         pageEncoding=<span class="hljs-string">&quot;utf-8&quot;</span><br>         <span class="hljs-keyword">import</span>=<span class="hljs-string">&quot;java.util.Map&quot;</span><br>         autoFlush=<span class="hljs-string">&quot;true&quot;</span><br>         buffer=<span class="hljs-string">&quot;8kb&quot;</span><br>         errorPage=<span class="hljs-string">&quot;/error500.jsp&quot;</span><br>         language=<span class="hljs-string">&quot;java&quot;</span> %&gt;<br>&lt;%@ page <span class="hljs-keyword">import</span>=<span class="hljs-string">&quot;java.util.HashMap&quot;</span> %&gt;<br>&lt;html&gt;<br>&lt;head&gt;<br>    &lt;title&gt;Title&lt;/title&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>&lt;!--<span class="hljs-number">1.</span>声明类属性--&gt;<br>&lt;%!<br>    <span class="hljs-keyword">private</span> Integer id;<br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> Map&lt;String,Object&gt; map;<br>%&gt;<br>&lt;!--<span class="hljs-number">2.</span>定义静态代码块--&gt;<br>&lt;%!<br>    <span class="hljs-keyword">static</span> &#123;<br>        map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;String, Object&gt;();<br>        map.put(<span class="hljs-string">&quot;key1&quot;</span>, <span class="hljs-string">&quot;value1&quot;</span>);<br>        map.put(<span class="hljs-string">&quot;key2&quot;</span>, <span class="hljs-string">&quot;value2&quot;</span>);<br>        map.put(<span class="hljs-string">&quot;key3&quot;</span>, <span class="hljs-string">&quot;value3&quot;</span>);<br>    &#125;<br>%&gt;<br><br>&lt;!--声明类的方法--&gt;<br>&lt;%!<br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">abc</span><span class="hljs-params">()</span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">12</span>;<br>    &#125;<br>%&gt;<br><br>&lt;!--生成内部类--&gt;<br>&lt;%!<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span>&#123;<br>        <span class="hljs-keyword">private</span> Integer id;<br>        <span class="hljs-keyword">private</span> String abc=<span class="hljs-string">&quot;abc&quot;</span>;<br>        <br>    &#125;<br>%&gt;<br><br>&lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>

<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210011309848.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20221001130940305"></p>
<p>上面这个图片是对应的jsp程序在a_jsp.java文件中生成的方法属性和静态代码块的样子</p>
<h4 id="表达式脚本（常用）"><a href="#表达式脚本（常用）" class="headerlink" title="表达式脚本（常用）"></a>表达式脚本（常用）</h4><p>表达式脚本的格式是：&lt;%&#x3D;表达式%&gt; 表达式脚本的作用是：的 jsp 页面上输出数据。</p>
<p>表达式脚本的特点： </p>
<p>1、所有的表达式脚本都会被翻译到_jspService() 方法中 </p>
<p>2、表达式脚本都会被翻译成为 out.print()输出到页面上 </p>
<p><strong>_3、由于表达式脚本翻译的内容都在_jspService() 方法中,所以_jspService()方法中的对象都可以直接使用。</strong> </p>
<p>4、表达式脚本中的表达式不能以分号结束。</p>
<p>这个就是jspService方法</p>
<p><strong>out就是jsp专用的一个输入输出流</strong></p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210011327189.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20221001132735772"></p>
<p>这个_jspService方法中的对象都可以使用</p>
<p>这个是表达式脚本的翻译演示</p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210011331773.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20221001133107785"></p>
<figure class="highlight mojolicious"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs mojolicious"><span class="language-xml">&lt;%=</span><span class="language-perl"><span class="hljs-number">12</span></span><span class="language-xml">%&gt;<span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span></span><br><span class="language-xml">&lt;%=</span><span class="language-perl"><span class="hljs-number">12.12</span></span><span class="language-xml">%&gt;<span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span></span><br><span class="language-xml">&lt;%=</span><span class="language-perl"><span class="hljs-string">&quot;我是字符串&quot;</span></span><span class="language-xml">%&gt;<span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span></span><br><span class="language-xml">&lt;%=</span><span class="language-perl"><span class="hljs-keyword">map</span></span><span class="language-xml">%&gt;</span><br><span class="language-xml"><span class="hljs-comment">&lt;!--使用_jspService方法中的对象--&gt;</span></span><br><span class="language-xml">&lt;%=</span><span class="language-perl">request.getParameter(<span class="hljs-string">&quot;username&quot;</span>)</span><span class="language-xml">%&gt;</span><br></code></pre></td></tr></table></figure>

<p>在页面输出12等等</p>
<h4 id="代码脚本"><a href="#代码脚本" class="headerlink" title="代码脚本"></a>代码脚本</h4><p>代码脚本中用System.out.println输出的都是在控制台中输出的</p>
<p>代码脚本的格式是： &lt;% java 语句 %&gt;</p>
<p>代码脚本的作用是：可以在 jsp 页面中，编写我们自己需要的功能（写的是 java 语句）</p>
<p>代码脚本的特点是： </p>
<p>1、代码脚本翻译之后都在_jspService 方法中 _</p>
<p><strong>_2、代码脚本由于翻译到_jspService()方法中，所以在_jspService()方法中的现有对象都可以直接使用。</strong> </p>
<p>3、还可以由多个代码脚本块组合完成一个完整的 java 语句。 </p>
<p>4、代码脚本还可以和表达式脚本一起组合使用，在 jsp 页面上输出数</p>
<p>正常的System只能输出在控制台，只有和表达式脚本结合才能输出页面</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;!--代码脚本和表达式脚本组合在一起用--&gt;<br>&lt;%<br>    <span class="hljs-type">int</span> i=<span class="hljs-number">13</span>;<br>    <span class="hljs-keyword">if</span>(i==<span class="hljs-number">12</span>)&#123;%&gt;<br>&lt;h1&gt;我是赵梓皓&lt;/h1&gt;<br>   &lt;% &#125;<br>    <span class="hljs-keyword">else</span><br>    &#123;%&gt;<br>&lt;h1&gt;我是张几名&lt;/h1&gt;<br>    &lt;%<br>    &#125;<br> %&gt;<br><br>&lt;!--两个代码脚本合成一个，即使会报错，但是运行之后还是可以输出的--&gt;<br>&lt;!--代码脚本还可以和表达式脚本一起组合输出--&gt;<br>&lt;table border=<span class="hljs-string">&quot;1&quot;</span> cellspacing=<span class="hljs-string">&quot;0&quot;</span>&gt;<br><br>&lt;%<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j=<span class="hljs-number">0</span>;j&lt;<span class="hljs-number">10</span>;j++)&#123;<br>    %&gt;<br>    &lt;tr&gt;<br>        &lt;td&gt;&lt;%=j%&gt;&lt;/td&gt;<br>    &lt;/tr&gt;<br>    &lt;%<br>    &#125;<br>%&gt;<br><br>&lt;/table&gt;<br><br><br><br>&lt;!--用jspService中的对象--&gt;<br>&lt;%<br>    String username=request.getParameter(<span class="hljs-string">&quot;username&quot;</span>);<br>    System.out.println(<span class="hljs-string">&quot;用户名的请求参数是&quot;</span>+username);<br><br>%&gt;<br></code></pre></td></tr></table></figure>

<h4 id="jsp中的三种注释"><a href="#jsp中的三种注释" class="headerlink" title="jsp中的三种注释"></a>jsp中的三种注释</h4><p>i. html 注释 </p>
<p><strong>html 注释会被翻译到 java 源代码中。在_jspService 方法里，以 out.writer 输出到客户端。</strong></p>
<p> ii. java 注释 </p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">&lt;% <span class="hljs-regexp">//</span> 单行 java 注释 <span class="hljs-regexp">/* 多行 java 注释 */</span> %&gt; <br></code></pre></td></tr></table></figure>

<p>java 注释会被翻译到 java 源代码中。 </p>
<p>iii. jsp 注释 &lt;%– 这是 jsp 注释 –%&gt; jsp 注释可以注掉，jsp 页面中所有代码</p>
<h2 id="jsp九大内置对象"><a href="#jsp九大内置对象" class="headerlink" title="jsp九大内置对象"></a>jsp九大内置对象</h2><p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210011451154.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20221001145135639"></p>
<p>这个第九个内置对象只有 isErrorPage为true的时候才会在java文件中显示出来</p>
<h2 id="java四个域对象的演示"><a href="#java四个域对象的演示" class="headerlink" title="java四个域对象的演示"></a>java四个域对象的演示</h2><p><strong>这四个域和Servlet中的域是一样的，所以Servlet在request域中存储的数据，其实在jsp中是可以获取的</strong></p>
<p>四个域对象分别是： </p>
<p>pageContext (PageContextImpl 类)              当前 jsp 页面范围内有效 </p>
<p>request (HttpServletRequest 类)、               一次请求内有效 ，请求转发是一次请求</p>
<p>session (HttpSession 类)、                            一个会话范围内有效（打开浏览器访问服务器，直到关闭浏览器） </p>
<p>application (ServletContext 类)                  整个 web 工程范围内都有效（只要 web 工程不停止，数据都在）</p>
<p>域对象是可以像 Map 一样存取数据的对象。四个域对象功能一样。不同的是它们对数据的存取范围</p>
<p>虽然四个域对象都可以存取数据。在使用上它们是有优先顺序的。</p>
<p>四个域在使用的时候，优先顺序分别是，他们从小到大的范围的顺序。</p>
<p>pageContext &#x3D;&#x3D;&#x3D;&#x3D;&gt;&gt;&gt; request &#x3D;&#x3D;&#x3D;&#x3D;&gt;&gt;&gt; session &#x3D;&#x3D;&#x3D;&#x3D;&gt;&gt;&gt;application</p>
<p>score.jsp</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%--<br>  Created by IntelliJ IDEA.<br>  User: #赵梓皓&amp;<br>  Date: <span class="hljs-number">2022</span>/<span class="hljs-number">10</span>/<span class="hljs-number">1</span><br>  Time: <span class="hljs-number">14</span>:<span class="hljs-number">58</span><br>  To change <span class="hljs-built_in">this</span> template use File | Settings | File Templates.<br>--%&gt;<br>&lt;%@ page contentType=<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="hljs-string">&quot;java&quot;</span> %&gt;<br>&lt;html&gt;<br>&lt;head&gt;<br>    &lt;title&gt;Title&lt;/title&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>   &lt;h1&gt;score.jsp页面&lt;/h1&gt;<br>   &lt;%<br>       <span class="hljs-comment">//往四个域中都分别保存了数据</span><br>       pageContext.setAttribute(<span class="hljs-string">&quot;key&quot;</span>,<span class="hljs-string">&quot;pageContext&quot;</span>);<br>       request.setAttribute(<span class="hljs-string">&quot;key&quot;</span>,<span class="hljs-string">&quot;request&quot;</span>);<br>       session.setAttribute(<span class="hljs-string">&quot;key&quot;</span>,<span class="hljs-string">&quot;session&quot;</span>);<br>       application.setAttribute(<span class="hljs-string">&quot;key&quot;</span>,<span class="hljs-string">&quot;application&quot;</span>);<br>   %&gt;<br>   pageContext域是否有值：&lt;%=pageContext.getAttribute(<span class="hljs-string">&quot;key&quot;</span>)%&gt; &lt;br&gt;<br>   request域是否有值：&lt;%=request.getAttribute(<span class="hljs-string">&quot;key&quot;</span>)%&gt; &lt;br&gt;<br>   session域是否有值：&lt;%=session.getAttribute(<span class="hljs-string">&quot;key&quot;</span>)%&gt; &lt;br&gt;<br>   application域是否有值：&lt;%=application.getAttribute(<span class="hljs-string">&quot;key&quot;</span>)%&gt; &lt;br&gt;<br>&lt;%<br>    request.getRequestDispatcher(<span class="hljs-string">&quot;/score2.jsp&quot;</span>).forward(request,response);<br>%&gt;<br>&lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>



<p>score2.jsp</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%--<br>  Created by IntelliJ IDEA.<br>  User: Administrator<br>  Date: <span class="hljs-number">2020</span>/<span class="hljs-number">2</span>/<span class="hljs-number">23</span><br>  Time: <span class="hljs-number">21</span>:<span class="hljs-number">23</span><br>  To change <span class="hljs-built_in">this</span> template use File | Settings | File Templates.<br>--%&gt;<br>&lt;%@ page contentType=<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="hljs-string">&quot;java&quot;</span> %&gt;<br>&lt;html&gt;<br>&lt;head&gt;<br>    &lt;title&gt;Title&lt;/title&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>    &lt;h1&gt;scope2.jsp页面&lt;/h1&gt;<br>    pageContext域是否有值：&lt;%=pageContext.getAttribute(<span class="hljs-string">&quot;key&quot;</span>)%&gt; &lt;br&gt;<br>    request域是否有值：&lt;%=request.getAttribute(<span class="hljs-string">&quot;key&quot;</span>)%&gt; &lt;br&gt;<br>    session域是否有值：&lt;%=session.getAttribute(<span class="hljs-string">&quot;key&quot;</span>)%&gt; &lt;br&gt;<br>    application域是否有值：&lt;%=application.getAttribute(<span class="hljs-string">&quot;key&quot;</span>)%&gt; &lt;br&gt;<br>&lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>

<p>这种情况pageContext是null，因为请求转发就变了一个jsp页面了，但是依然是一次请求所以request是有的</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">如果再专门请求一次score2                  http:<span class="hljs-regexp">//</span>localhost:<span class="hljs-number">8088</span><span class="hljs-regexp">/jsp/</span>score2.jsp<br></code></pre></td></tr></table></figure>

<p>就可以让request也变成null</p>
<p>如果关闭浏览器，这里指的是关闭浏览器而不是只关闭浏览器的那个页面，然后再访问一次<a target="_blank" rel="noopener" href="http://localhost:8088/jsp/score2.jsp">http://localhost:8088/jsp/score2.jsp</a></p>
<p>这样session就会消失了</p>
<p>重启或者重新部署服务器就会让application变为null</p>
<h2 id="jsp中out和response-getWriter输出的区别"><a href="#jsp中out和response-getWriter输出的区别" class="headerlink" title="jsp中out和response.getWriter输出的区别"></a>jsp中out和response.getWriter输出的区别</h2><p>response 中表示响应，我们经常用于设置返回给客户端的内容（输出） </p>
<p>out 也是给用户做输出使用的。</p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210011607003.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20221001160700668"></p>
<p>由于 jsp 翻译之后，底层源代码都是使用 out 来进行输出，所以一般情况下。我们在 jsp 页面中统一使用 out 来进行输出。避 免打乱页面输出内容的顺序</p>
<p>out.write() 输出字符串没有问题 out.print() 输出任意数据都没有问题（都转换成为字符串后调用的 write 输出</p>
<p>深入源码，浅出结论：在 jsp 页面中，可以统一使用 out.print()来进行输</p>
<p>这个就是out输出一     out输出二   response输出1       response输出2</p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">&lt;%<br>    <span class="hljs-keyword">out</span>.<span class="hljs-keyword">write</span>(&quot;out输出一&quot;);<br>    <span class="hljs-keyword">out</span>.<span class="hljs-keyword">write</span>(&quot;out输出二&quot;);<br>    <span class="hljs-keyword">out</span>.flush();<br>    response.getWriter().<span class="hljs-keyword">write</span>(&quot;respose输出1&quot;);<br>    response.getWriter().<span class="hljs-keyword">write</span>(&quot;response输出2&quot;);<br><br>%&gt;<br></code></pre></td></tr></table></figure>

<p>下面的这个规则对out的print方法依然适用</p>
<p><strong>就是两个对象的write方法都能把自己分别写入自己的缓冲区</strong></p>
<p><strong>有out.flush方法就把out缓冲区中的追加到response缓冲区，就算没有out.flush，在页面代码执行完成（也就是response write的都写进了response缓冲区）自动把out缓冲区中的追加到response缓冲区</strong></p>
<p><strong>然后执行response刷新，把全部数据给客户端</strong></p>
<h2 id="jsp常用标签"><a href="#jsp常用标签" class="headerlink" title="jsp常用标签"></a>jsp常用标签</h2><h3 id="jsp静态包含"><a href="#jsp静态包含" class="headerlink" title="jsp静态包含"></a>jsp静态包含</h3><p>示例说明： </p>
<p> &lt;%@ include file&#x3D;””%&gt; 就是静态包含</p>
<p> file 属性指定你要包含的 jsp 页面的路径 地址中第一个斜杠 &#x2F; 表示为 <a href="http://ip:port/工程路径/">http://ip:port/工程路径/</a> 映射到代码的 web 目录</p>
<figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mel">&lt;%@ include <span class="hljs-keyword">file</span>=<span class="hljs-string">&quot;/include/foot.jsp&quot;</span>%&gt;<br></code></pre></td></tr></table></figure>

<p>在main.jsp中包含foot.jsp文件 </p>
<p>这样访问main.jsp的时候也可以看到foot.jsp中的内容</p>
<p>静态包含的特点：</p>
<p>​             1、静态包含不会翻译被包含的 jsp 页面。</p>
<p>​             2、静态包含其实是把被包含的 jsp 页面的代码拷贝到包含的位置执行输出</p>
<h3 id="jsp动态包含"><a href="#jsp动态包含" class="headerlink" title="jsp动态包含"></a>jsp动态包含</h3><p> 这是动态包含 </p>
<figure class="highlight openscad"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs openscad">&lt;jsp:<span class="hljs-meta"><span class="hljs-keyword">include</span> page=&quot;&quot;&gt;</span>&lt;/jsp:<span class="hljs-meta"><span class="hljs-keyword">include</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>page 属性是指定你要包含的 jsp 页面的路径 </p>
<p>动态包含也可以像静态包含一样。把被包含的内容执行输出到包含位置</p>
<p>动态包含的特点： </p>
<p>1、动态包含会把包含的 jsp 页面也翻译成为 java 代码 </p>
<p>2、动态包含底层代码使用如下代码去调用被包含的 jsp 页面执行输出。 </p>
<p>​                                        JspRuntimeLibrary.include(request, response, “&#x2F;include&#x2F;footer.jsp”, out, false); </p>
<p>3、动态包含，还可以传递参数</p>
<p>动态包含的原理是：main.jsp把自己的对象都传递给了footer.jsp页面，所以而这用的是一个out对象</p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210021324447.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20221002132437189"></p>
<p>main.jsp</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%--<br>  Created by IntelliJ IDEA.<br>  User: #赵梓皓&amp;<br>  Date: <span class="hljs-number">2022</span>/<span class="hljs-number">10</span>/<span class="hljs-number">2</span><br>  Time: <span class="hljs-number">13</span>:<span class="hljs-number">01</span><br>  To change <span class="hljs-built_in">this</span> template use File | Settings | File Templates.<br>--%&gt;<br>&lt;%@ page contentType=<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="hljs-string">&quot;java&quot;</span> %&gt;<br>&lt;html&gt;<br>&lt;head&gt;<br>    &lt;title&gt;Title&lt;/title&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>头部信息&lt;br/&gt;<br>主体信息&lt;br/&gt;<br><br><br><span class="hljs-comment">//静态包含</span><br>&lt;%@ include file=<span class="hljs-string">&quot;/include/foot.jsp&quot;</span>%&gt;<br><br><span class="hljs-comment">//动态包含</span><br>&lt;%--可以向foot.jsp传递参数，在foot.jsp页面中获取，因为都是用的一个request对象--%&gt;<br>&lt;jsp:include page=<span class="hljs-string">&quot;/include/foot.jsp&quot;</span>&gt;<br>   &lt;jsp:param name=<span class="hljs-string">&quot;username&quot;</span> value=<span class="hljs-string">&quot;admin&quot;</span>/&gt;<br>   &lt;jsp:param name=<span class="hljs-string">&quot;password&quot;</span> value=<span class="hljs-string">&quot;admin&quot;</span>/&gt;<br>&lt;/jsp:include&gt;<br>&lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>





<p>foot.jsp</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%--<br>  Created by IntelliJ IDEA.<br>  User: #赵梓皓&amp;<br>  Date: <span class="hljs-number">2022</span>/<span class="hljs-number">10</span>/<span class="hljs-number">2</span><br>  Time: <span class="hljs-number">13</span>:<span class="hljs-number">04</span><br>  To change <span class="hljs-built_in">this</span> template use File | Settings | File Templates.<br>--%&gt;<br>&lt;%@ page contentType=<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="hljs-string">&quot;java&quot;</span> %&gt;<br>&lt;html&gt;<br>&lt;head&gt;<br>    &lt;title&gt;Title&lt;/title&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>页脚信息&lt;br/&gt;<br><span class="hljs-comment">//获取main.jsp传来的参数</span><br>&lt;%=request.getParameter(<span class="hljs-string">&quot;username&quot;</span>)%&gt;<br>&lt;%=request.getParameter(<span class="hljs-string">&quot;password&quot;</span>)%&gt;<br>&lt;/body&gt;<br>&lt;/html&gt;<br><br></code></pre></td></tr></table></figure>

<h3 id="请求转发"><a href="#请求转发" class="headerlink" title="请求转发"></a>请求转发</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">jsp:forward</span> <span class="hljs-attr">page</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">jsp:forward</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p> 是请求转发标签，它的功能就是请求转发 page 属性设置请求转发的路径</p>
<figure class="highlight xquery"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs xquery">&lt;<span class="hljs-meta">%--</span>请求转发--%&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">jsp:forward</span> <span class="hljs-attr">page</span>=<span class="hljs-string">&quot;/score2.jsp&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">jsp:forward</span>&gt;</span></span><br></code></pre></td></tr></table></figure>

<p>跳转到访问score2.jsp，显示score2.jsp内容</p>
<h2 id="jsp练习题"><a href="#jsp练习题" class="headerlink" title="jsp练习题"></a>jsp练习题</h2><p>总结：</p>
<p>&lt;%   %&gt;代码脚本中  不要有表达式脚本或者声明脚本，也不要有html标签</p>
<p>html标签中可以有表达式脚本或者代码脚本</p>
<p>而且<tr>   到</tr>可以是看作一行，</tr>就是用来换行的标志</p>
<h3 id="jsp页面中输出九九乘法表"><a href="#jsp页面中输出九九乘法表" class="headerlink" title="jsp页面中输出九九乘法表"></a>jsp页面中输出九九乘法表</h3><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%--<br>  Created by IntelliJ IDEA.<br>  User: #赵梓皓&amp;<br>  Date: <span class="hljs-number">2022</span>/<span class="hljs-number">10</span>/<span class="hljs-number">2</span><br>  Time: <span class="hljs-number">13</span>:<span class="hljs-number">36</span><br>  To change <span class="hljs-built_in">this</span> template use File | Settings | File Templates.<br>--%&gt;<br>&lt;%@ page contentType=<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="hljs-string">&quot;java&quot;</span> %&gt;<br>&lt;html&gt;<br>&lt;head&gt;<br>    &lt;title&gt;Title&lt;/title&gt;<br>    &lt;style type=<span class="hljs-string">&quot;text/css&quot;</span>&gt;<br><br>        table&#123;<br>            width:600px;<br>        &#125;<br><br>    &lt;/style&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>&lt;h1 align=<span class="hljs-string">&quot;center&quot;</span>&gt;九九乘法口诀表&lt;/h1&gt;<br>&lt;table border=<span class="hljs-string">&quot;1&quot;</span>&gt;<br>&lt;%<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;i&lt;=<span class="hljs-number">9</span>;i++)&#123;    %&gt;<br>&lt;tr&gt;<br>&lt;%<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j=<span class="hljs-number">1</span>;j&lt;=i;j++)<br>&#123;%&gt;<br>    &lt;td&gt;&lt;%=i+<span class="hljs-string">&quot;*&quot;</span>+j+<span class="hljs-string">&quot;=&quot;</span>+i*j%&gt;&lt;/td&gt;<br>&lt;%<br>&#125;<br>%&gt;<br>    &lt;tr/&gt;<br>&lt;%<br>&#125;%&gt;<br>&lt;/table&gt;<br>&lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>



<h3 id="遍历输出10个学生信息到表格中"><a href="#遍历输出10个学生信息到表格中" class="headerlink" title="遍历输出10个学生信息到表格中"></a>遍历输出10个学生信息到表格中</h3><p>Student类</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><code class="hljs typescript">package com.<span class="hljs-property">atguigu</span>.<span class="hljs-property">pojo</span>;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span> &#123;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-title class_">Integer</span> id;<br>    <span class="hljs-keyword">private</span> <span class="hljs-title class_">String</span> name;<br>    <span class="hljs-keyword">private</span> <span class="hljs-title class_">Integer</span> age;<br>    <span class="hljs-keyword">private</span> <span class="hljs-title class_">String</span> phone;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title class_">Student</span>() &#123;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title class_">Student</span>(<span class="hljs-title class_">Integer</span> id, <span class="hljs-title class_">String</span> name, <span class="hljs-title class_">Integer</span> age, <span class="hljs-title class_">String</span> phone) &#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">id</span> = id;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">phone</span> = phone;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-title class_">String</span> <span class="hljs-title function_">toString</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Student&#123;&quot;</span> +<br>                <span class="hljs-string">&quot;id=&quot;</span> + id +<br>                <span class="hljs-string">&quot;, name=&#x27;&quot;</span> + name + <span class="hljs-string">&#x27;\&#x27;&#x27;</span> +<br>                <span class="hljs-string">&quot;, age=&quot;</span> + age +<br>                <span class="hljs-string">&quot;, phone=&#x27;&quot;</span> + phone + <span class="hljs-string">&#x27;\&#x27;&#x27;</span> +<br>                <span class="hljs-string">&#x27;&#125;&#x27;</span>;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title class_">Integer</span> <span class="hljs-title function_">getId</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-keyword">return</span> id;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">setId</span>(<span class="hljs-params">Integer id</span>) &#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">id</span> = id;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title class_">String</span> <span class="hljs-title function_">getName</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-keyword">return</span> name;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">setName</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> name</span>) &#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title class_">Integer</span> <span class="hljs-title function_">getAge</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-keyword">return</span> age;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">setAge</span>(<span class="hljs-params">Integer age</span>) &#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title class_">String</span> <span class="hljs-title function_">getPhone</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-keyword">return</span> phone;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">setPhone</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> phone</span>) &#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">phone</span> = phone;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%@ page <span class="hljs-keyword">import</span>=<span class="hljs-string">&quot;com.atguigu.pojo.Student&quot;</span> %&gt;<br>&lt;%@ page <span class="hljs-keyword">import</span>=<span class="hljs-string">&quot;java.util.ArrayList&quot;</span> %&gt;&lt;%--<br>  Created by IntelliJ IDEA.<br>  User: #赵梓皓&amp;<br>  Date: <span class="hljs-number">2022</span>/<span class="hljs-number">10</span>/<span class="hljs-number">2</span><br>  Time: <span class="hljs-number">13</span>:<span class="hljs-number">56</span><br>  To change <span class="hljs-built_in">this</span> template use File | Settings | File Templates.<br>--%&gt;<br>&lt;%@ page contentType=<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="hljs-string">&quot;java&quot;</span> %&gt;<br>&lt;html&gt;<br>&lt;head&gt;<br>    &lt;title&gt;Title&lt;/title&gt;<br>    &lt;style&gt;<br>        table&#123;<br>            border:1px black solid;<br>            width:600px;<br>            border-collapse: collapse;<br><br>        &#125;<br>        td,th&#123;<br>   border:1px black solid;<br>        &#125;<br>    &lt;/style&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>&lt;%<br>    ArrayList&lt;Student&gt; studentArrayList = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;Student&gt;();<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">10</span>;i++)&#123;<br>        <span class="hljs-type">int</span> t=i+<span class="hljs-number">1</span>;<br>        studentArrayList.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>(t,<span class="hljs-string">&quot;name&quot;</span>,<span class="hljs-number">18</span>+t,<span class="hljs-string">&quot;phone&quot;</span>+t));<br>    &#125;<br>%&gt;<br>&lt;table border=<span class="hljs-string">&quot;1px&quot;</span>&gt;<br>    &lt;tr&gt;<br>        &lt;td&gt;id&lt;/td&gt;<br>        &lt;td&gt;姓名&lt;/td&gt;<br>        &lt;td&gt;年龄&lt;/td&gt;<br>        &lt;td&gt;手机号&lt;/td&gt;<br>    &lt;/tr&gt;<br>    &lt;%<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">10</span>;i++)&#123;<br>    <span class="hljs-type">int</span> id=studentArrayList.get(i).getId();<br>    String name=studentArrayList.get(i).getName();<br>    <span class="hljs-type">int</span> age=studentArrayList.get(i).getAge();<br>    String phone=studentArrayList.get(i).getPhone();<br>    %&gt;<br>        &lt;tr&gt;<br>            &lt;td&gt;&lt;%=id%&gt;&lt;/td&gt;<br>            &lt;td&gt;&lt;%=name%&gt;&lt;/td&gt;<br>            &lt;td&gt;&lt;%=age%&gt;&lt;/td&gt;<br>            &lt;td&gt;&lt;%=phone%&gt;&lt;/td&gt;<br>        &lt;/tr&gt;<br>    &lt;%&#125;%&gt;<br>&lt;/table&gt;<br>&lt;%<br><br>%&gt;<br>&lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>

<h3 id="请求转发的使用说明（第二个练习的优化）"><a href="#请求转发的使用说明（第二个练习的优化）" class="headerlink" title="请求转发的使用说明（第二个练习的优化）"></a>请求转发的使用说明（第二个练习的优化）</h3><p>Servlet不太适合将查到的学生信息回传到客户端，所以改用jsp</p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210021429478.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20221002142858573"></p>
<p>SearchStudentServlet程序</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs scala"><span class="hljs-keyword">package</span> com.atguigu.servlet;<br><br><span class="hljs-keyword">import</span> com.atguigu.pojo.<span class="hljs-type">Student</span>;<br><br><span class="hljs-keyword">import</span> javax.servlet.<span class="hljs-type">ServletException</span>;<br><span class="hljs-keyword">import</span> javax.servlet.http.<span class="hljs-type">HttpServlet</span>;<br><span class="hljs-keyword">import</span> javax.servlet.http.<span class="hljs-type">HttpServletRequest</span>;<br><span class="hljs-keyword">import</span> javax.servlet.http.<span class="hljs-type">HttpServletResponse</span>;<br><span class="hljs-keyword">import</span> java.io.<span class="hljs-type">IOException</span>;<br><span class="hljs-keyword">import</span> java.util.<span class="hljs-type">ArrayList</span>;<br><br>public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SearchStudentServlet</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">HttpServlet</span> </span>&#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> void doGet(<span class="hljs-type">HttpServletRequest</span> req, <span class="hljs-type">HttpServletResponse</span> resp) <span class="hljs-keyword">throws</span> <span class="hljs-type">ServletException</span>, <span class="hljs-type">IOException</span> &#123;<br>        <span class="hljs-comment">//获取请求的参数</span><br>        <span class="hljs-comment">//发sql语句查询学生的信息</span><br>        <span class="hljs-comment">//使用for循环代替前面两步</span><br>        <span class="hljs-type">ArrayList</span>&lt;<span class="hljs-type">Student</span>&gt; studentArrayList = <span class="hljs-keyword">new</span> <span class="hljs-type">ArrayList</span>&lt;<span class="hljs-type">Student</span>&gt;();<br>        <span class="hljs-keyword">for</span>(int i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">10</span>;i++)&#123;<br>            int t=i+<span class="hljs-number">1</span>;<br>            studentArrayList.add(<span class="hljs-keyword">new</span> <span class="hljs-type">Student</span>(t,<span class="hljs-string">&quot;name&quot;</span>,<span class="hljs-number">18</span>+t,<span class="hljs-string">&quot;phone&quot;</span>+t));<br>        &#125;<br>        <span class="hljs-comment">//保存查询到的结果到request域中</span><br>        req.setAttribute(<span class="hljs-string">&quot;stuList&quot;</span>,studentArrayList);<br>        <span class="hljs-comment">//请求转发到showStudent.jsp页面</span><br>        req.getRequestDispatcher(<span class="hljs-string">&quot;/test/test2.jsp&quot;</span>).forward(req,resp);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>test2.jsp</p>
<figure class="highlight vbscript-html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><code class="hljs vbscript-html"><span class="language-vbscript">&lt;%@ page import=<span class="hljs-string">&quot;com.atguigu.pojo.Student&quot;</span> %&gt;</span><span class="language-xml"></span><br><span class="language-xml"></span><span class="language-vbscript">&lt;%@ page import=<span class="hljs-string">&quot;java.util.ArrayList&quot;</span> %&gt;</span><span class="language-xml"></span><br><span class="language-xml"></span><span class="language-vbscript">&lt;%@ page import=<span class="hljs-string">&quot;java.util.List&quot;</span> %&gt;</span><span class="language-vbscript">&lt;%--</span><br><span class="language-vbscript">  Created by IntelliJ IDEA.</span><br><span class="language-vbscript">  User: #赵梓皓&amp;</span><br><span class="language-vbscript">  Date: <span class="hljs-number">2022</span>/<span class="hljs-number">10</span>/<span class="hljs-number">2</span></span><br><span class="language-vbscript">  Time: <span class="hljs-number">13</span>:<span class="hljs-number">56</span></span><br><span class="language-vbscript">  <span class="hljs-keyword">To</span> change this template use File | Settings | File Templates.</span><br><span class="language-vbscript">--%&gt;</span><span class="language-xml"></span><br><span class="language-xml"></span><span class="language-vbscript">&lt;%@ page contentType=<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="hljs-string">&quot;java&quot;</span> %&gt;</span><span class="language-xml"></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="language-css"><span class="language-xml">        <span class="hljs-selector-tag">table</span>&#123;</span></span><br><span class="language-css"><span class="language-xml">            <span class="hljs-attribute">border</span>:<span class="hljs-number">1px</span> black solid;</span></span><br><span class="language-css"><span class="language-xml">            <span class="hljs-attribute">width</span>:<span class="hljs-number">600px</span>;</span></span><br><span class="language-css"><span class="language-xml">            <span class="hljs-attribute">border-collapse</span>: collapse;</span></span><br><span class="language-css"><span class="language-xml"></span></span><br><span class="language-css"><span class="language-xml">        &#125;</span></span><br><span class="language-css"><span class="language-xml">        <span class="hljs-selector-tag">td</span>,<span class="hljs-selector-tag">th</span>&#123;</span></span><br><span class="language-css"><span class="language-xml">   <span class="hljs-attribute">border</span>:<span class="hljs-number">1px</span> black solid;</span></span><br><span class="language-css"><span class="language-xml">        &#125;</span></span><br><span class="language-css"><span class="language-xml">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span></span><br><span class="language-xml"></span><span class="language-vbscript">&lt;%</span><br><span class="language-vbscript">    List&lt;Student&gt; studentList=(List&lt;Student&gt;)<span class="hljs-built_in">request</span>.getAttribute(<span class="hljs-string">&quot;stuList&quot;</span>);</span><br><span class="language-vbscript">%&gt;</span><span class="language-xml"></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">table</span> <span class="hljs-attr">border</span>=<span class="hljs-string">&quot;1px&quot;</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>id<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>姓名<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>年龄<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>手机号<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span></span><br><span class="language-xml">    </span><span class="language-vbscript">&lt;%<span class="hljs-keyword">for</span>(int i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">10</span>;i++)&#123;</span><br><span class="language-vbscript">    int id=studentList.<span class="hljs-keyword">get</span>(i).getId();</span><br><span class="language-vbscript">    String name=studentList.<span class="hljs-keyword">get</span>(i).getName();</span><br><span class="language-vbscript">    int age=studentList.<span class="hljs-keyword">get</span>(i).getAge();</span><br><span class="language-vbscript">    String phone=studentList.<span class="hljs-keyword">get</span>(i).getPhone();</span><br><span class="language-vbscript">    %&gt;</span><span class="language-xml"></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span></span><span class="language-vbscript">&lt;%=id%&gt;</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span></span><span class="language-vbscript">&lt;%=name%&gt;</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span></span><span class="language-vbscript">&lt;%=age%&gt;</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span></span><span class="language-vbscript">&lt;%=phone%&gt;</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span></span><br><span class="language-xml">    </span><span class="language-vbscript">&lt;%&#125;%&gt;</span><span class="language-xml"></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span></span><br><span class="language-xml"></span><span class="language-vbscript">&lt;%</span><br><span class="language-vbscript"></span><br><span class="language-vbscript">%&gt;</span><span class="language-xml"></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></span><br></code></pre></td></tr></table></figure>

<h2 id="Listener监听器"><a href="#Listener监听器" class="headerlink" title="Listener监听器"></a>Listener监听器</h2><p>1、Listener 监听器它是 JavaWeb 的三大组件之一。JavaWeb 的三大组件分别是：Servlet 程序、Filter 过滤器、Listener 监 听器。</p>
<p> 2、Listener 它是 JavaEE 的规范，就是接口 </p>
<p>3、监听器的作用是，监听某种事物的变化。然后通过回调函数，反馈给客户（程序）去做一些相应的处理。</p>
<h3 id="ServletContextListener监听器"><a href="#ServletContextListener监听器" class="headerlink" title="ServletContextListener监听器"></a>ServletContextListener监听器</h3><p>ServletContextListener 它可以监听 ServletContext 对象的创建和销毁</p>
<p>ServletContext 对象在 web 工程启动的时候创建，在 web 工程停止的时候销毁。</p>
<p>监听到创建和销毁之后都会分别调用 </p>
<p>两个方法分别是：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//</span><br><span class="hljs-comment">// Source code recreated from a .class file by IntelliJ IDEA</span><br><span class="hljs-comment">// (powered by FernFlower decompiler)</span><br><span class="hljs-comment">//</span><br><br><span class="hljs-keyword">package</span> javax.servlet;<br><br><span class="hljs-keyword">import</span> java.util.EventListener;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">ServletContextListener</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">EventListener</span> &#123;<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">这个方法在ServletContext对象创建之后调用，做初始化</span><br><span class="hljs-comment">*/</span><br>    <span class="hljs-keyword">void</span> <span class="hljs-title function_">contextInitialized</span><span class="hljs-params">(ServletContextEvent var1)</span>;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">这个方法在ServletContext对象销毁之后调用</span><br><span class="hljs-comment">*/</span><br>    <span class="hljs-keyword">void</span> <span class="hljs-title function_">contextDestroyed</span><span class="hljs-params">(ServletContextEvent var1)</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>如何使用 ServletContextListener 监听器监听 ServletContext 对象。 使用步骤如下：</p>
<p>​             1、编写一个类去实现 ServletContextListener </p>
<p>​             2、实现其两个回调方法 </p>
<p>​             3、到 web.xml 中去配置监听器</p>
<h1 id="EL表达式"><a href="#EL表达式" class="headerlink" title="EL表达式"></a>EL表达式</h1><p>EL 表达式的全称是：Expression Language。是表达式语言。 </p>
<p>EL 表达式的什么作用：EL 表达式主要是代替 jsp 页面中的表达式脚本在 jsp 页面中进行数据的输出。</p>
<p> 因为 EL 表达式在输出数据的时候，要比 jsp 的表达式脚本要简洁很多</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%--<br>  Created by IntelliJ IDEA.<br>  User: #赵梓皓&amp;<br>  Date: <span class="hljs-number">2022</span>/<span class="hljs-number">10</span>/<span class="hljs-number">2</span><br>  Time: <span class="hljs-number">15</span>:08<br>  To change <span class="hljs-built_in">this</span> template use File | Settings | File Templates.<br>--%&gt;<br>&lt;%@ page contentType=<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="hljs-string">&quot;java&quot;</span> %&gt;<br>&lt;html&gt;<br>&lt;head&gt;<br>    &lt;title&gt;Title&lt;/title&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>jsp的用法<br>&lt;%<br>    request.setAttribute(<span class="hljs-string">&quot;key&quot;</span>,<span class="hljs-string">&quot;值&quot;</span>);<br>%&gt;<br>表达式输出key的值是&lt;%=request.getAttribute(<span class="hljs-string">&quot;key1&quot;</span>)%&gt;<br><br>EL表达式输出key的值<br>$&#123;key1&#125;<br>&lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>



<p>EL 表达式的格式是：${表达式} </p>
<p>EL 表达式在输出 null 值的时候，输出的是空串。jsp 表达式脚本输出 null 值的时候，输出的是 null 字符串。</p>
<h2 id="EL表达式搜索域数据的顺序"><a href="#EL表达式搜索域数据的顺序" class="headerlink" title="EL表达式搜索域数据的顺序"></a>EL表达式搜索域数据的顺序</h2><p>EL 表达式主要是在 jsp 页面中输出数据。 </p>
<p>主要是输出域对象中的数据。</p>
<p>当四个域中都有相同的 key 的数据的时候，EL 表达式会按照四个域的从小到大的顺序去进行搜索，找到就输出。</p>
<p>pageContext&#x3D;&#x3D;》requst&#x3D;&#x3D;》session&#x3D;&#x3D;》application</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%--<br>  Created by IntelliJ IDEA.<br>  User: #赵梓皓&amp;<br>  Date: <span class="hljs-number">2022</span>/<span class="hljs-number">10</span>/<span class="hljs-number">2</span><br>  Time: <span class="hljs-number">15</span>:<span class="hljs-number">17</span><br>  To change <span class="hljs-built_in">this</span> template use File | Settings | File Templates.<br>--%&gt;<br>&lt;%@ page contentType=<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="hljs-string">&quot;java&quot;</span> %&gt;<br>&lt;html&gt;<br>&lt;head&gt;<br>    &lt;title&gt;Title&lt;/title&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>&lt;%<br>    <span class="hljs-comment">//往四个域中都保存了相同的key的数据</span><br><br>    request.setAttribute(<span class="hljs-string">&quot;key&quot;</span>,<span class="hljs-string">&quot;request&quot;</span>);<br>    session.setAttribute(<span class="hljs-string">&quot;key&quot;</span>,<span class="hljs-string">&quot;session&quot;</span>);<br>    application.setAttribute(<span class="hljs-string">&quot;key&quot;</span>,<span class="hljs-string">&quot;application&quot;</span>);<br>    pageContext.setAttribute(<span class="hljs-string">&quot;key&quot;</span>,<span class="hljs-string">&quot;pageContext&quot;</span>);<br>%&gt;<br>$&#123;key&#125;<br>&lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>

<h2 id="EL-表达式输出-Bean-的普通属性，数组属性。List-集-合属性，map-集合属性"><a href="#EL-表达式输出-Bean-的普通属性，数组属性。List-集-合属性，map-集合属性" class="headerlink" title="EL 表达式输出 Bean 的普通属性，数组属性。List 集 合属性，map 集合属性"></a>EL 表达式输出 Bean 的普通属性，数组属性。List 集 合属性，map 集合属性</h2><p>i. 需求——输出 Person 类中普通属性，数组属性。list 集合属性和 map</p>
<p>Person类</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><code class="hljs typescript">package com.<span class="hljs-property">atguigu</span>.<span class="hljs-property">pojo</span>;<br><br><span class="hljs-keyword">import</span> java.<span class="hljs-property">util</span>.<span class="hljs-property">Arrays</span>;<br><span class="hljs-keyword">import</span> java.<span class="hljs-property">util</span>.<span class="hljs-property">List</span>;<br><span class="hljs-keyword">import</span> java.<span class="hljs-property">util</span>.<span class="hljs-property">Map</span>;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> &#123;<br>    <span class="hljs-keyword">private</span> int age=<span class="hljs-number">18</span>;<br><br>    <span class="hljs-keyword">public</span> int <span class="hljs-title function_">getAge</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-keyword">return</span> age;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">setAge</span>(<span class="hljs-params">int age</span>) &#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title class_">String</span> <span class="hljs-title function_">getName</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-keyword">return</span> name;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">setName</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> name</span>) &#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title class_">String</span>[] <span class="hljs-title function_">getPhones</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-keyword">return</span> phones;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">setPhones</span>(<span class="hljs-params"><span class="hljs-built_in">String</span>[] phones</span>) &#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">phones</span> = phones;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-title class_">String</span> <span class="hljs-title function_">toString</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Person&#123;&quot;</span> +<br>                <span class="hljs-string">&quot;name=&quot;</span> + name +<br>                <span class="hljs-string">&quot;, phones=&quot;</span> + <span class="hljs-title class_">Arrays</span>.<span class="hljs-title function_">toString</span>(phones) +<br>                <span class="hljs-string">&quot;, cities=&quot;</span> + cities +<br>                <span class="hljs-string">&quot;, map=&quot;</span> + map +<br>                <span class="hljs-string">&#x27;&#125;&#x27;</span>;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title class_">List</span>&lt;<span class="hljs-title class_">String</span>&gt; <span class="hljs-title function_">getCities</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-keyword">return</span> cities;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">setCities</span>(<span class="hljs-params">List&lt;<span class="hljs-built_in">String</span>&gt; cities</span>) &#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">cities</span> = cities;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title class_">Map</span>&lt;<span class="hljs-title class_">String</span>, <span class="hljs-title class_">Object</span>&gt; <span class="hljs-title function_">getMap</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-keyword">return</span> map;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">setMap</span>(<span class="hljs-params"><span class="hljs-built_in">Map</span>&lt;<span class="hljs-built_in">String</span>, <span class="hljs-built_in">Object</span>&gt; map</span>) &#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">map</span> = map;<br>    &#125;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-title class_">String</span> name;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title class_">Person</span>(<span class="hljs-title class_">String</span> name, <span class="hljs-title class_">String</span>[] phones, <span class="hljs-title class_">List</span>&lt;<span class="hljs-title class_">String</span>&gt; cities, <span class="hljs-title class_">Map</span>&lt;<span class="hljs-title class_">String</span>, <span class="hljs-title class_">Object</span>&gt; map) &#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">phones</span> = phones;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">cities</span> = cities;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">map</span> = map;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title class_">Person</span>() &#123;<br>    &#125;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-title class_">String</span>[] phones;<br>    <span class="hljs-keyword">private</span> <span class="hljs-title class_">List</span>&lt;<span class="hljs-title class_">String</span>&gt; cities;<br>    <span class="hljs-keyword">private</span> <span class="hljs-title class_">Map</span>&lt;<span class="hljs-title class_">String</span>,<span class="hljs-title class_">Object</span>&gt; map;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>c.jsp文件</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%@ page <span class="hljs-keyword">import</span>=<span class="hljs-string">&quot;com.atguigu.pojo.Person&quot;</span> %&gt;<br>&lt;%@ page <span class="hljs-keyword">import</span>=<span class="hljs-string">&quot;java.util.List&quot;</span> %&gt;<br>&lt;%@ page <span class="hljs-keyword">import</span>=<span class="hljs-string">&quot;java.util.ArrayList&quot;</span> %&gt;<br>&lt;%@ page <span class="hljs-keyword">import</span>=<span class="hljs-string">&quot;java.util.HashMap&quot;</span> %&gt;<br>&lt;%@ page <span class="hljs-keyword">import</span>=<span class="hljs-string">&quot;java.util.Map&quot;</span> %&gt;&lt;%--<br>  Created by IntelliJ IDEA.<br>  User: #赵梓皓&amp;<br>  Date: <span class="hljs-number">2022</span>/<span class="hljs-number">10</span>/<span class="hljs-number">2</span><br>  Time: <span class="hljs-number">15</span>:<span class="hljs-number">29</span><br>  To change <span class="hljs-built_in">this</span> template use File | Settings | File Templates.<br>--%&gt;<br>&lt;%@ page contentType=<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="hljs-string">&quot;java&quot;</span> %&gt;<br>&lt;html&gt;<br>&lt;head&gt;<br>    &lt;title&gt;Title&lt;/title&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>&lt;%<br>    <span class="hljs-type">Person</span> <span class="hljs-variable">person</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>();<br>    person.setName(<span class="hljs-string">&quot;国哥好帅！&quot;</span>);<br>    person.setPhones(<span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>[]&#123;<span class="hljs-string">&quot;18610541354&quot;</span>,<span class="hljs-string">&quot;18688886666&quot;</span>,<span class="hljs-string">&quot;18699998888&quot;</span>&#125;);<br>    List&lt;String&gt; cities = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;String&gt;();<br>    cities.add(<span class="hljs-string">&quot;北京&quot;</span>);<br>    cities.add(<span class="hljs-string">&quot;上海&quot;</span>);<br>    cities.add(<span class="hljs-string">&quot;深圳&quot;</span>);<br>    person.setCities(cities);<br>    Map&lt;String,Object&gt; map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();<br>    map.put(<span class="hljs-string">&quot;key1&quot;</span>,<span class="hljs-string">&quot;value1&quot;</span>);<br>    map.put(<span class="hljs-string">&quot;key2&quot;</span>,<span class="hljs-string">&quot;value2&quot;</span>);<br>    map.put(<span class="hljs-string">&quot;key3&quot;</span>,<span class="hljs-string">&quot;value3&quot;</span>);<br>    person.setMap(map);<br><br>    pageContext.setAttribute(<span class="hljs-string">&quot;p&quot;</span>,person);<br>%&gt;<br><br>输出 Person $&#123;p&#125;&lt;br/&gt;<br>输出 Person 的 name 属性：$&#123;p.name&#125; &lt;br&gt;<br>输出 Person 的 phones 数组属性值：$&#123;p.phones[<span class="hljs-number">2</span>]&#125; &lt;br&gt;<br>输出 Person 的 cities 集合中的元素值：$&#123;p.cities&#125; &lt;br&gt;<br>输出 Person 的 List 集合中个别元素值：$&#123;p.cities[<span class="hljs-number">2</span>]&#125; &lt;br&gt;<br>输出 Person 的 Map 集合:  $&#123;p.map&#125;&lt;br&gt;<br>输出 Person 的 Map 集合中某个 key 的值: $&#123;p.map.key1&#125; &lt;br&gt;<br>输出 Person 的 age 属性： $&#123;p.age&#125;&lt;br&gt;<br>    输出Person的Map集合中所有的值  :$&#123;p.map.values()&#125;<br><br>&lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>

<p>EL表达式在查找属性的时候其实是通过get方法来查找，所以即使你没有age属性，只要有getAge()方法就可以了</p>
<h2 id="EL表达式运算"><a href="#EL表达式运算" class="headerlink" title="EL表达式运算"></a>EL表达式运算</h2><h3 id="关系运算"><a href="#关系运算" class="headerlink" title="关系运算"></a>关系运算</h3><p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210021553962.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20221002155311757"></p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%--<br>  Created by IntelliJ IDEA.<br>  User: #赵梓皓&amp;<br>  Date: <span class="hljs-number">2022</span>/<span class="hljs-number">10</span>/<span class="hljs-number">2</span><br>  Time: <span class="hljs-number">15</span>:<span class="hljs-number">56</span><br>  To change <span class="hljs-built_in">this</span> template use File | Settings | File Templates.<br>--%&gt;<br>&lt;%@ page contentType=<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="hljs-string">&quot;java&quot;</span> %&gt;<br>&lt;html&gt;<br>&lt;head&gt;<br>    &lt;title&gt;Title&lt;/title&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>$&#123;<span class="hljs-number">12</span>==<span class="hljs-number">12</span>&#125;&lt;br/&gt;<br>或<br>$&#123;<span class="hljs-number">12</span> eq <span class="hljs-number">12</span>&#125;&lt;br/&gt;<br>$&#123;<span class="hljs-number">12</span>!=<span class="hljs-number">12</span>&#125;&lt;br/&gt;<br>$&#123;<span class="hljs-number">12</span> ne <span class="hljs-number">12</span>&#125;&lt;br/&gt;<br><br>$&#123;<span class="hljs-number">12</span>&lt;<span class="hljs-number">12</span>&#125;&lt;br/&gt;<br>$&#123;<span class="hljs-number">12</span> lt <span class="hljs-number">12</span>&#125;&lt;br/&gt;<br><br>$&#123;<span class="hljs-number">12</span>&gt;<span class="hljs-number">12</span>&#125;&lt;br/&gt;<br>$&#123;<span class="hljs-number">12</span> gt <span class="hljs-number">12</span>&#125;&lt;br/&gt;<br><br><br>$&#123;<span class="hljs-number">12</span>&gt;=<span class="hljs-number">12</span>&#125;&lt;br/&gt;<br>$&#123;<span class="hljs-number">12</span> ge <span class="hljs-number">12</span>&#125;&lt;br/&gt;<br><br>$&#123;<span class="hljs-number">12</span>&lt;=<span class="hljs-number">12</span>&#125;&lt;br/&gt;<br>$&#123;<span class="hljs-number">12</span> le <span class="hljs-number">12</span>&#125;&lt;br/&gt;<br>&lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>



<h3 id="逻辑运算"><a href="#逻辑运算" class="headerlink" title="逻辑运算"></a>逻辑运算</h3><p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210021603750.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20221002160354580"></p>
<figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs dust"><span class="language-xml">$</span><span class="hljs-template-variable">&#123;12==12&amp;&amp;12&gt;11&#125;</span><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span></span><br><span class="language-xml">$</span><span class="hljs-template-variable">&#123;12==12 and 12&gt;11&#125;</span><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span></span><br><span class="language-xml">$</span><span class="hljs-template-variable">&#123;! true&#125;</span><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span></span><br><span class="language-xml">$</span><span class="hljs-template-variable">&#123;not true&#125;</span><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span></span><br></code></pre></td></tr></table></figure>

<h3 id="算数运算"><a href="#算数运算" class="headerlink" title="算数运算"></a>算数运算</h3><p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210021604773.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20221002160439704"></p>
<h3 id="empty运算"><a href="#empty运算" class="headerlink" title="empty运算"></a>empty运算</h3><p>empty 运算可以判断一个数据是否为空，如果为空，则输出 true,不为空输出 false。</p>
<p>以下几种情况为空：</p>
<p>1、值为 null 值的时候，为空 </p>
<p>2、值为空串的时候，为空 </p>
<p>3、值是 Object 类型数组，长度为零的时候 </p>
<p>4、list 集合，元素个数为零 </p>
<p>5、map 集合，元素个数为零</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%@ page <span class="hljs-keyword">import</span>=<span class="hljs-string">&quot;java.util.ArrayList&quot;</span> %&gt;<br>&lt;%@ page <span class="hljs-keyword">import</span>=<span class="hljs-string">&quot;java.util.List&quot;</span> %&gt;<br>&lt;%@ page <span class="hljs-keyword">import</span>=<span class="hljs-string">&quot;java.util.HashMap&quot;</span> %&gt;<br>&lt;%@ page <span class="hljs-keyword">import</span>=<span class="hljs-string">&quot;java.util.Map&quot;</span> %&gt;&lt;%--<br>  Created by IntelliJ IDEA.<br>  User: #赵梓皓&amp;<br>  Date: <span class="hljs-number">2022</span>/<span class="hljs-number">10</span>/<span class="hljs-number">2</span><br>  Time: <span class="hljs-number">16</span>:<span class="hljs-number">52</span><br>  To change <span class="hljs-built_in">this</span> template use File | Settings | File Templates.<br>--%&gt;<br>&lt;%@ page contentType=<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="hljs-string">&quot;java&quot;</span> %&gt;<br>&lt;html&gt;<br>&lt;head&gt;<br>    &lt;title&gt;Title&lt;/title&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>&lt;%<br>    <span class="hljs-comment">//1、值为 null 值的时候，为空</span><br>request.setAttribute(<span class="hljs-string">&quot;emptyNull&quot;</span>,<span class="hljs-literal">null</span>);<br>    <span class="hljs-comment">//2、值为空串的时候，为空</span><br>    request.setAttribute(<span class="hljs-string">&quot;emptyStr&quot;</span>,<span class="hljs-string">&quot;&quot;</span>);<br>    <span class="hljs-comment">//3、值是 Object 类型数组，长度为零的时候</span><br>    request.setAttribute(<span class="hljs-string">&quot;emptyArr&quot;</span>,<span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>[]&#123;&#125;);<br>    <span class="hljs-comment">//4、list 集合，元素个数为零</span><br>List&lt;String&gt; list=<span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;String&gt;();<br>list.add(<span class="hljs-string">&quot;abc&quot;</span>);<br>    request.setAttribute(<span class="hljs-string">&quot;emptyList&quot;</span>,list);<br>    <span class="hljs-comment">//5、map 集合，元素个数为零</span><br>    Map&lt;String,Object&gt; map=<span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;String,Object&gt;();<br>%&gt;<br>$&#123;empty emptyNull&#125;&lt;br/&gt;<br>$&#123;empty emptyStr&#125;&lt;br/&gt;<br>$&#123;empty emptyArr&#125;&lt;br/&gt;<br>$&#123;empty emptyList&#125;&lt;br/&gt;<br>$&#123;empty emptyMap&#125;&lt;br/&gt;<br>&lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>

<h3 id="三元运算"><a href="#三元运算" class="headerlink" title="三元运算"></a>三元运算</h3><p>表达式 1？表达式 2：表达式 3 </p>
<p>如果表达式 1 的值为真，返回表达式 2 的值，如果表达式 1 的值为假，返回表达式 3 的值</p>
<p>实例</p>
<figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs elixir"><span class="hljs-variable">$&#123;</span> <span class="hljs-number">12</span> != <span class="hljs-number">12</span> ? <span class="hljs-string">&quot;国哥帅呆&quot;</span><span class="hljs-symbol">:<span class="hljs-string">&quot;国哥又骗人啦&quot;</span></span> &#125;<br></code></pre></td></tr></table></figure>

<h3 id="“-”点运算-和-中括号运算"><a href="#“-”点运算-和-中括号运算" class="headerlink" title="“.”点运算 和 [] 中括号运算"></a>“.”点运算 和 [] 中括号运算</h3><p>.点运算，可以输出 Bean 对象中某个属性的值。 </p>
<p>[]中括号运算，可以输出有序集合中某个元素的值。 并且[]中括号运算，还可以输出 map 集合中 key 里<strong>含有特殊字符</strong>的 key 的值。</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%@ page <span class="hljs-keyword">import</span>=<span class="hljs-string">&quot;java.util.HashMap&quot;</span> %&gt;&lt;%--<br>  Created by IntelliJ IDEA.<br>  User: #赵梓皓&amp;<br>  Date: <span class="hljs-number">2022</span>/<span class="hljs-number">10</span>/<span class="hljs-number">2</span><br>  Time: <span class="hljs-number">17</span>:<span class="hljs-number">03</span><br>  To change <span class="hljs-built_in">this</span> template use File | Settings | File Templates.<br>--%&gt;<br>&lt;%@ page contentType=<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="hljs-string">&quot;java&quot;</span> %&gt;<br>&lt;html&gt;<br>&lt;head&gt;<br>    &lt;title&gt;Title&lt;/title&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>&lt;%<br>    HashMap&lt;String, Object&gt; map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();<br>    map.put(<span class="hljs-string">&quot;a.a.a&quot;</span>,<span class="hljs-string">&quot;aaaValue&quot;</span>);<br>    map.put(<span class="hljs-string">&quot;b+b+b&quot;</span>,<span class="hljs-string">&quot;bbbValue&quot;</span>);<br>    map.put(<span class="hljs-string">&quot;c-c-c&quot;</span>,<span class="hljs-string">&quot;cccValue&quot;</span>);<br>    request.setAttribute(<span class="hljs-string">&quot;map&quot;</span>,map);<br>%&gt;<br>$&#123;map[<span class="hljs-string">&quot;a.a.a&quot;</span>]&#125;&lt;br/&gt;<br>$&#123;map[<span class="hljs-string">&quot;b+b+b&quot;</span>]&#125;&lt;br/&gt;<br>$&#123;map[<span class="hljs-string">&quot;c-c-c&quot;</span>]&#125;&lt;br/&gt;<br>&lt;/body&gt;<br>&lt;/html&gt;<br><br></code></pre></td></tr></table></figure>

<p>这两个前面用到过一次输出bean普通属性时</p>
<p>但如果map的key中有.这种特殊字符，就不能用map.key   可以用map[“key”]</p>
<h2 id="EL表达式中的11个隐含对象"><a href="#EL表达式中的11个隐含对象" class="headerlink" title="EL表达式中的11个隐含对象"></a>EL表达式中的11个隐含对象</h2><p>EL 个达式中 11 个隐含对象，是 EL 表达式中自己定义的，可以直接使用</p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210021710656.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20221002171048641"></p>
<p>initParam                                  Map&lt;String,String&gt;                                                                   它可以获取在 web.xml 中配置的上下文参数</p>
<h2 id="EL获取四个特定域中的属性"><a href="#EL获取四个特定域中的属性" class="headerlink" title="EL获取四个特定域中的属性"></a>EL获取四个特定域中的属性</h2><p>pageScope                         &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;             pageContext域</p>
<p>requestScope                    &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;             request域</p>
<p>sessionScope                    &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;            session域</p>
<p>applicationScope             &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;              ServletContext域</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%--<br>  Created by IntelliJ IDEA.<br>  User: #赵梓皓&amp;<br>  Date: <span class="hljs-number">2022</span>/<span class="hljs-number">10</span>/<span class="hljs-number">2</span><br>  Time: <span class="hljs-number">17</span>:<span class="hljs-number">22</span><br>  To change <span class="hljs-built_in">this</span> template use File | Settings | File Templates.<br>--%&gt;<br>&lt;%@ page contentType=<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="hljs-string">&quot;java&quot;</span> %&gt;<br>&lt;html&gt;<br>&lt;head&gt;<br>    &lt;title&gt;Title&lt;/title&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>&lt;%<br>    pageContext.setAttribute(<span class="hljs-string">&quot;key1&quot;</span>,<span class="hljs-string">&quot;pageContext1&quot;</span>);<br>    pageContext.setAttribute(<span class="hljs-string">&quot;key2&quot;</span>,<span class="hljs-string">&quot;pageContext2&quot;</span>);<br>    request.setAttribute(<span class="hljs-string">&quot;key2&quot;</span>,<span class="hljs-string">&quot;request&quot;</span>);<br>    session.setAttribute(<span class="hljs-string">&quot;key2&quot;</span>,<span class="hljs-string">&quot;session&quot;</span>);<br>    application.setAttribute(<span class="hljs-string">&quot;key2&quot;</span>,<span class="hljs-string">&quot;application&quot;</span>);<br><br>%&gt;<br>&lt;%--输出pageContext域中的属性--%&gt;<br>&lt;%--如果多个域中只有一个key1，可以直接$&#123;key1&#125;   但是如果两个域中都由key1属性，就可以通过$&#123;内置对象.key1&#125;来调用你想要的--%&gt;<br>$&#123;pageScope.key1&#125;&lt;br/&gt;<br>$&#123;pageScope.key2&#125;&lt;br/&gt;<br>$&#123;requestScope.key2&#125;&lt;br/&gt;<br>$&#123;sessionScope.key2&#125;&lt;br/&gt;<br>$&#123;applicationScope.key2&#125;;&lt;br/&gt;<br><br>&lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>

<h2 id="pageContext演示"><a href="#pageContext演示" class="headerlink" title="pageContext演示"></a>pageContext演示</h2><p>可以获取jsp中的九大内置对象</p>
<ol>
<li>协议：</li>
<li>服务器 ip： </li>
<li>服务器端口：</li>
<li>获取工程路径： </li>
<li>获取请求方法： </li>
<li>获取客户端 ip 地址： </li>
<li>获取会话的 id 编号</li>
</ol>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%--<br>  Created by IntelliJ IDEA.<br>  User: #赵梓皓&amp;<br>  Date: <span class="hljs-number">2022</span>/<span class="hljs-number">10</span>/<span class="hljs-number">2</span><br>  Time: <span class="hljs-number">17</span>:<span class="hljs-number">35</span><br>  To change <span class="hljs-built_in">this</span> template use File | Settings | File Templates.<br>--%&gt;<br>&lt;%@ page contentType=<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="hljs-string">&quot;java&quot;</span> %&gt;<br>&lt;html&gt;<br>&lt;head&gt;<br>    &lt;title&gt;Title&lt;/title&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>&lt;%--<br>jsp中的内置对象<br>request.getScheme()它可以获取请求的协议<br>--%&gt;<br><br>&lt;%--<br>request.getScheme() 它可以获取请求的协议<br>request.getServerName() 获取请求的服务器 ip 或域名<br>request.getServerPort() 获取请求的服务器端口号<br>request.getContextPath() 获取当前工程路径<br>request.getMethod() 获取请求的方式（GET 或 POST）<br>request.getRemoteHost() 获取客户端的 ip 地址<br>session.getId() 获取会话的唯一标识<br>--%&gt;<br>&lt;%=request.getScheme()%&gt;<br>&lt;%--<br>用pageContext.request.scheme其实就和调用getScheme方法是一样的<br>--%&gt;<br><span class="hljs-number">1.</span> 协议：$&#123;pageContext.request.scheme&#125;&lt;br/&gt;<br><span class="hljs-number">2.</span> 服务器 ip：$&#123;pageContext.request.serverName&#125;&lt;br/&gt;<br><span class="hljs-number">3.</span> 服务器端口：$&#123;pageContext.request.serverPort&#125;&lt;br/&gt;<br><span class="hljs-number">4.</span> 获取工程路径：$&#123;pageContext.request.contextPath&#125;&lt;br/&gt;<br><span class="hljs-number">5.</span> 获取请求方法：$&#123;pageContext.request.method&#125;&lt;br/&gt;<br><span class="hljs-number">6.</span>  获取客户端 ip 地址： $&#123;pageContext.request.remoteHost&#125;&lt;br/&gt;<br><span class="hljs-number">7.</span> 获取会话的 id 编号  $&#123;pageContext.session.id&#125; &lt;br/&gt;<br><br>&lt;%--简洁的写法--%&gt;<br>&lt;%<br>    pageContext.setAttribute(<span class="hljs-string">&quot;req&quot;</span>,request);<br><br>%&gt;<br>&lt;%--获取协议--%&gt;<br>$&#123;req.scheme&#125;<br><br>&lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>

<h2 id="其他EL隐含对象的事例"><a href="#其他EL隐含对象的事例" class="headerlink" title="其他EL隐含对象的事例"></a>其他EL隐含对象的事例</h2><p>param Map 它可以获取请求参数的值     Map&lt;String,String&gt;</p>
<p>paramValues Map&lt;String,String[]&gt; 它也可以获取请求参数的值，获取多个值的时候使用</p>
<p>请求地址</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">http</span>://localhost:<span class="hljs-number">8084</span>/eljstl/other.jsp?username=<span class="hljs-number">1</span>&amp;password=<span class="hljs-number">2</span>&amp;hobby=<span class="hljs-number">1</span>&amp;hobby=<span class="hljs-number">2</span><br></code></pre></td></tr></table></figure>



<figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs dust"><span class="language-xml">&lt;%--</span><br><span class="language-xml">  Created by IntelliJ IDEA.</span><br><span class="language-xml">  User: #赵梓皓&amp;</span><br><span class="language-xml">  Date: 2022/10/2</span><br><span class="language-xml">  Time: 18:30</span><br><span class="language-xml">  To change this template use File | Settings | File Templates.</span><br><span class="language-xml">--%&gt;</span><br><span class="language-xml">&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;</span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span></span><br><span class="language-xml">$</span><span class="hljs-template-variable">&#123;param.username&#125;</span><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span></span><br><span class="language-xml">$</span><span class="hljs-template-variable">&#123;param.password&#125;</span><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span></span><br><span class="language-xml">$</span><span class="hljs-template-variable">&#123;paramValues.username[0]&#125;</span><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span></span><br><span class="language-xml">$</span><span class="hljs-template-variable">&#123;paramValues.password[0]&#125;</span><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span></span><br><span class="language-xml">$</span><span class="hljs-template-variable">&#123;paramValues.hobby[0]&#125;</span><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span></span><br><span class="language-xml">$</span><span class="hljs-template-variable">&#123;paramValues.hobby[1]&#125;</span><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></span><br></code></pre></td></tr></table></figure>

<p>header Map 它可以获取请求头的信息 </p>
<p>headerValues Map 它可以获取请求头的信息，它可以获取多个值的情况</p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">&lt;%<span class="hljs-comment">--</span><br>  Created <span class="hljs-keyword">by</span> IntelliJ IDEA.<br>  <span class="hljs-keyword">User</span>: #赵梓皓&amp;<br>  <span class="hljs-type">Date</span>: <span class="hljs-number">2022</span>/<span class="hljs-number">10</span>/<span class="hljs-number">2</span><br>  <span class="hljs-type">Time</span>: <span class="hljs-number">18</span>:<span class="hljs-number">30</span><br>  <span class="hljs-keyword">To</span> change this <span class="hljs-keyword">template</span> use File | Settings | File Templates.<br><span class="hljs-comment">--%&gt;</span><br>&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; <span class="hljs-keyword">language</span>=&quot;java&quot; %&gt;<br>&lt;html&gt;<br>&lt;head&gt;<br>    &lt;title&gt;Title&lt;/title&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>&lt;%<span class="hljs-comment">--因为User-Agent的- 是特殊字符--%&gt;</span><br>$&#123;<span class="hljs-keyword">header</span>[<span class="hljs-string">&#x27;User-Agent&#x27;</span>]&#125;&lt;br/&gt;<br>$&#123;<span class="hljs-keyword">header</span>.<span class="hljs-keyword">Connection</span>&#125;&lt;br/&gt;<br>$&#123;headerValues[<span class="hljs-string">&#x27;User-Agent&#x27;</span>][<span class="hljs-number">0</span>]&#125;&lt;br/&gt;<br>&lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>



<p>cookie                      Map &lt;String,Cookie&gt;                  它可以获取当前请求的 Cookie 信息</p>
<figure class="highlight mojolicious"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs mojolicious"><span class="language-xml">&lt;%</span><span class="language-perl">--</span><br><span class="language-perl">  Created by IntelliJ IDEA.</span><br><span class="language-perl">  User: <span class="hljs-comment">#赵梓皓&amp;</span></span><br><span class="language-perl">  Date: <span class="hljs-number">2022</span>/<span class="hljs-number">10</span>/<span class="hljs-number">2</span></span><br><span class="language-perl">  Time: <span class="hljs-number">18</span>:<span class="hljs-number">30</span></span><br><span class="language-perl">  To change this template <span class="hljs-keyword">use</span> File | Settings | File Templates.</span><br><span class="language-perl">--</span><span class="language-xml">%&gt;</span><br><span class="language-xml">&lt;%</span><span class="language-perl">@ page contentType=<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="hljs-string">&quot;java&quot;</span> </span><span class="language-xml">%&gt;</span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span></span><br><span class="language-xml">获取cookie的名称:$&#123;cookie.JSESSIONID.name&#125;<span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span></span><br><span class="language-xml">获取Cookie的值：$&#123;cookie.JSESSIONID.value&#125;</span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></span><br></code></pre></td></tr></table></figure>



<p>initParam              Map&lt;String,String&gt;         它可以获取在web.xml中配置的<context-param>上下文参数</p>
<p>在web.xml文件中添加这个  修改配置web.xml这种文件需要重新部署才能生效</p>
<figure class="highlight sqf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sqf">&lt;context-<span class="hljs-built_in">param</span>&gt;<br>    &lt;<span class="hljs-built_in">param</span>-<span class="hljs-built_in">name</span>&gt;url&lt;/<span class="hljs-built_in">param</span>-<span class="hljs-built_in">name</span>&gt;<br>    &lt;<span class="hljs-built_in">param</span>-value&gt;jdbc:mysql:<span class="hljs-comment">//test&lt;/param-value&gt;</span><br>&lt;/context-<span class="hljs-built_in">param</span>&gt;<br></code></pre></td></tr></table></figure>



<figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs dust"><span class="language-xml">&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;</span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span></span><br><span class="language-xml">$</span><span class="hljs-template-variable">&#123;initParam&#125;</span><span class="language-xml"></span><br><span class="language-xml"></span><br><span class="language-xml">输出<span class="hljs-symbol">&amp;lt;</span>Context-param<span class="hljs-symbol">&amp;gt;</span>username的值：$</span><span class="hljs-template-variable">&#123;initParam.username&#125;</span><span class="language-xml"></span><br><span class="language-xml">输出<span class="hljs-symbol">&amp;lt;</span>Context-param<span class="hljs-symbol">&amp;gt;</span>url的值：$</span><span class="hljs-template-variable">&#123;initParam.url&#125;</span><span class="language-xml"></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></span><br><span class="language-xml"></span><br></code></pre></td></tr></table></figure>

<h1 id="JSTL标签库"><a href="#JSTL标签库" class="headerlink" title="JSTL标签库"></a>JSTL标签库</h1><p>JSTL 标签库 全称是指 JSP Standard Tag Library JSP 标准标签库。是一个不断完善的开放源代码的 JSP 标 签库。 </p>
<p>EL 表达式主要是为了替换 jsp 中的表达式脚本，而标签库则是为了替换代码脚本。这样使得整个 jsp 页面 变得更佳简洁</p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210031529632.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload></p>
<h2 id="JSTL标签库的使用步骤"><a href="#JSTL标签库的使用步骤" class="headerlink" title="JSTL标签库的使用步骤"></a>JSTL标签库的使用步骤</h2><p>先导入jstl的jar包</p>
<p>1、先导入 jstl 标签库的 jar 包。 </p>
<p>taglibs-standard-impl-1.2.1.jar taglibs-standard-spec-1.2.1.jar</p>
<p>2、第二步，使用 taglib</p>
<figure class="highlight gcode"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs gcode">&lt;<span class="hljs-meta">%</span>@ taglib prefix=<span class="hljs-string">&quot;c&quot;</span> uri=<span class="hljs-string">&quot;http://java.sun.com/jsp/jstl/core&quot;</span> <span class="hljs-meta">%</span>&gt;<br></code></pre></td></tr></table></figure>

<p>用自动补全代码的时候，这个会自动导入进来</p>
<h2 id="core核心库的使用"><a href="#core核心库的使用" class="headerlink" title="core核心库的使用"></a>core核心库的使用</h2><p>i. &lt;c:set &#x2F;&gt;（使用很少） </p>
<p>作用：set 标签可以往域中保存数据</p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">&lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;<br>&lt;%<span class="hljs-comment">--</span><br>  Created <span class="hljs-keyword">by</span> IntelliJ IDEA.<br>  <span class="hljs-keyword">User</span>: #赵梓皓&amp;<br>  <span class="hljs-type">Date</span>: <span class="hljs-number">2022</span>/<span class="hljs-number">10</span>/<span class="hljs-number">3</span><br>  <span class="hljs-type">Time</span>: <span class="hljs-number">15</span>:<span class="hljs-number">30</span><br>  <span class="hljs-keyword">To</span> change this <span class="hljs-keyword">template</span> use File | Settings | File Templates.<br><span class="hljs-comment">--%&gt;</span><br>&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; <span class="hljs-keyword">language</span>=&quot;java&quot; %&gt;<br>&lt;html&gt;<br>&lt;head&gt;<br>    &lt;title&gt;Title&lt;/title&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>&lt;%<span class="hljs-comment">--</span><br>i.&lt;c:<span class="hljs-keyword">set</span> /&gt;<br>作用：<span class="hljs-keyword">set</span> 标签可以往域中保存数据<br><br>以前保存域数据<br>域对象.setAttribute(key,<span class="hljs-keyword">value</span>);<br><br>scope 属性设置保存到哪个域<br>page 表示 PageContext 域（默认值）<br>request 表示 Request 域<br><span class="hljs-keyword">session</span> 表示 <span class="hljs-keyword">Session</span> 域<br>application 表示 ServletContext 域<br>var 属性设置 key 是多少<br><span class="hljs-keyword">value</span> 属性设置值<br><span class="hljs-comment">--%&gt;</span><br>保存之前:$&#123;requestScope.abc&#125;&lt;br/&gt;<br>&lt;c:<span class="hljs-keyword">set</span> scope=&quot;request&quot; var=&quot;abc&quot; <span class="hljs-keyword">value</span>=&quot;abcValue&quot;/&gt;<br>保存之后:$&#123;requestScope.abc&#125;&lt;br/&gt;<br>&lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>

<p>ii .&lt;c:if &#x2F;&gt;</p>
<p>if 标签用来做 if 判断。</p>
<figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs dust"><span class="language-xml">ii.<span class="hljs-tag">&lt;<span class="hljs-name">c:if</span> /&gt;</span></span><br><span class="language-xml">if 标签用来做 if 判断。</span><br><span class="language-xml">test 属性表示判断的条件（使用 EL 表达式输出）</span><br><span class="language-xml">--%&gt;</span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">c:if</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;$</span></span></span><span class="hljs-template-variable">&#123;12==12&#125;</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>无敌<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">c:if</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">c:if</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;$</span></span></span><span class="hljs-template-variable">&#123;12!=12&#125;</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>无敌<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">c:if</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml"></span><br></code></pre></td></tr></table></figure>

<p>iii.&lt;c:choose&gt; &lt;c:when&gt; &lt;c:otherwise&gt;标签</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%@ taglib prefix=<span class="hljs-string">&quot;c&quot;</span> uri=<span class="hljs-string">&quot;http://java.sun.com/jsp/jstl/core&quot;</span> %&gt;<br>&lt;%--<br>  Created by IntelliJ IDEA.<br>  User: #赵梓皓&amp;<br>  Date: <span class="hljs-number">2022</span>/<span class="hljs-number">10</span>/<span class="hljs-number">3</span><br>  Time: <span class="hljs-number">15</span>:<span class="hljs-number">30</span><br>  To change <span class="hljs-built_in">this</span> template use File | Settings | File Templates.<br>--%&gt;<br>&lt;%@ page contentType=<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="hljs-string">&quot;java&quot;</span> %&gt;<br>&lt;html&gt;<br>&lt;head&gt;<br>    &lt;title&gt;Title&lt;/title&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>&lt;%--<br>i.&lt;c:set /&gt;<br>作用：set 标签可以往域中保存数据<br><br>以前保存域数据<br>域对象.setAttribute(key,value);<br><br>scope 属性设置保存到哪个域<br>page 表示 PageContext 域（默认值）<br>request 表示 Request 域<br>session 表示 Session 域<br>application 表示 ServletContext 域<br><span class="hljs-keyword">var</span> 属性设置 key 是多少<br>value 属性设置值<br>--%&gt;<br>保存之前:$&#123;requestScope.abc&#125;&lt;br/&gt;<br>&lt;c:set scope=<span class="hljs-string">&quot;request&quot;</span> <span class="hljs-keyword">var</span>=<span class="hljs-string">&quot;abc&quot;</span> value=<span class="hljs-string">&quot;abcValue&quot;</span>/&gt;<br>保存之后:$&#123;requestScope.abc&#125;&lt;br/&gt;<br>&lt;%--<br>ii.&lt;c:<span class="hljs-keyword">if</span> /&gt;<br><span class="hljs-keyword">if</span> 标签用来做 <span class="hljs-keyword">if</span> 判断。<br>test 属性表示判断的条件（使用 EL 表达式输出）<br>--%&gt;<br>&lt;c:<span class="hljs-keyword">if</span> test=<span class="hljs-string">&quot;$&#123;12==12&#125;&quot;</span>&gt;<br>    &lt;h1&gt;无敌&lt;/h1&gt;<br>&lt;/c:<span class="hljs-keyword">if</span>&gt;<br>&lt;c:<span class="hljs-keyword">if</span> test=<span class="hljs-string">&quot;$&#123;12!=12&#125;&quot;</span>&gt;<br>    &lt;h1&gt;无敌&lt;/h1&gt;<br>&lt;/c:<span class="hljs-keyword">if</span>&gt;<br><br><br><br>&lt;%--<br>iii.&lt;c:choose&gt; &lt;c:when&gt; &lt;c:otherwise&gt;标签<br>作用：多路判断。跟 <span class="hljs-keyword">switch</span> ... <span class="hljs-keyword">case</span> .... <span class="hljs-keyword">default</span> 非常接近<br>choose 标签开始选择判断<br>when 标签表示每一种判断情况<br>test 属性表示当前这种判断情况的值<br>otherwise 标签表示剩下的情况<br>&lt;hr/&gt;<br><br>&lt;c:choose&gt; &lt;c:when&gt; &lt;c:otherwise&gt;标签使用时需要注意的点：<br><span class="hljs-number">1</span>、标签里不能使用 html 注释，要使用 jsp 注释<br><span class="hljs-number">2</span>、when 标签的父标签一定要是 choose 标签<br>--%&gt;<br>&lt;%<br>    request.setAttribute(<span class="hljs-string">&quot;height&quot;</span>,<span class="hljs-number">178</span>);<br>%&gt;<br>&lt;c:choose&gt;<br>    &lt;c:when test=<span class="hljs-string">&quot;$&#123;requestScope.height&gt;190&#125;&quot;</span>&gt;<br>        &lt;h1&gt;是巨人&lt;/h1&gt;<br>    &lt;/c:when&gt;<br>    &lt;c:when test=<span class="hljs-string">&quot;$&#123;requestScope.height&gt;180&#125;&quot;</span>&gt;<br>        &lt;h1&gt;小巨人&lt;/h1&gt;<br>    &lt;/c:when&gt;<br>    &lt;c:when test=<span class="hljs-string">&quot;$&#123;requestScope.height&gt;170&#125;&quot;</span>&gt;<br>        &lt;h1&gt;还行&lt;/h1&gt;<br>    &lt;/c:when&gt;<br>    &lt;c:when test=<span class="hljs-string">&quot;$&#123;requestScope.height&gt;160&#125;&quot;</span>&gt;<br>        &lt;h1&gt;有点矮&lt;/h1&gt;<br>    &lt;/c:when&gt;<br>    &lt;c:otherwise&gt;<br>        &lt;c:choose&gt;<br>            &lt;c:when test=<span class="hljs-string">&quot;$&#123;requestScope.height&gt;150&#125;&quot;</span>&gt;<br>                &lt;h1&gt;xiaoren&lt;/h1&gt;<br>            &lt;/c:when&gt;<br>            &lt;c:when test=<span class="hljs-string">&quot;$&#123;requestScope.height&gt;140&#125;&quot;</span>&gt;<br>                &lt;h1&gt;xiaoren2&lt;/h1&gt;<br>            &lt;/c:when&gt;<br>        &lt;/c:choose&gt;<br>    &lt;/c:otherwise&gt;<br>&lt;/c:choose&gt;<br>&lt;/body&gt;<br>&lt;/html&gt;<br><br></code></pre></td></tr></table></figure>

<p>test中是要判断的条件，otherwise是这些都不符合之后执行的，这些when标签和otherwise标签执行一个，其他的就不能执行</p>
<p>如果想要在otherwise标签中再使用when标签就要加上choose</p>
<p>c：foreach  标签</p>
<p>遍历1到10</p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">&lt;%<span class="hljs-comment">--1.遍历 1 到 10，输出</span><br><span class="hljs-keyword">begin</span> 属性设置开始的索引<br><span class="hljs-keyword">end</span> 属性设置结束的索引<br>var 属性表示循环的变量(也是当前正在遍历到的数据)<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt; <span class="hljs-number">10</span>; i++)<br><span class="hljs-comment">--%&gt;</span><br>&lt;<span class="hljs-keyword">table</span> border=&quot;1&quot;&gt;<br>&lt;c:<span class="hljs-keyword">forEach</span> <span class="hljs-keyword">begin</span>=&quot;1&quot; end=&quot;100&quot; var=&quot;i&quot;&gt;<br>    &lt;tr&gt;<br>    &lt;td&gt;第$&#123;i&#125;行&lt;td/&gt;<br>    &lt;tr/&gt;<br>        &lt;/c:<span class="hljs-keyword">forEach</span>&gt;<br>&lt;/<span class="hljs-keyword">table</span>&gt;<br></code></pre></td></tr></table></figure>



<p>遍历Object类型的数组</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;%-- <span class="hljs-number">2.</span>遍历 <span class="hljs-title class_">Object</span> 数组<br><span class="hljs-keyword">for</span> (<span class="hljs-title class_">Object</span> <span class="hljs-attr">item</span>: arr)<br>items 表示遍历的数据源（遍历的集合）<br><span class="hljs-keyword">var</span> 表示当前遍历到的数据<br>--%&gt;<br>&lt;%<br>    request.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">&quot;arr&quot;</span>,<span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>[]&#123;<span class="hljs-string">&quot;18888&quot;</span>,<span class="hljs-string">&quot;166666&quot;</span>&#125;);<br>%&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">c:forEach</span> <span class="hljs-attr">items</span>=<span class="hljs-string">&quot;$&#123;requestScope.arr&#125;&quot;</span> <span class="hljs-attr">var</span>=<span class="hljs-string">&quot;item&quot;</span>&gt;</span></span><br><span class="language-xml">    $&#123;item&#125;<span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">c:forEach</span>&gt;</span></span><br></code></pre></td></tr></table></figure>

<p>遍历Map集合</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%<br>    Map&lt;String,Object&gt; map=<span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;String,Object&gt;();<br>    map.put(<span class="hljs-string">&quot;key1&quot;</span>,<span class="hljs-string">&quot;value1&quot;</span>);<br>    map.put(<span class="hljs-string">&quot;key2&quot;</span>,<span class="hljs-string">&quot;value2&quot;</span>);<br>    map.put(<span class="hljs-string">&quot;key3&quot;</span>,<span class="hljs-string">&quot;value3&quot;</span>);<br>    <span class="hljs-comment">// for ( Map.Entry&lt;String,Object&gt; entry : map.entrySet()) &#123;</span><br><span class="hljs-comment">// &#125;</span><br>    request.setAttribute(<span class="hljs-string">&quot;map&quot;</span>,map);<br>%&gt;<br>&lt;c:forEach items=<span class="hljs-string">&quot;$&#123;requestScope.map&#125;&quot;</span> <span class="hljs-keyword">var</span>=<span class="hljs-string">&quot;entry&quot;</span>&gt;<br>    &lt;h1&gt;$&#123;entry&#125;&lt;/h1&gt;<br>    &lt;h1&gt;$&#123;entry.key&#125;&lt;/h1&gt;<br>    &lt;h2&gt;$&#123;entry.value&#125;&lt;/h2&gt;<br>&lt;/c:forEach&gt;<br></code></pre></td></tr></table></figure>

<p>entry是map中的一个元素</p>
<p>entry.key是map中一个元素的key值</p>
<p>entry.value是map中一个元素的value值</p>
<p>遍历List集合–list 中存放 Student 类，有属性：编号，用户名，密码，年龄， 电话信息</p>
<figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs dust"><span class="language-xml">&lt;%--4.遍历 List 集合---list 中存放 Student 类，有属性：编号，用户名，密码，年龄，电话信息--%&gt;</span><br><span class="language-xml">&lt;%</span><br><span class="language-xml"></span><br><span class="language-xml">    List<span class="hljs-tag">&lt;<span class="hljs-name">Student</span>&gt;</span> studentArraylist = new ArrayList<span class="hljs-tag">&lt;<span class="hljs-name">Student</span>&gt;</span>();</span><br><span class="language-xml">    for(int i=0;i&lt;10;i++)</span><br><span class="language-xml">    studentArraylist.add(new Student(i,i+&quot;username&quot;,i+&quot;password&quot;,i+18,i+&quot;1&quot;));</span><br><span class="language-xml">    request.setAttribute(&quot;list&quot;,studentArraylist);</span><br><span class="language-xml">%&gt;</span><br><span class="language-xml"></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">table</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>id<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>username<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>password<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>age<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>phone<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>step<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span></span><br><span class="language-xml">    &lt;%--</span><br><span class="language-xml">items 表示遍历的集合</span><br><span class="language-xml">var 表示遍历到的数据</span><br><span class="language-xml">--%&gt;</span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">c:forEach</span>  <span class="hljs-attr">items</span>=<span class="hljs-string">&quot;$</span></span></span><span class="hljs-template-variable">&#123;requestScope.list&#125;</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span> <span class="hljs-attr">var</span>=<span class="hljs-string">&quot;stu&quot;</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>$</span><span class="hljs-template-variable">&#123;stu.id&#125;</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>$</span><span class="hljs-template-variable">&#123;stu.username&#125;</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>$</span><span class="hljs-template-variable">&#123;stu.password&#125;</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>$</span><span class="hljs-template-variable">&#123;stu.age&#125;</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>$</span><span class="hljs-template-variable">&#123;stu.phone&#125;</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>删除修改<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">c:forEach</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span></span><br></code></pre></td></tr></table></figure>

<p>foreach标签组合使用</p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210032042016.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload></p>
<p>上面的图片是status可以获取到的东西</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%@ page <span class="hljs-keyword">import</span>=<span class="hljs-string">&quot;java.util.HashMap&quot;</span> %&gt;<br>&lt;%@ page <span class="hljs-keyword">import</span>=<span class="hljs-string">&quot;java.util.Map&quot;</span> %&gt;<br>&lt;%@ page <span class="hljs-keyword">import</span>=<span class="hljs-string">&quot;com.atguigu.pojo.Student&quot;</span> %&gt;<br>&lt;%@ page <span class="hljs-keyword">import</span>=<span class="hljs-string">&quot;java.util.List&quot;</span> %&gt;<br>&lt;%@ page <span class="hljs-keyword">import</span>=<span class="hljs-string">&quot;java.util.ArrayList&quot;</span> %&gt;<br>&lt;%@ taglib prefix=<span class="hljs-string">&quot;c&quot;</span> uri=<span class="hljs-string">&quot;http://java.sun.com/jsp/jstl/core&quot;</span> %&gt;<br>&lt;%--<br>  Created by IntelliJ IDEA.<br>  User: #赵梓皓&amp;<br>  Date: <span class="hljs-number">2022</span>/<span class="hljs-number">10</span>/<span class="hljs-number">3</span><br>  Time: <span class="hljs-number">16</span>:<span class="hljs-number">11</span><br>  To change <span class="hljs-built_in">this</span> template use File | Settings | File Templates.<br>--%&gt;<br>&lt;%@ page contentType=<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="hljs-string">&quot;java&quot;</span> %&gt;<br>&lt;html&gt;<br>&lt;head&gt;<br>    &lt;title&gt;Title&lt;/title&gt;<br><br>&lt;/head&gt;<br>&lt;body&gt;<br>&lt;%--<span class="hljs-number">4.</span>遍历 List 集合---list 中存放 Student 类，有属性：编号，用户名，密码，年龄，电话信息--%&gt;<br>&lt;%<br><br>    List&lt;Student&gt; studentArraylist = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;Student&gt;();<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">10</span>;i++)<br>    studentArraylist.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>(i,i+<span class="hljs-string">&quot;username&quot;</span>,i+<span class="hljs-string">&quot;password&quot;</span>,i+<span class="hljs-number">18</span>,i+<span class="hljs-string">&quot;1&quot;</span>));<br>    request.setAttribute(<span class="hljs-string">&quot;list&quot;</span>,studentArraylist);<br>%&gt;<br><br>&lt;table&gt;<br><br>&lt;tr&gt;<br>    &lt;td&gt;id&lt;/td&gt;<br>    &lt;td&gt;username&lt;/td&gt;<br>    &lt;td&gt;password&lt;/td&gt;<br>    &lt;td&gt;age&lt;/td&gt;<br>    &lt;td&gt;phone&lt;/td&gt;<br>    &lt;td&gt;step&lt;/td&gt;<br>&lt;/tr&gt;<br>    &lt;%--<br>    items 表示遍历的集合<br>    <span class="hljs-keyword">var</span> 表示遍历到的数据<br>    begin 表示遍历的开始索引值<br>    end 表示结束的索引值<br>    step 属性表示遍历的步长值<br>    varStatus 属性表示当前遍历到的数据的状态<br>    <span class="hljs-keyword">for</span>（<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>; i &lt; <span class="hljs-number">10</span>; i+=<span class="hljs-number">2</span>）<br>    --%&gt;<br>&lt;c:forEach  begin=<span class="hljs-string">&quot;2&quot;</span> end=<span class="hljs-string">&quot;7&quot;</span> step=<span class="hljs-string">&quot;2&quot;</span> varStatus=<span class="hljs-string">&quot;status&quot;</span> items=<span class="hljs-string">&quot;$&#123;requestScope.list&#125;&quot;</span> <span class="hljs-keyword">var</span>=<span class="hljs-string">&quot;stu&quot;</span>&gt;<br>    &lt;tr&gt;<br>    &lt;td&gt;$&#123;stu.id&#125;&lt;/td&gt;<br>    &lt;td&gt;$&#123;stu.username&#125;&lt;/td&gt;<br>    &lt;td&gt;$&#123;stu.password&#125;&lt;/td&gt;<br>    &lt;td&gt;$&#123;stu.age&#125;&lt;/td&gt;<br>    &lt;td&gt;$&#123;stu.phone&#125;&lt;/td&gt;<br>    &lt;td&gt;$&#123;status.current&#125;&lt;/td&gt;<br>    &lt;/tr&gt;<br>&lt;/c:forEach&gt;<br><br>&lt;/table&gt;<br><br>&lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>

<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210032042016.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload></p>
<p>  varStatus 属性表示当前遍历到的数据的状态</p>
<p>这个是status能够获得的状态</p>
<p>status.current</p>
<p>status.first</p>
<p>status.end</p>
<p>这样去用</p>
<h1 id="文件的上传和下载"><a href="#文件的上传和下载" class="headerlink" title="文件的上传和下载"></a>文件的上传和下载</h1><p>文件的上传和下载，是非常常见的功能。</p>
<p>很多的系统中，或者软件中都经常使用文件的上传和下载。 </p>
<p>比如：QQ 头像，就使用了上传。 邮箱中也有附件的上传和下载功能。 </p>
<p>OA 系统中审批有附件材料的上传。</p>
<h2 id="文件上传的介绍"><a href="#文件上传的介绍" class="headerlink" title="文件上传的介绍"></a>文件上传的介绍</h2><p>1、要有一个 form 标签，method&#x3D;post 请求 </p>
<p>因为get请求有长度限制，所以使用post请求</p>
<p>2、form 标签的 encType 属性值必须为 multipart&#x2F;form-data 值 </p>
<p>3、在 form 标签中使用 input type&#x3D;file 添加上传的文件 </p>
<p>4、编写服务器代码（Servlet 程序）接收，处理上传的数据。</p>
<p>encType&#x3D;multipart&#x2F;form-data 表示提交的数据，以多段（每一个表单项一个数据段）的形式进行拼 接，然后以二进制流的形式发送给服务器</p>
<p>上传文件的表单</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%--<br>  Created by IntelliJ IDEA.<br>  User: #赵梓皓&amp;<br>  Date: <span class="hljs-number">2022</span>/<span class="hljs-number">10</span>/<span class="hljs-number">3</span><br>  Time: <span class="hljs-number">20</span>:<span class="hljs-number">56</span><br>  To change <span class="hljs-built_in">this</span> template use File | Settings | File Templates.<br>--%&gt;<br>&lt;%@ page contentType=<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="hljs-string">&quot;java&quot;</span> %&gt;<br>&lt;html&gt;<br>&lt;head&gt;<br>    &lt;title&gt;Title&lt;/title&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>&lt;form action=<span class="hljs-string">&quot;&quot;</span> method=<span class="hljs-string">&quot;post&quot;</span> enctype=<span class="hljs-string">&quot;multipart/form-data&quot;</span>&gt;<br>    用户名:&lt;input type=<span class="hljs-string">&quot;text&quot;</span> name=<span class="hljs-string">&quot;username&quot;</span> /&gt;&lt;br/&gt;<br>    头像 &lt;input type=<span class="hljs-string">&quot;file&quot;</span> name=<span class="hljs-string">&quot;photo&quot;</span>&gt;&lt;br/&gt;<br>    &lt;input type=<span class="hljs-string">&quot;submit&quot;</span> value=<span class="hljs-string">&quot;上传&quot;</span>&gt;<br>    <br>&lt;/form&gt;<br>&lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>



<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210032120378.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20221003212028363"></p>
<p>username是用户名，就是表单中提交的东西，如果还提交了密码或者别的，都会在请求体中以分段的形式出现</p>
<p>请求体中每一个数据段都是一个表单中的项</p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210032121269.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20221003212147818">&#x3D;</p>
<p><strong>要用下面这种流的格式来获取post传的值，基本就是请求体的内容</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.servlet;<br><br><span class="hljs-keyword">import</span> javax.servlet.ServletException;<br><span class="hljs-keyword">import</span> javax.servlet.ServletInputStream;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServlet;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequest;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletResponse;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UploadServlet</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">HttpServlet</span> &#123;<br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 用来处理文件上传</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> req</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> resp</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> ServletException</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> IOException</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doPost</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>        System.out.println(<span class="hljs-string">&quot;文件上传&quot;</span>);<br>        <span class="hljs-type">ServletInputStream</span> <span class="hljs-variable">inputStream</span> <span class="hljs-operator">=</span> req.getInputStream();<br>        <span class="hljs-type">byte</span>[] buffer=<span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[<span class="hljs-number">1024000</span>];<br>        <span class="hljs-type">int</span> read=inputStream.read(buffer);<br>        System.out.println(<span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(buffer,<span class="hljs-number">0</span>,read));<br><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>文件上传中获取其他表单项也都不能用getParameter的方法</p>
<h2 id="文件上传用到的类和方法"><a href="#文件上传用到的类和方法" class="headerlink" title="文件上传用到的类和方法"></a>文件上传用到的类和方法</h2><p>commons-fileupload.jar 常用 API 介绍说明</p>
<p>commons-fileupload.jar 需要依赖 commons-io.jar 这个包，所以两个包我们都要引入。 </p>
<p>第一步，就是需要导入两个 jar 包： commons-fileupload-1.2.1.jar commons-io-1.4.jar </p>
<p>commons-fileupload.jar 和 commons-io.jar 包中，我们常用的类有哪些？</p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210032136278.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20221003213648900"></p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><code class="hljs jsp"><span class="hljs-keyword">package</span> com.atguigu.servlet;<br><br><span class="hljs-keyword">import</span> javax.servlet.ServletException;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServlet;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequest;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletResponse;<br><span class="hljs-keyword">import</span> java.io.File;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><span class="hljs-keyword">import</span> java.util.List;<br><br><span class="hljs-keyword">import</span> org.apache.commons.fileupload.FileItem;<br><span class="hljs-keyword">import</span> org.apache.commons.fileupload.FileItemFactory;<br><span class="hljs-keyword">import</span> org.apache.commons.fileupload.FileUploadException;<br><span class="hljs-keyword">import</span> org.apache.commons.fileupload.disk.DiskFileItemFactory;<br><span class="hljs-keyword">import</span> org.apache.commons.fileupload.servlet.ServletFileUpload;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UploadServlet</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">HttpServlet</span> &#123;<br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 用来处理文件上传</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> req</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> resp</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> ServletException</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> IOException</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doPost</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>  <span class="hljs-comment">//1.先判断上传的数据是否是多段数据，只有是多端的数据才可能是文件上传的</span><br>        <span class="hljs-keyword">if</span>(ServletFileUpload.isMultipartContent(req))&#123;<br>            <span class="hljs-comment">//创建FileItemFactory工厂实现类</span><br>            FileItemFactory fileItemFactory=<span class="hljs-keyword">new</span> <span class="hljs-title class_">DiskFileItemFactory</span>();<br>            <span class="hljs-comment">//创建用于解析上传数据的工具类ServletFileUpload</span><br>            ServletFileUpload servletFileUpload=<span class="hljs-keyword">new</span> <span class="hljs-title class_">ServletFileUpload</span>(fileItemFactory);<br><br>            <span class="hljs-keyword">try</span> &#123;<br>                <span class="hljs-comment">//解析上传的数据，得到一个表单项FileItem</span><br>                List&lt;FileItem&gt; list=servletFileUpload.parseRequest(req);<br><br>                <span class="hljs-comment">//循环判断每一个表单项是上传的文件还是普通类型</span><br>                <span class="hljs-keyword">for</span>(FileItem fileItem:list)&#123;<br>                    <span class="hljs-keyword">if</span>(fileItem.isFormField())&#123;<br>                        <span class="hljs-comment">//普通表单项</span><br>                        System.out.println(<span class="hljs-string">&quot;表单项的name属性值&quot;</span>+fileItem.getFieldName());<br>                        <span class="hljs-comment">//UTF-8是为了防止出现乱码</span><br>                        System.out.println(<span class="hljs-string">&quot;表单项的value属性&quot;</span>+fileItem.getString(<span class="hljs-string">&quot;UTF-8&quot;</span>));<br>                    &#125;<br>                    <span class="hljs-keyword">else</span><br>                    &#123;<br>                        <span class="hljs-comment">//上传的文件</span><br>                        System.out.println(<span class="hljs-string">&quot;表单项的name属性值&quot;</span>+fileItem.getFieldName());<br>                        System.out.println(<span class="hljs-string">&quot;表单项的value属性&quot;</span>+fileItem.getName());<br><br>                        <span class="hljs-comment">//将上传的文件写入e盘</span><br>                        fileItem.write(<span class="hljs-keyword">new</span> <span class="hljs-title class_">File</span>(<span class="hljs-string">&quot;e:\\&quot;</span>+fileItem.getName()));<br>                    &#125;<br><br>                &#125;<br><br>            &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;<br>                e.printStackTrace();<br>            &#125;<br>        &#125;<br><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="文件下载"><a href="#文件下载" class="headerlink" title="文件下载"></a>文件下载</h2><p>getResourceAsStream中的路径只有两种写法</p>
<p>最前面是’&#x2F;‘      说明是工程目录下可以映射到web目录下</p>
<p>最前面没有’&#x2F;‘   说明是默认从src目录开始</p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210041335095.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20221004133553535"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.servlet;<br><br><span class="hljs-keyword">import</span> org.apache.commons.io.IOUtils;<br><br><span class="hljs-keyword">import</span> javax.servlet.ServletContext;<br><span class="hljs-keyword">import</span> javax.servlet.ServletException;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServlet;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequest;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletResponse;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><span class="hljs-keyword">import</span> java.io.InputStream;<br><span class="hljs-keyword">import</span> java.io.OutputStream;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Download</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">HttpServlet</span> &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doGet</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>        <span class="hljs-comment">//1.获取要下载的文件名</span><br>        String downloadFilename=<span class="hljs-string">&quot;1.jpg&quot;</span>;<br><br>        <span class="hljs-comment">//2.读取要下载的文件内容（通过ServletContext对象可以读取）</span><br>        ServletContext servletContext=getServletContext();<br><br>        <span class="hljs-comment">// 获取要下载的文件类型</span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">mimeType</span> <span class="hljs-operator">=</span> servletContext.getMimeType(<span class="hljs-string">&quot;/File/&quot;</span> + downloadFilename);<br>        System.out.println(<span class="hljs-string">&quot;下载的文件类型&quot;</span>+mimeType);<br>        <span class="hljs-comment">//4.在回传前，通过响应头告诉客户端返回的数据类型</span><br>        resp.setContentType(mimeType);<br>        <span class="hljs-comment">//5.还要告诉客户端收到的数据是用于下载使用(还是使用响应头)</span><br>        <span class="hljs-comment">//Content-Disposition响应头，表示收到的数据怎么处理</span><br>        <span class="hljs-comment">//attachment表示附件，表示下载使用</span><br>        <span class="hljs-comment">//filename=表示指定下载的文件名</span><br>        <span class="hljs-comment">//这个filename不一定是源文件名，用自己起的也行</span><br>        resp.setHeader(<span class="hljs-string">&quot;Content-Disposition&quot;</span>,<span class="hljs-string">&quot;attachment;filename=&quot;</span>+downloadFilename);<br><br>        InputStream resourceAsStream=servletContext.getResourceAsStream(<span class="hljs-string">&quot;/File/&quot;</span>+downloadFilename);<br>        <span class="hljs-comment">//获取响应的输出流</span><br>        OutputStream outputStream=resp.getOutputStream();<br>        <span class="hljs-comment">//3.把下载的文件内容回传给客户端</span><br>        <span class="hljs-comment">//读取输入流中全部的数据，赋值给输出流，输出给客户端</span><br>        IOUtils.copy(resourceAsStream,outputStream);<br><br>    &#125;<br><br><br>&#125;<br></code></pre></td></tr></table></figure>

<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210041340069.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20221004134034653"></p>
<p>火狐浏览器base64编码</p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210041357388.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20221004135746774"></p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210041357553.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20221004135756281"></p>
<p>因为火狐浏览器有点问题，所以要单独把他拿出来</p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210041401323.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20221004140104518"></p>
<h1 id="书城项目第三阶段"><a href="#书城项目第三阶段" class="headerlink" title="书城项目第三阶段"></a>书城项目第三阶段</h1><h2 id="页面jsp动态化"><a href="#页面jsp动态化" class="headerlink" title="页面jsp动态化"></a>页面jsp动态化</h2><p>1.在html页面添加page指令</p>
<p>2.修改文件后缀名为.jsp</p>
<p>再次打开服务器访问时，需要先去除浏览器缓存，ctrl+shift+delete</p>
<p>3、使用 IDEA 搜索替换.html 为.jsp(快捷键：Ctrl+Shift+R</p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210041424700.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20221004142358836"></p>
<p>用.jsp替换文件中的.html</p>
<h2 id="抽取所有jsp页面中的公共内容"><a href="#抽取所有jsp页面中的公共内容" class="headerlink" title="抽取所有jsp页面中的公共内容"></a>抽取所有jsp页面中的公共内容</h2><p>将下面的内容放在一个jsp文件中然后使用静态包含，引用到利用它的地方</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>欢迎<span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;um_span&quot;</span>&gt;</span>韩总<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>光临尚硅谷书城<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;order/order.jsp&quot;</span>&gt;</span>我的订单<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;index.jsp&quot;</span>&gt;</span>注销<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-symbol">&amp;nbsp;</span><span class="hljs-symbol">&amp;nbsp;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;index.jsp&quot;</span>&gt;</span>返回<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>静态包含</p>
<figure class="highlight erb"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs erb"><span class="language-xml"> <span class="hljs-comment">&lt;!--静态包含jsp文件--&gt;</span></span><br><span class="language-xml">&lt;%</span><span class="language-ruby">@ <span class="hljs-keyword">include</span> file=<span class="hljs-string">&quot;/pages/common/login_success_menu.jsp&quot;</span></span><span class="language-xml">%&gt;</span><br></code></pre></td></tr></table></figure>



<p>这个也是每一个文件公有的，引入css样式，jQuery库和base标签</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml">    <span class="hljs-comment">&lt;!--写base标签，永远固定相对路径的跳转结果--&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">base</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;http://localhost:8087/book2/&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/css&quot;</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;stylesheet&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;static/css/style.css&quot;</span> &gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;static/script/jquery-1.7.2.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>静态包含</p>
<figure class="highlight erb"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs erb"><span class="language-xml"><span class="hljs-comment">&lt;!--使用静态包含引入css样式jQuery和base标签--&gt;</span></span><br><span class="language-xml">   &lt;%</span><span class="language-ruby">@ <span class="hljs-keyword">include</span> file=<span class="hljs-string">&quot;/pages/common/head.jsp&quot;</span></span><span class="language-xml">%&gt;</span><br></code></pre></td></tr></table></figure>



<p>页脚也是完全一样的</p>
<figure class="highlight erb"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs erb"><span class="language-xml"><span class="hljs-comment">&lt;!--静态包含页脚的代码--&gt;</span></span><br><span class="language-xml">&lt;%</span><span class="language-ruby"><span class="hljs-variable">@include</span> file=<span class="hljs-string">&quot;/pages/common/footer.jsp&quot;</span> </span><span class="language-xml">%&gt;</span><br></code></pre></td></tr></table></figure>



<p>manager中的下面的也是一样的</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;book_manager.jsp&quot;</span>&gt;</span>图书管理<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;order_manager.jsp&quot;</span>&gt;</span>订单管理<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;../../index.jsp&quot;</span>&gt;</span>返回商城<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h2 id="动态的base标签值"><a href="#动态的base标签值" class="headerlink" title="动态的base标签值"></a>动态的base标签值</h2><p>就是让文件的路径根据我们的输入的网址来进行改变</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%@ page contentType=<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="hljs-string">&quot;java&quot;</span> %&gt;<br>&lt;!--写base标签，永远固定相对路径的跳转结果--&gt;<br>&lt;%<br>    String basePath=request.getScheme()+<span class="hljs-string">&quot;://&quot;</span>+request.getServerName()+<span class="hljs-string">&quot;:&quot;</span>+request.getServerPort()+request.getContextPath()+<span class="hljs-string">&quot;/&quot;</span>;<br><br>%&gt;<br>&lt;%--这个最后的/是一定不能省去的--%&gt;<br>&lt;%--这写个方法的意思写在PageContext演示标题下--%&gt;<br>&lt;base href=<span class="hljs-string">&quot;&lt;%=basePath%&gt;&quot;</span>&gt;<br></code></pre></td></tr></table></figure>

<h2 id="登录，注册错误提示，及表单回显"><a href="#登录，注册错误提示，及表单回显" class="headerlink" title="登录，注册错误提示，及表单回显"></a>登录，注册错误提示，及表单回显</h2><p>在LoginServlet中将信息保存到request域中，方便当用户输入错误时，在jsp页面保留输入的用户名以及出现错误提示</p>
<figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs reasonml"><span class="hljs-comment">//把错误信息，和回显的表单项信息，保存到request域中</span><br>req.set<span class="hljs-constructor">Attribute(<span class="hljs-string">&quot;msg&quot;</span>,<span class="hljs-string">&quot;用户名或者密码错误&quot;</span>)</span>;<br>req.set<span class="hljs-constructor">Attribute(<span class="hljs-string">&quot;username&quot;</span>,<span class="hljs-params">username</span>)</span>;<br></code></pre></td></tr></table></figure>

<p>这个value是为了第一次进入页面没有提交过信息的时候，那个username那一栏是空的</p>
<figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs abnf">&lt;input class<span class="hljs-operator">=</span><span class="hljs-string">&quot;itxt&quot;</span> type<span class="hljs-operator">=</span><span class="hljs-string">&quot;text&quot;</span> placeholder<span class="hljs-operator">=</span><span class="hljs-string">&quot;请输入用户名&quot;</span> autocomplete<span class="hljs-operator">=</span><span class="hljs-string">&quot;off&quot;</span> tabindex<span class="hljs-operator">=</span><span class="hljs-string">&quot;1&quot;</span> name<span class="hljs-operator">=</span><span class="hljs-string">&quot;username&quot;</span><br><span class="hljs-attribute">value</span><span class="hljs-operator">=</span><span class="hljs-string">&quot;&lt;%=request.getAttribute(&quot;</span>username<span class="hljs-string">&quot;)==null?&quot;</span><span class="hljs-string">&quot;:request.getAttribute(&quot;</span>username<span class="hljs-string">&quot;)%&gt;&quot;</span>/&gt;<br></code></pre></td></tr></table></figure>

<p>这是对报错信息的修改，就是为了刚进去是请输入用户密码和用户名，如果提交信息的错误则输出报错信息</p>
<figure class="highlight vbscript-html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vbscript-html"><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;errorMsg&quot;</span>&gt;</span></span><span class="language-vbscript">&lt;%=<span class="hljs-built_in">request</span>.getAttribute(<span class="hljs-string">&quot;msg&quot;</span>)==<span class="hljs-literal">null</span>?<span class="hljs-string">&quot;请输入用户密码和用户名&quot;</span>:<span class="hljs-built_in">request</span>.getAttribute(<span class="hljs-string">&quot;msg&quot;</span>)%&gt;</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br></code></pre></td></tr></table></figure>



<p>这是对登录页面的修改，在注册页面中也对username  email 以及报错信息进行了类似的修改</p>
<h2 id="合并LoginServlet和RegistServlet为UserServlet"><a href="#合并LoginServlet和RegistServlet为UserServlet" class="headerlink" title="合并LoginServlet和RegistServlet为UserServlet"></a>合并LoginServlet和RegistServlet为UserServlet</h2><p>在实际的项目开发中，一个模块，一般只使用一个 Servlet 程序。</p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210051900338.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20221005185950311"></p>
<p>就是在两个jsp页面的表单中添加hidden的表单项，根据Servlet程序获取的表单项的值不同，可以判断是login还是regist继而执行对应的程序，同时两个表单的action属性改为UserServlet</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs routeros">&lt;form <span class="hljs-attribute">action</span>=<span class="hljs-string">&quot;UserServlet&quot;</span> <span class="hljs-attribute">method</span>=<span class="hljs-string">&quot;post&quot;</span>&gt;<br>   &lt;input <span class="hljs-attribute">type</span>=<span class="hljs-string">&quot;hidden&quot;</span> <span class="hljs-attribute">name</span>=<span class="hljs-string">&quot;action&quot;</span> <span class="hljs-attribute">value</span>=<span class="hljs-string">&quot;login&quot;</span>/&gt;<br></code></pre></td></tr></table></figure>

<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs routeros">&lt;form <span class="hljs-attribute">action</span>=<span class="hljs-string">&quot;UserServlet&quot;</span> <span class="hljs-attribute">method</span>=<span class="hljs-string">&quot;post&quot;</span>&gt;<br>   &lt;input <span class="hljs-attribute">type</span>=<span class="hljs-string">&quot;hidden&quot;</span> <span class="hljs-attribute">name</span>=<span class="hljs-string">&quot;action&quot;</span> <span class="hljs-attribute">value</span>=<span class="hljs-string">&quot;regist&quot;</span>/&gt;<br></code></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.web;<br><br><span class="hljs-keyword">import</span> com.atguigu.pojo.User;<br><span class="hljs-keyword">import</span> com.atguigu.service.UserService;<br><span class="hljs-keyword">import</span> com.atguigu.service.impl.UserServiceImpl;<br><br><span class="hljs-keyword">import</span> javax.servlet.ServletException;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServlet;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequest;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletResponse;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserServlet</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">HttpServlet</span> &#123;<br>    <span class="hljs-keyword">private</span> UserService userService=<span class="hljs-keyword">new</span> <span class="hljs-title class_">UserServiceImpl</span>();<br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">login</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br><span class="hljs-comment">//获取用户名和密码参数</span><br>        String username=req.getParameter(<span class="hljs-string">&quot;username&quot;</span>);<br>        String password=req.getParameter(<span class="hljs-string">&quot;password&quot;</span>);<br>        <span class="hljs-comment">//如果用户名或密码错误</span><br>        <span class="hljs-keyword">if</span>(userService.login(<span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>(<span class="hljs-literal">null</span>,username,password,<span class="hljs-literal">null</span>))==<span class="hljs-literal">null</span>)&#123;<br>            <span class="hljs-comment">//把错误信息，和回显的表单项信息，保存到request域中</span><br>            req.setAttribute(<span class="hljs-string">&quot;msg&quot;</span>,<span class="hljs-string">&quot;用户名或者密码错误&quot;</span>);<br>            req.setAttribute(<span class="hljs-string">&quot;username&quot;</span>,username);<br>            req.getRequestDispatcher(<span class="hljs-string">&quot;/pages/user/login.jsp&quot;</span>).forward(req,resp);<br>        &#125;<br>        <span class="hljs-comment">//如果用户名和密码正确</span><br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            req.getRequestDispatcher(<span class="hljs-string">&quot;/pages/user/login_success.jsp&quot;</span>).forward(req,resp);<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">regist</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>        <span class="hljs-comment">//1.获取请求的参数</span><br>        <span class="hljs-comment">//这个getParameter方法是通过那个属性的name得到的</span><br>        String username=req.getParameter(<span class="hljs-string">&quot;username&quot;</span>);<br>        String password=req.getParameter(<span class="hljs-string">&quot;password&quot;</span>);<br>        String email=req.getParameter(<span class="hljs-string">&quot;email&quot;</span>);<br>        String code=req.getParameter(<span class="hljs-string">&quot;code&quot;</span>);<br>        <span class="hljs-comment">//2.检查 验证码是否正确,先把验证码写死，要求为abcde</span><br>        <span class="hljs-keyword">if</span>(<span class="hljs-string">&quot;abcde&quot;</span>.equalsIgnoreCase(code))&#123;<br>            <span class="hljs-comment">//验证码正确</span><br>            <span class="hljs-comment">//检查用户名是否可用</span><br>            <span class="hljs-keyword">if</span>(userService.existsUsername(username))&#123;<br>                System.out.println(<span class="hljs-string">&quot;用户名&quot;</span>+username+<span class="hljs-string">&quot;已存在&quot;</span>);<br><br>                req.setAttribute(<span class="hljs-string">&quot;msg&quot;</span>,<span class="hljs-string">&quot;用户名已存在&quot;</span>);<br>                req.setAttribute(<span class="hljs-string">&quot;username&quot;</span>,username);<br>                req.setAttribute(<span class="hljs-string">&quot;email&quot;</span>,email);<br>                <span class="hljs-comment">//跳回到注册页面</span><br>                req.getRequestDispatcher(<span class="hljs-string">&quot;/pages/user/regist.jsp&quot;</span>).forward(req,resp);<br>            &#125;<br>            <span class="hljs-keyword">else</span><br>            &#123;<br>                <span class="hljs-comment">//可用</span><br>                <span class="hljs-comment">//调用Sercice保存到数据库</span><br>                userService.registerUser(<span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>(<span class="hljs-literal">null</span>,username,password,email));<br>                <span class="hljs-comment">//注册成功后，跳转到注册成功页面</span><br>                req.getRequestDispatcher(<span class="hljs-string">&quot;/pages/user/regist_success.jsp&quot;</span>).forward(req,resp);<br>            &#125;<br>        &#125;<span class="hljs-keyword">else</span>&#123;<br>            <span class="hljs-comment">//把回显信息保存到request域中</span><br>            req.setAttribute(<span class="hljs-string">&quot;msg&quot;</span>,<span class="hljs-string">&quot;用户验证码错误&quot;</span>);<br>            req.setAttribute(<span class="hljs-string">&quot;username&quot;</span>,username);<br>            req.setAttribute(<span class="hljs-string">&quot;email&quot;</span>,email);<br><br>            System.out.println(<span class="hljs-string">&quot;验证码&quot;</span>+code+<span class="hljs-string">&quot;错误&quot;</span>);<br>            <span class="hljs-comment">//验证码不正确</span><br>            <span class="hljs-comment">//跳回注册页面，因为还是申请服务器中文件所以/还是工程目录下的</span><br>            req.getRequestDispatcher(<span class="hljs-string">&quot;/pages/user/regist.jsp&quot;</span>).forward(req,resp);<br><br>        &#125;<br>    &#125;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doPost</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br><br>        String parameter=req.getParameter(<span class="hljs-string">&quot;action&quot;</span>);<br>        <span class="hljs-keyword">if</span>(parameter.equals(<span class="hljs-string">&quot;login&quot;</span>))&#123;<br>            login(req,resp);<br>        &#125;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(parameter.equals(<span class="hljs-string">&quot;regist&quot;</span>))&#123;<br>            regist(req,resp);<br>        &#125;<br><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="使用反射优化大量else-if代码"><a href="#使用反射优化大量else-if代码" class="headerlink" title="使用反射优化大量else if代码"></a>使用反射优化大量else if代码</h2><p>用户模块的功能，除了登录和注册，还有其他比如：添加用户，修改用户信息，修改密码，绑定手机号，绑定邮箱，注销用户</p>
<p>….等等这样在UserServlet终究会出现特别多的else if 语句</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Override</span><br><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doPost</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br><br>    String parameter=req.getParameter(<span class="hljs-string">&quot;action&quot;</span>);<br>    <span class="hljs-keyword">try</span> &#123;<br>        <span class="hljs-comment">//通过反射获取对应的方法，因为设定获取的action的参数值和调用方法的名字相同</span><br>        <span class="hljs-type">Method</span> <span class="hljs-variable">parameter1</span> <span class="hljs-operator">=</span> <span class="hljs-built_in">this</span>.getClass().getDeclaredMethod(parameter,HttpServletRequest.class,HttpServletResponse.class);<br>        <span class="hljs-comment">//执行目标业务方法</span><br>        parameter1.invoke(<span class="hljs-built_in">this</span>,req,resp);<br><br>    &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;<br>        e.printStackTrace();<br>    &#125;<br><br><br>&#125;<br></code></pre></td></tr></table></figure>

<p>这个是因为获取的hidden的action参数值是和要调用的业务方法是相同的，所以用反射获取要调用的业务方法然后调用</p>
<h2 id="抽取BaseServlet程序"><a href="#抽取BaseServlet程序" class="headerlink" title="抽取BaseServlet程序"></a>抽取BaseServlet程序</h2><p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210051954859.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20221005195440449"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.servlet;<br><br><span class="hljs-keyword">import</span> javax.servlet.ServletException;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServlet;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequest;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletResponse;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><span class="hljs-keyword">import</span> java.lang.reflect.Method;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BaseServlet</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">HttpServlet</span> &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doGet</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>        doPost(req,resp);<br>    &#125;<br><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doPost</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br><br>        resp.setContentType(<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span>);<br>        <span class="hljs-comment">//解决响应乱码问题</span><br>        String parameter=req.getParameter(<span class="hljs-string">&quot;action&quot;</span>);<br>        <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-comment">//通过反射获取对应的方法，因为设定获取的action的参数值和调用方法的名字相同</span><br>            <span class="hljs-comment">//this是指调用该post方法的对象</span><br>            <span class="hljs-type">Method</span> <span class="hljs-variable">parameter1</span> <span class="hljs-operator">=</span> <span class="hljs-built_in">this</span>.getClass().getDeclaredMethod(parameter,HttpServletRequest.class,HttpServletResponse.class);<br>            <span class="hljs-comment">//执行目标业务方法</span><br>            parameter1.invoke(<span class="hljs-built_in">this</span>,req,resp);<br><br>        &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;<br>            e.printStackTrace();<br>        &#125;<br><br><br>    &#125;<br><br><br>&#125;<br><br></code></pre></td></tr></table></figure>

<p>因为Servlet程序还有好多有UserServlet有BookServlet等等他们上面那些代码都是一致的，所以拿出来形成一个BaseServlet</p>
<p>BaseServlet继承HttpServlet     ，其他的都继承BaseServlet就可以了</p>
<p>post访问时会自动调用UserServlet中继承的doPost方法</p>
<h2 id="BeanUtils工具的使用"><a href="#BeanUtils工具的使用" class="headerlink" title="BeanUtils工具的使用"></a>BeanUtils工具的使用</h2><p>BeanUtils 工具类，它可以一次性的把所有请求的参数注入到 JavaBean 中</p>
<p>BeanUtils 工具类，经常用于把 Map 中的值注入到 JavaBean 中，或者是对象属性值的拷贝操作。</p>
<p>BeanUtils 它不是 Jdk 的类。而是第三方的工具类。所以需要导包。 </p>
<p>1、导入需要的 jar 包： commons-beanutils-1.8.0.jar commons-logging-1.1.1.jar</p>
<p>2.BeanUtils的使用</p>
<figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs reasonml">User user=<span class="hljs-keyword">new</span> <span class="hljs-constructor">User()</span>;<br><span class="hljs-keyword">try</span> &#123;<br>    <span class="hljs-comment">//将所有请求参数导入user对象，getParameterMap方法是获得Map类型的参数</span><br>    <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">BeanUtils</span>.</span></span>populate(user,req.get<span class="hljs-constructor">ParameterMap()</span>);<br>&#125; catch (Exception e) &#123;<br>    e.print<span class="hljs-constructor">StackTrace()</span>;<br>&#125;<br>userService.register<span class="hljs-constructor">User(<span class="hljs-params">user</span>)</span>;<br></code></pre></td></tr></table></figure>

<p><strong>这个的使用原理就是   找属性username然后变成setUsername对这个属性进行赋值，然后再对其他每个属性进行这个操作</strong></p>
<p><strong>所以如果这个属性没有对应的正确的set方法是无法注入值的</strong> </p>
<p><strong>所以还有一个要求是获取的参数的name一定要和java类中的属性的名字相同</strong></p>
<p>webUtils类</p>
<p>对这个BeanUtils类中的方法使用进行一个封装</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.utils;<br><br><span class="hljs-keyword">import</span> com.atguigu.pojo.User;<br><span class="hljs-keyword">import</span> org.apache.commons.beanutils.BeanUtils;<br><br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequest;<br><span class="hljs-keyword">import</span> java.util.Map;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">WebUtils</span> &#123;<br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 把 Map 中的值注入到对应的 JavaBean 属性中。</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> value</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> bean</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span>&lt;T&gt; T <span class="hljs-title function_">copyParamToBean</span><span class="hljs-params">(Map value, T bean)</span>&#123;<br>          <span class="hljs-comment">/*</span><br><span class="hljs-comment">           将所有的请求参数一次性注入到user对象中</span><br><span class="hljs-comment">           */</span><br>        <span class="hljs-keyword">try</span> &#123;<br>            System.out.println(<span class="hljs-string">&quot;注入之前:&quot;</span>+bean);<br>            <span class="hljs-comment">//将所有请求参数导入user对象，getParameterMap方法是获得Map类型的参数</span><br>            BeanUtils.populate(bean,value);<br>            System.out.println(<span class="hljs-string">&quot;注入之后&quot;</span>+bean);<br>        &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;<br>            e.printStackTrace();<br>        &#125;<br>        <span class="hljs-keyword">return</span> bean;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>



<p>webUtils的使用</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java">  <span class="hljs-comment">//可用</span><br>  <span class="hljs-comment">//调用Sercice保存到数据库</span><br>Map map=req.getParameterMap();<br>User user=WebUtils.copyParamToBean(map,<span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>());<br></code></pre></td></tr></table></figure>

<h1 id="书城项目第四阶段"><a href="#书城项目第四阶段" class="headerlink" title="书城项目第四阶段"></a>书城项目第四阶段</h1><h2 id="使用EL修改表单回显"><a href="#使用EL修改表单回显" class="headerlink" title="使用EL修改表单回显"></a>使用EL修改表单回显</h2><p>这是login.jsp的</p>
<p>将用jsp表达式脚本转变为EL表达式</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs ruby">&lt;span <span class="hljs-keyword">class</span>=<span class="hljs-string">&quot;errorMsg&quot;</span>&gt;<br>   &lt;<span class="hljs-string">%--</span>&lt;%=request.getAttribute(<span class="hljs-string">&quot;msg&quot;</span>)==null?<span class="hljs-string">&quot;请输入用户密码和用户名&quot;</span><span class="hljs-symbol">:request</span>.getAttribute(<span class="hljs-string">&quot;msg&quot;</span>)%&gt;--%&gt;<br>    <span class="hljs-variable">$&#123;</span>empty requestScope.msg?<span class="hljs-string">&quot;请输入用户密码和用户名&quot;</span><span class="hljs-symbol">:requestScope</span>.msg&#125;<br>&lt;<span class="hljs-regexp">/span&gt;</span><br></code></pre></td></tr></table></figure>

<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;!--省去判断是因为即使是空那么返回的也是空字符串--&gt;<br>&lt;input class=<span class="hljs-string">&quot;itxt&quot;</span> type=<span class="hljs-string">&quot;text&quot;</span> placeholder=<span class="hljs-string">&quot;请输入用户名&quot;</span> autocomplete=<span class="hljs-string">&quot;off&quot;</span> tabindex=<span class="hljs-string">&quot;1&quot;</span> name=<span class="hljs-string">&quot;username&quot;</span><br>&lt;%--value=<span class="hljs-string">&quot;&lt;%=request.getAttribute(&quot;</span>username<span class="hljs-string">&quot;)==null?&quot;</span><span class="hljs-string">&quot;:request.getAttribute(&quot;</span>username<span class="hljs-string">&quot;)%&gt;&quot;</span>--%&gt;<br>      value=<span class="hljs-string">&quot;$&#123;requestScope.username&#125;&quot;</span><br>/&gt;<br></code></pre></td></tr></table></figure>

<p>regist.jsp中同样有这种的 ，username ，email  和报错信息</p>
<h1 id="书城项目的第五阶段"><a href="#书城项目的第五阶段" class="headerlink" title="书城项目的第五阶段"></a>书城项目的第五阶段</h1><h2 id="MVC概念"><a href="#MVC概念" class="headerlink" title="MVC概念"></a>MVC概念</h2><p>MVC 全称：Model 模型、 View 视图、 Controller 控制器。</p>
<p>MVC 最早出现在 JavaEE 三层中的 Web 层，它可以有效的指导 Web 层的代码如何有效分离，单独工作</p>
<p>View 视图：只负责数据和界面的显示，不接受任何与显示数据无关的代码，便于程序员和美工的分工合作—— JSP&#x2F;HTML</p>
<p>Controller 控制器：只负责接收请求，调用业务层的代码处理请求，然后派发页面，是一个“调度者”的角色——Servlet。 转到某个页面。或者是重定向到某个页面。</p>
<p>Model 模型：将与业务逻辑相关的数据封装为具体的 JavaBean 类，其中不掺杂任何与数据处理相关的代码—— JavaBean&#x2F;domain&#x2F;entity&#x2F;pojo。</p>
<p>MVC 是一种思想</p>
<p> MVC 的理念是将软件代码拆分成为组件，单独开发，组合使用（目的还是为了降低耦合度）。</p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210052131626.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20221005213127177"></p>
<h2 id="创建图书模块的数据库表"><a href="#创建图书模块的数据库表" class="headerlink" title="创建图书模块的数据库表"></a>创建图书模块的数据库表</h2><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> t_book(<br>id <span class="hljs-type">int</span> <span class="hljs-keyword">primary key</span> auto_increment,<br><span class="hljs-type">name</span> <span class="hljs-type">varchar</span>(<span class="hljs-number">100</span>),<br>price <span class="hljs-type">decimal</span>(<span class="hljs-number">11</span>,<span class="hljs-number">2</span>),<br>author <span class="hljs-type">varchar</span>(<span class="hljs-number">100</span>),<br>sales <span class="hljs-type">int</span>,<br>stock <span class="hljs-type">int</span>,<br>img_path <span class="hljs-type">varchar</span>(<span class="hljs-number">200</span>)<br>);<br></code></pre></td></tr></table></figure>

<p>然后在里面插入数据</p>
<figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs abnf">use book<span class="hljs-comment">;</span><br>select *from t_book<span class="hljs-comment">;</span><br>查询一下里面插入的数据<br></code></pre></td></tr></table></figure>



<h2 id="编写图书模块的JavaBean"><a href="#编写图书模块的JavaBean" class="headerlink" title="编写图书模块的JavaBean"></a>编写图书模块的JavaBean</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.pojo;<br><br><span class="hljs-keyword">import</span> java.math.BigDecimal;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Book</span> &#123;<br>    <span class="hljs-keyword">private</span> Integer id;<br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-keyword">private</span> String author;<br>    <span class="hljs-keyword">private</span> BigDecimal price;<br>    <span class="hljs-keyword">private</span> Integer sales;<br>    <span class="hljs-keyword">private</span> Integer stock;<br>    <span class="hljs-keyword">private</span> String imgPath=<span class="hljs-string">&quot;static/img/default.jpg&quot;</span>;<span class="hljs-comment">//图书的封面</span><br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Book</span><span class="hljs-params">()</span> &#123;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Book</span><span class="hljs-params">(Integer id, String name, String author, BigDecimal price, Integer sales, Integer stock, String imgPath)</span> &#123;<br>        <span class="hljs-built_in">this</span>.id = id;<br>        <span class="hljs-built_in">this</span>.name = name;<br>        <span class="hljs-built_in">this</span>.author = author;<br>        <span class="hljs-built_in">this</span>.price = price;<br>        <span class="hljs-built_in">this</span>.sales = sales;<br>        <span class="hljs-built_in">this</span>.stock = stock;<br>        <span class="hljs-built_in">this</span>.imgPath = imgPath;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> Integer <span class="hljs-title function_">getId</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> id;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setId</span><span class="hljs-params">(Integer id)</span> &#123;<br>        <span class="hljs-built_in">this</span>.id = id;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> name;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setName</span><span class="hljs-params">(String name)</span> &#123;<br>        <span class="hljs-built_in">this</span>.name = name;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Book&#123;&quot;</span> +<br>                <span class="hljs-string">&quot;id=&quot;</span> + id +<br>                <span class="hljs-string">&quot;, name=&#x27;&quot;</span> + name + <span class="hljs-string">&#x27;\&#x27;&#x27;</span> +<br>                <span class="hljs-string">&quot;, author=&#x27;&quot;</span> + author + <span class="hljs-string">&#x27;\&#x27;&#x27;</span> +<br>                <span class="hljs-string">&quot;, price=&quot;</span> + price +<br>                <span class="hljs-string">&quot;, sales=&quot;</span> + sales +<br>                <span class="hljs-string">&quot;, stock=&quot;</span> + stock +<br>                <span class="hljs-string">&quot;, imgPath=&#x27;&quot;</span> + imgPath + <span class="hljs-string">&#x27;\&#x27;&#x27;</span> +<br>                <span class="hljs-string">&#x27;&#125;&#x27;</span>;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getAuthor</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> author;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setAuthor</span><span class="hljs-params">(String author)</span> &#123;<br>        <span class="hljs-built_in">this</span>.author = author;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> BigDecimal <span class="hljs-title function_">getPrice</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> price;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setPrice</span><span class="hljs-params">(BigDecimal price)</span> &#123;<br>        <span class="hljs-built_in">this</span>.price = price;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> Integer <span class="hljs-title function_">getSales</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> sales;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setSales</span><span class="hljs-params">(Integer sales)</span> &#123;<br>        <span class="hljs-built_in">this</span>.sales = sales;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> Integer <span class="hljs-title function_">getStock</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> stock;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setStock</span><span class="hljs-params">(Integer stock)</span> &#123;<br>        <span class="hljs-built_in">this</span>.stock = stock;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getImgPath</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> imgPath;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setImgPath</span><span class="hljs-params">(String imgPath)</span> &#123;<br>        <span class="hljs-built_in">this</span>.imgPath = imgPath;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="编写图书模块的Dao和测试Dao"><a href="#编写图书模块的Dao和测试Dao" class="headerlink" title="编写图书模块的Dao和测试Dao"></a>编写图书模块的Dao和测试Dao</h2><p>BookDao</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.dao;<br><br><br><span class="hljs-keyword">import</span> com.atguigu.pojo.Book;<br><br><span class="hljs-keyword">import</span> java.util.List;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">BookDao</span> &#123;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">addBook</span><span class="hljs-params">(Book book)</span>;<br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">deleteBookById</span><span class="hljs-params">(Integer id)</span>;<br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">updateBook</span><span class="hljs-params">(Book book)</span>;<br>    <span class="hljs-keyword">public</span> Book <span class="hljs-title function_">queryBookById</span><span class="hljs-params">(Integer id)</span>;<br>    <span class="hljs-keyword">public</span> List&lt;Book&gt; <span class="hljs-title function_">queryBooks</span><span class="hljs-params">()</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>BookDaoImpl</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.dao.impl;<br><br><span class="hljs-keyword">import</span> com.atguigu.dao.BookDao;<br><span class="hljs-keyword">import</span> com.atguigu.pojo.Book;<br><br><span class="hljs-keyword">import</span> java.util.List;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BookDaoImpl</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">BaseDao</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">BookDao</span> &#123;<br><br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">addBook</span><span class="hljs-params">(Book book)</span> &#123;<br>        String sql=<span class="hljs-string">&quot;insert into t_book (name,author,price,sales,stock,img_path) values(?,?,?,?,?,?)&quot;</span>;<br>        <span class="hljs-keyword">return</span> update(sql,book.getName(),book.getAuthor(),book.getPrice(),book.getSales(),book.getStock(),book.getImgPath());<br><br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">deleteBookById</span><span class="hljs-params">(Integer id)</span> &#123;<br>        String sql=<span class="hljs-string">&quot;delete from t_book where id=?&quot;</span>;<br>        <span class="hljs-keyword">return</span> update(sql,id);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">updateBook</span><span class="hljs-params">(Book book)</span> &#123;<br>        String sql=<span class="hljs-string">&quot;update t_book set name=?,author=?,price=?,sales=?,stock=?,img_path=? where id=?&quot;</span>;<br><br>        <span class="hljs-keyword">return</span> update(sql,book.getName(),book.getAuthor(),book.getPrice(),book.getSales(),book.getStock(),book.getImgPath(),book.getId());<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> Book <span class="hljs-title function_">queryBookById</span><span class="hljs-params">(Integer id)</span> &#123;<br>        String sql=<span class="hljs-string">&quot;select * from t_book where id=?&quot;</span>;<br>        <span class="hljs-keyword">return</span> queryForOne(Book.class,sql,id);<br><br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> List&lt;Book&gt; <span class="hljs-title function_">queryBooks</span><span class="hljs-params">()</span> &#123;<br>        String sql=<span class="hljs-string">&quot;select * from t_book&quot;</span>;<br>        <span class="hljs-keyword">return</span> queryForList(Book.class,sql);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>



<p>BookDaoTest</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.test;<br><br><span class="hljs-keyword">import</span> com.atguigu.dao.BookDao;<br><span class="hljs-keyword">import</span> com.atguigu.dao.impl.BookDaoImpl;<br><span class="hljs-keyword">import</span> com.atguigu.pojo.Book;<br><span class="hljs-keyword">import</span> org.junit.Test;<br><br><span class="hljs-keyword">import</span> java.math.BigDecimal;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BookDaoTest</span> &#123;<br><span class="hljs-keyword">private</span> BookDao bookDao=<span class="hljs-keyword">new</span> <span class="hljs-title class_">BookDaoImpl</span>();<br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addBook</span><span class="hljs-params">()</span> &#123;<br>        bookDao.addBook(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Book</span>(<span class="hljs-literal">null</span>,<span class="hljs-string">&quot;国哥为什么这么帅！&quot;</span>, <span class="hljs-string">&quot;191125&quot;</span>, <span class="hljs-keyword">new</span><br>                <span class="hljs-title class_">BigDecimal</span>(<span class="hljs-number">9999</span>),<span class="hljs-number">1100000</span>,<span class="hljs-number">0</span>,<span class="hljs-literal">null</span><br>        ));<br>    &#125;<br><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">deleteBookById</span><span class="hljs-params">()</span> &#123;<br>        bookDao.deleteBookById(<span class="hljs-number">1</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">updateBook</span><span class="hljs-params">()</span> &#123;<br>        bookDao.updateBook(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Book</span>(<span class="hljs-number">21</span>,<span class="hljs-string">&quot;国哥&quot;</span>, <span class="hljs-string">&quot;191125&quot;</span>, <span class="hljs-keyword">new</span><br>                <span class="hljs-title class_">BigDecimal</span>(<span class="hljs-number">9999</span>),<span class="hljs-number">1100000</span>,<span class="hljs-number">0</span>,<span class="hljs-literal">null</span><br>        ));<br><br>    &#125;<br><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">queryBookById</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(bookDao.queryBookById(<span class="hljs-number">21</span>));<br>    &#125;<br><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">queryBooks</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">for</span> (Book queryBook : bookDao.queryBooks()) &#123;<br>            System.out.println(queryBook);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="编写图书模块的Service和测试Service"><a href="#编写图书模块的Service和测试Service" class="headerlink" title="编写图书模块的Service和测试Service"></a>编写图书模块的Service和测试Service</h2><p>BookSevice</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.service;<br><br><span class="hljs-keyword">import</span> com.atguigu.pojo.Book;<br><br><span class="hljs-keyword">import</span> java.util.List;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">BookService</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addBook</span><span class="hljs-params">(Book book)</span>;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">deleteBookById</span><span class="hljs-params">(Integer id)</span>;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">updateBook</span><span class="hljs-params">(Book book)</span>;<br>    <span class="hljs-keyword">public</span> Book <span class="hljs-title function_">queryBookById</span><span class="hljs-params">(Integer id)</span>;<br>    <span class="hljs-keyword">public</span> List&lt;Book&gt; <span class="hljs-title function_">queryBooks</span><span class="hljs-params">()</span>;<br>&#125;<br></code></pre></td></tr></table></figure>



<p>BookService的实现是基于BookDao的</p>
<p>BookServiceImpl</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.service.impl;<br><br><span class="hljs-keyword">import</span> com.atguigu.dao.BookDao;<br><span class="hljs-keyword">import</span> com.atguigu.dao.impl.BookDaoImpl;<br><span class="hljs-keyword">import</span> com.atguigu.pojo.Book;<br><span class="hljs-keyword">import</span> com.atguigu.service.BookService;<br><br><span class="hljs-keyword">import</span> java.util.List;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BookServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">BookService</span> &#123;<br>    <span class="hljs-keyword">private</span> BookDao bookDao=<span class="hljs-keyword">new</span> <span class="hljs-title class_">BookDaoImpl</span>();<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addBook</span><span class="hljs-params">(Book book)</span> &#123;<br>        bookDao.addBook(book);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">deleteBookById</span><span class="hljs-params">(Integer id)</span> &#123;<br>bookDao.deleteBookById(id);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">updateBook</span><span class="hljs-params">(Book book)</span> &#123;<br>bookDao.updateBook(book);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> Book <span class="hljs-title function_">queryBookById</span><span class="hljs-params">(Integer id)</span> &#123;<br>        <span class="hljs-keyword">return</span> bookDao.queryBookById(id);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> List&lt;Book&gt; <span class="hljs-title function_">queryBooks</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> bookDao.queryBooks();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>









<p>BookServiceImplTest测试</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.test;<br><br><span class="hljs-keyword">import</span> com.atguigu.pojo.Book;<br><span class="hljs-keyword">import</span> com.atguigu.service.BookService;<br><span class="hljs-keyword">import</span> com.atguigu.service.impl.BookServiceImpl;<br><span class="hljs-keyword">import</span> org.junit.Test;<br><br><span class="hljs-keyword">import</span> java.math.BigDecimal;<br><br><span class="hljs-keyword">import</span> <span class="hljs-keyword">static</span> org.junit.Assert.*;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BookServiceImplTest</span> &#123;<br><br>    <span class="hljs-keyword">private</span> BookService bookService=<span class="hljs-keyword">new</span> <span class="hljs-title class_">BookServiceImpl</span>();<br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addBook</span><span class="hljs-params">()</span> &#123;<br>        bookService.addBook(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Book</span>(<span class="hljs-number">1</span>,<span class="hljs-string">&quot;java从入门到放弃&quot;</span>,<span class="hljs-string">&quot;国歌&quot;</span>,<span class="hljs-keyword">new</span> <span class="hljs-title class_">BigDecimal</span>(<span class="hljs-number">80</span>),<span class="hljs-number">9999</span>,<span class="hljs-number">9</span>,<span class="hljs-string">&quot;static/img/default.jpg&quot;</span>));<br>    &#125;<br><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">deleteBookById</span><span class="hljs-params">()</span> &#123;<br>        bookService.deleteBookById(<span class="hljs-number">21</span>);<br><br>    &#125;<br><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">updateBook</span><span class="hljs-params">()</span> &#123;<br>        bookService.updateBook(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Book</span>(<span class="hljs-number">22</span>,<span class="hljs-string">&quot;黑涩会国歌&quot;</span>,<span class="hljs-string">&quot;122&quot;</span>,<span class="hljs-keyword">new</span> <span class="hljs-title class_">BigDecimal</span>(<span class="hljs-number">100000</span>),<span class="hljs-number">100000</span>,<span class="hljs-number">0</span>,<span class="hljs-literal">null</span>));<br><br>    &#125;<br><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">queryBookById</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(bookService.queryBookById(<span class="hljs-number">22</span>));<br>    &#125;<br><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">queryBooks</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">for</span> (Book queryBook : bookService.queryBooks()) &#123;<br>            System.out.println(queryBook);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="编写图书模块的web层，和页面联调测试"><a href="#编写图书模块的web层，和页面联调测试" class="headerlink" title="编写图书模块的web层，和页面联调测试"></a>编写图书模块的web层，和页面联调测试</h2><p>流程</p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210061437693.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20221006143704164"></p>
<p>这个是manager.jsp页面</p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210061502338.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20221006150206650"></p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210061502737.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20221006150241618"></p>
<p>点一下这个是进入book_manager.jsp是</p>
<p>步骤</p>
<p>在bookServlet中添加这个方法</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs awk">protected void list(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException &#123;<br>    <span class="hljs-regexp">//</span><span class="hljs-number">1</span>.通过BookService查询全部图书<br>    List&lt;Book&gt; books = bookService.queryBooks();<br>    <span class="hljs-regexp">//</span><span class="hljs-number">2</span>.把全部图书保存到request域中<br>    req.setAttribute(<span class="hljs-string">&quot;books&quot;</span>,books);<br>    System.out.println(<span class="hljs-number">1</span>);<br>    <span class="hljs-regexp">//</span><span class="hljs-number">3</span>.请求转发到<span class="hljs-regexp">/pages/m</span>anager/book_manager.jsp<br>    req.getRequestDispatcher(<span class="hljs-string">&quot;/pages/manager/book_manager.jsp&quot;</span>).forward(req,resp);<br>&#125;<br></code></pre></td></tr></table></figure>

<p><img src="D:\img\image-20221006160611067.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20221006160611067"></p>
<p>在book_manager.jsp中进行图书信息遍历输出</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%@ taglib prefix=<span class="hljs-string">&quot;c&quot;</span> uri=<span class="hljs-string">&quot;http://java.sun.com/jsp/jstl/core&quot;</span> %&gt;<br>&lt;%@ page contentType=<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="hljs-string">&quot;java&quot;</span> %&gt;<br>&lt;!DOCTYPE html&gt;<br>&lt;html&gt;<br>&lt;head&gt;<br>&lt;meta charset=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;<br>&lt;title&gt;图书管理&lt;/title&gt;<br>   &lt;!--使用静态包含引入css样式jQuery和base标签--&gt;<br>   &lt;%@ include file=<span class="hljs-string">&quot;/pages/common/head.jsp&quot;</span>%&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>   <br>   &lt;div id=<span class="hljs-string">&quot;header&quot;</span>&gt;<br>         &lt;img class=<span class="hljs-string">&quot;logo_img&quot;</span> alt=<span class="hljs-string">&quot;&quot;</span> src=<span class="hljs-string">&quot;static/img/logo.gif&quot;</span> &gt;<br>         &lt;span class=<span class="hljs-string">&quot;wel_word&quot;</span>&gt;图书管理系统&lt;/span&gt;<br>      &lt;!--引入manager_menu.jsp内容--&gt;<br>      &lt;%<span class="hljs-meta">@include</span> file=<span class="hljs-string">&quot;/pages/common/manager_menu.jsp&quot;</span>%&gt;<br>   &lt;/div&gt;<br>   <br>   &lt;div id=<span class="hljs-string">&quot;main&quot;</span>&gt;<br>      &lt;table&gt;<br>         &lt;tr&gt;<br>            &lt;td&gt;名称&lt;/td&gt;<br>            &lt;td&gt;价格&lt;/td&gt;<br>            &lt;td&gt;作者&lt;/td&gt;<br>            &lt;td&gt;销量&lt;/td&gt;<br>            &lt;td&gt;库存&lt;/td&gt;<br>            &lt;td colspan=<span class="hljs-string">&quot;2&quot;</span>&gt;操作&lt;/td&gt;<br>         &lt;/tr&gt;<br>         &lt;c:forEach items=<span class="hljs-string">&quot;$&#123;requestScope.books&#125;&quot;</span> <span class="hljs-keyword">var</span>=<span class="hljs-string">&quot;book&quot;</span>&gt;<br>            &lt;tr&gt;<br>               &lt;td&gt;$&#123;book.name&#125;&lt;/td&gt;<br>               &lt;td&gt;$&#123;book.price&#125;&lt;/td&gt;<br>               &lt;td&gt;$&#123;book.author&#125;&lt;/td&gt;<br>               &lt;td&gt;$&#123;book.sales&#125;&lt;/td&gt;<br>               &lt;td&gt;$&#123;book.stock&#125;&lt;/td&gt;<br>               &lt;td&gt;&lt;a href=<span class="hljs-string">&quot;book_edit.jsp&quot;</span>&gt;修改&lt;/a&gt;&lt;/td&gt;<br>               &lt;td&gt;&lt;a href=<span class="hljs-string">&quot;#&quot;</span>&gt;删除&lt;/a&gt;&lt;/td&gt;<br>            &lt;/tr&gt;<br>         &lt;/c:forEach&gt;<br><br><br>         &lt;tr&gt;<br>            &lt;td&gt;&lt;/td&gt;<br>            &lt;td&gt;&lt;/td&gt;<br>            &lt;td&gt;&lt;/td&gt;<br>            &lt;td&gt;&lt;/td&gt;<br>            &lt;td&gt;&lt;/td&gt;<br>            &lt;td&gt;&lt;/td&gt;<br>            &lt;td&gt;&lt;a href=<span class="hljs-string">&quot;book_edit.jsp&quot;</span>&gt;添加图书&lt;/a&gt;&lt;/td&gt;<br>         &lt;/tr&gt;  <br>      &lt;/table&gt;<br>   &lt;/div&gt;<br><br>   &lt;!--静态包含页脚的代码--&gt;<br>   &lt;%<span class="hljs-meta">@include</span> file=<span class="hljs-string">&quot;/pages/common/footer.jsp&quot;</span> %&gt;<br>&lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>

<p>还有一个改动</p>
<p>在BaseServlet添加doGet方法并在其中调用doPost方法</p>
<p>因为</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;manager/BookServlet?action=list&quot;</span>&gt;</span>图书管理<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>进行的是get传参，来调用list方法，所以得有一个doGet方法来调用doPost</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.web;<br><br><span class="hljs-keyword">import</span> javax.servlet.ServletException;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServlet;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequest;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletResponse;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><span class="hljs-keyword">import</span> java.lang.reflect.Method;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BaseServlet</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">HttpServlet</span> &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doGet</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>        doPost(req,resp);<br>    &#125;<br><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doPost</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br><br>        String parameter=req.getParameter(<span class="hljs-string">&quot;action&quot;</span>);<br>        <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-comment">//通过反射获取对应的方法，因为设定获取的action的参数值和调用方法的名字相同</span><br>            <span class="hljs-type">Method</span> <span class="hljs-variable">parameter1</span> <span class="hljs-operator">=</span> <span class="hljs-built_in">this</span>.getClass().getDeclaredMethod(parameter,HttpServletRequest.class,HttpServletResponse.class);<br>            <span class="hljs-comment">//执行目标业务方法</span><br>            parameter1.invoke(<span class="hljs-built_in">this</span>,req,resp);<br><br>        &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;<br>            e.printStackTrace();<br>        &#125;<br><br><br>    &#125;<br><br><br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="前后端的简单介绍"><a href="#前后端的简单介绍" class="headerlink" title="前后端的简单介绍"></a>前后端的简单介绍</h2><p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210061624028.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20221006162446765"></p>
<h2 id="添加图书功能的实现"><a href="#添加图书功能的实现" class="headerlink" title="添加图书功能的实现"></a>添加图书功能的实现</h2><p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210061626283.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20221006162625516"></p>
<p>book_edit是这个界面，用来添加图书的</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;pages/manager/book_edit.jsp&quot;</span>&gt;</span>添加图书<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>党点击添加图书跳转到book_edit界面</p>
<p>先修改book_edit界面的表单，表单项中的name属性一定要和javabean类中的属性名一样，否则不能用BeanUtils注入</p>
<p>将action改为manager&#x2F;BookServlet，添加了一个表单项value为add来调用add方法</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;manager/BookServlet&quot;</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;get&quot;</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">table</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;hidden&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;action&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;add&quot;</span>/&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>         <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>名称<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>         <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>价格<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>         <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>作者<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>         <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>销量<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>         <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>库存<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>         <span class="hljs-tag">&lt;<span class="hljs-name">td</span> <span class="hljs-attr">colspan</span>=<span class="hljs-string">&quot;2&quot;</span>&gt;</span>操作<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>     <br>      <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>         <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;name&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;时间简史&quot;</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>         <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;price&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;30.00&quot;</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>         <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;author&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;霍金&quot;</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>         <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;sales&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;200&quot;</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>         <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;stock&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;300&quot;</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>         <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;提交&quot;</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>  <br>   <span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>修改BookServlet</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">add</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>        <span class="hljs-comment">//使用BeanUtils生成Book对象</span><br>        <span class="hljs-type">Map</span> <span class="hljs-variable">parameterMap</span> <span class="hljs-operator">=</span> req.getParameterMap();<br>        Book book= WebUtils.copyParamToBean(parameterMap,<span class="hljs-keyword">new</span> <span class="hljs-title class_">Book</span>());<br>        <span class="hljs-comment">//保存图书</span><br>        bookService.addBook(book);<br><br>        <span class="hljs-comment">//使用这个方法是有bug的</span><br>        <span class="hljs-comment">//造成表单的重复提交，当用户提交完请求，浏览器会记录下最后一次请求的全部信息，当用户按下功能键f5，就会发起浏览器记录的最后一次请求</span><br><br>       <span class="hljs-comment">// req.getRequestDispatcher(&quot;/manager/BookServlet?action=list&quot;).forward(req,resp);</span><br><br>        <span class="hljs-comment">//这里要使用重定向</span><br>resp.sendRedirect(req.getContextPath()+<span class="hljs-string">&quot;/manager/BookServlet?action=list&quot;</span>);<br><br><br>    &#125;<br></code></pre></td></tr></table></figure>

<p>造成表单的重复提交，当用户提交完请求，浏览器会记录下最后一次请求的全部信息，当用户按下功能键f5，就会发起浏览器记录的最后一次请求</p>
<p>请求转发是一次请求，重定向是两次请求，就是如果请求转发则从提交表单开始到最后都是一次请求，但重定向则是两次，第二次是请求那个jsp页面，所以对于重定向来讲，浏览器存储的最后一次请求就是请求那个jsp页面，便不会重复添加</p>
<h2 id="删除图书功能的实现"><a href="#删除图书功能的实现" class="headerlink" title="删除图书功能的实现"></a>删除图书功能的实现</h2><p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210061838738.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20221006183829761"></p>
<p>修改book_editmanager中的</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs angelscript">&lt;td&gt;&lt;a <span class="hljs-keyword">class</span>=&quot;<span class="hljs-symbol">deleteClass</span>&quot; <span class="hljs-symbol">href</span>=&quot;<span class="hljs-symbol">manager</span>/<span class="hljs-symbol">BookServlet</span>?<span class="hljs-symbol">action</span>=<span class="hljs-symbol">delete</span>&amp;<span class="hljs-symbol">id</span>=$&#123;book.id&#125;<span class="hljs-string">&quot;&gt;删除&lt;/a&gt;&lt;/td&gt;</span><br></code></pre></td></tr></table></figure>

<p>在book_editmanager中加一个点击事件，来获取要删除的书的名字，来提醒用户是否删错</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;script type=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;<br><br>   $(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br>   $(<span class="hljs-string">&quot;a.deleteClass&quot;</span>).<span class="hljs-title function_">click</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br><br>      <span class="hljs-comment">/*</span><br><span class="hljs-comment">      confirm是确认提示框函数</span><br><span class="hljs-comment">      参数是他的提示内容</span><br><span class="hljs-comment">      它有两个按扭，一个确认，一个是取消。</span><br><span class="hljs-comment">       返回true表示点击了确认，返回false表示点击了取消</span><br><span class="hljs-comment">       */</span><br>      <span class="hljs-comment">//在事件的function函数总有一个this对象是当前正在响应事件的dom对象</span><br>      <span class="hljs-comment">//将dom转换为jQuery对象获得父标签的父标签tr再得到子标签td中的第一个里面的文本内容</span><br>      <span class="hljs-keyword">return</span> <span class="hljs-title function_">confirm</span>(<span class="hljs-string">&quot;你确定要删除[&quot;</span>+$(<span class="hljs-variable language_">this</span>).<span class="hljs-title function_">parent</span>().<span class="hljs-title function_">parent</span>().<span class="hljs-title function_">find</span>(<span class="hljs-string">&quot;td:first&quot;</span>).<span class="hljs-title function_">text</span>()+<span class="hljs-string">&quot;]?&quot;</span>);<br>      <span class="hljs-comment">/*</span><br><span class="hljs-comment">      return false会阻止元素的默认行为，不提交请求</span><br><span class="hljs-comment">       */</span><br>      &#125;);<br>   &#125;);<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<p>在WebUtils中增加的字符串转数字的方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * 将字符串转换成为int类型的数据</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param</span> strInt  这个是要转换为数字的字符串</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param</span> defaultValue   如果没有转换成功返回默认值</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@return</span></span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-type">int</span> <span class="hljs-title function_">parseInt</span><span class="hljs-params">(String strInt,<span class="hljs-type">int</span> defaultValue)</span>&#123;<br>        <span class="hljs-keyword">if</span>(strInt!=<span class="hljs-literal">null</span>)<br>    <span class="hljs-keyword">return</span> Integer.parseInt(strInt);<br>        <span class="hljs-keyword">return</span> defaultValue;<br><br>&#125;<br></code></pre></td></tr></table></figure>

<p>在BookServlet中增加的delete方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"> <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">delete</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>        <span class="hljs-comment">// 1、获取请求的参数 id，图书编程</span><br>        <span class="hljs-type">int</span> id=WebUtils.parseInt(req.getParameter(<span class="hljs-string">&quot;id&quot;</span>),<span class="hljs-number">0</span>);<br><span class="hljs-comment">// 2、调用 bookService.deleteBookById();删除图书</span><br>        bookService.deleteBookById(id);<br><span class="hljs-comment">// 3、重定向回图书列表管理页面</span><br><span class="hljs-comment">// /book/manager/bookServlet?action=list</span><br>        resp.sendRedirect(req.getContextPath() + <span class="hljs-string">&quot;/manager/BookServlet?action=list&quot;</span>);<br><br>    &#125;<br></code></pre></td></tr></table></figure>



<h2 id="修改图书功能的实现"><a href="#修改图书功能的实现" class="headerlink" title="修改图书功能的实现"></a>修改图书功能的实现</h2><h3 id="让修改界面变成要修改的书的信息"><a href="#让修改界面变成要修改的书的信息" class="headerlink" title="让修改界面变成要修改的书的信息"></a>让修改界面变成要修改的书的信息</h3><p>改变  修改选项的请求信息</p>
<figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs dust"><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;manager/BookServlet?action=getBook&amp;id=$</span></span></span><span class="hljs-template-variable">&#123;book.id&#125;</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span>&gt;</span>修改<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br></code></pre></td></tr></table></figure>

<p>在BookServlet中添加了一个getBook的方法</p>
<p>这里使用请求转发，是因为请求是在页面显示要修改的book的内容，即使用户按了f5再次请求也无伤大雅</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">getBook</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>    <span class="hljs-comment">//获取图书编号</span><br>    <span class="hljs-type">int</span> id=WebUtils.parseInt(req.getParameter(<span class="hljs-string">&quot;id&quot;</span>),<span class="hljs-number">0</span>);<br>    <span class="hljs-comment">//调用BookService中的方法查找到这个book的信息</span><br>    <span class="hljs-type">Book</span> <span class="hljs-variable">book</span> <span class="hljs-operator">=</span> bookService.queryBookById(id);<br>    <span class="hljs-comment">//把图书保存到request域中</span><br>    req.setAttribute(<span class="hljs-string">&quot;book&quot;</span>,book);<br>    <span class="hljs-comment">//请求转发</span><br>    req.getRequestDispatcher(<span class="hljs-string">&quot;/pages/manager/book_edit.jsp&quot;</span>).forward(req,resp);<br><br>&#125;<br></code></pre></td></tr></table></figure>

<p>在book_edit页面中修改显示的信息</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;tr&gt;<br>   &lt;td&gt;&lt;input name=<span class="hljs-string">&quot;name&quot;</span> type=<span class="hljs-string">&quot;text&quot;</span> value=<span class="hljs-string">&quot;$&#123;requestScope.book.name&#125;&quot;</span>/&gt;&lt;/td&gt;<br>   &lt;td&gt;&lt;input name=<span class="hljs-string">&quot;price&quot;</span> type=<span class="hljs-string">&quot;text&quot;</span> value=<span class="hljs-string">&quot;$&#123;requestScope.book.price&#125;&quot;</span>/&gt;&lt;/td&gt;<br>   &lt;td&gt;&lt;input name=<span class="hljs-string">&quot;author&quot;</span> type=<span class="hljs-string">&quot;text&quot;</span> value=<span class="hljs-string">&quot;$&#123;requestScope.book.author&#125;&quot;</span>/&gt;&lt;/td&gt;<br>   &lt;td&gt;&lt;input name=<span class="hljs-string">&quot;sales&quot;</span> type=<span class="hljs-string">&quot;text&quot;</span> value=<span class="hljs-string">&quot;$&#123;requestScope.book.sales&#125;&quot;</span>/&gt;&lt;/td&gt;<br>   &lt;td&gt;&lt;input name=<span class="hljs-string">&quot;stock&quot;</span> type=<span class="hljs-string">&quot;text&quot;</span> value=<span class="hljs-string">&quot;$&#123;requestScope.book.stock&#125;&quot;</span>/&gt;&lt;/td&gt;<br>   &lt;td&gt;&lt;input type=<span class="hljs-string">&quot;submit&quot;</span> value=<span class="hljs-string">&quot;提交&quot;</span>/&gt;&lt;/td&gt;<br>&lt;/tr&gt;<br></code></pre></td></tr></table></figure>

<h2 id="提交给服务器保存修改"><a href="#提交给服务器保存修改" class="headerlink" title="提交给服务器保存修改"></a>提交给服务器保存修改</h2><p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210061941586.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20221006194122535"></p>
<p>在BookServlet中添加update方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">update</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>   <span class="hljs-comment">//请求参数，封装为Book对象</span><br>    <span class="hljs-type">Map</span> <span class="hljs-variable">parameterMap</span> <span class="hljs-operator">=</span> req.getParameterMap();<br>    Book book=WebUtils.copyParamToBean(parameterMap,<span class="hljs-keyword">new</span> <span class="hljs-title class_">Book</span>());<br>    <span class="hljs-comment">//调用BookService的方法修改图书</span><br>    bookService.updateBook(book);<br>    <span class="hljs-comment">//将信息重定向到book_edit页面</span><br>    resp.sendRedirect(req.getContextPath()+<span class="hljs-string">&quot;/manager/BookServlet?action=list&quot;</span>);<br><br>&#125;<br></code></pre></td></tr></table></figure>

<p>这里使用重定向是因为如果使用请求转发，客户端按下f5则会修改两次</p>
<p>改变修改按钮的指向地址，这是为了点击修改之后book_edit页面中能显示要修改的book的信息</p>
<figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs dust"><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;manager/BookServlet?action=getBook&amp;id=$</span></span></span><span class="hljs-template-variable">&#123;book.id&#125;</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span>&gt;</span>修改<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br></code></pre></td></tr></table></figure>



<p>解决book_edit页面既要实现add又要实现update的问题</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;!--通过判断是否存在参数id来绝顶value是add还是update--&gt;<br>&lt;input type=<span class="hljs-string">&quot;hidden&quot;</span> name=<span class="hljs-string">&quot;action&quot;</span> value=<span class="hljs-string">&quot;$&#123;empty param.id?&quot;</span>add<span class="hljs-string">&quot;:&quot;</span>update<span class="hljs-string">&quot;&#125;&quot;</span>/&gt;<br>&lt;input type=<span class="hljs-string">&quot;hidden&quot;</span> name=<span class="hljs-string">&quot;id&quot;</span> value=<span class="hljs-string">&quot;$&#123;requestScope.book.id&#125;&quot;</span>/&gt;<br></code></pre></td></tr></table></figure>

<p>第二行代码是因为修改book需要id</p>
<h2 id="图书分页的分析"><a href="#图书分页的分析" class="headerlink" title="图书分页的分析"></a>图书分页的分析</h2><p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210070854556.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20221007085428323"></p>
<h3 id="分页模型page的抽取"><a href="#分页模型page的抽取" class="headerlink" title="分页模型page的抽取"></a>分页模型page的抽取</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.pojo;<br><br><span class="hljs-keyword">import</span> java.util.List;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">Page是分页的模型对象</span><br><span class="hljs-comment">&lt;T&gt;是具体的模块的javaBean类</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Page</span> &lt;T&gt;&#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> Integer PAGE_SIZE=<span class="hljs-number">4</span>;<br><br>    <span class="hljs-keyword">public</span> Integer <span class="hljs-title function_">getPageNo</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> pageNo;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setPageNo</span><span class="hljs-params">(Integer pageNo)</span> &#123;<br>        <span class="hljs-built_in">this</span>.pageNo = pageNo;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> Integer <span class="hljs-title function_">getPageTotal</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> pageTotal;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Page&#123;&quot;</span> +<br>                <span class="hljs-string">&quot;pageNo=&quot;</span> + pageNo +<br>                <span class="hljs-string">&quot;, pageTotal=&quot;</span> + pageTotal +<br>                <span class="hljs-string">&quot;, pageSize=&quot;</span> + pageSize +<br>                <span class="hljs-string">&quot;, pageTotalCount=&quot;</span> + pageTotalCount +<br>                <span class="hljs-string">&quot;, items=&quot;</span> + items +<br>                <span class="hljs-string">&#x27;&#125;&#x27;</span>;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setPageTotal</span><span class="hljs-params">(Integer pageTotal)</span> &#123;<br>        <span class="hljs-built_in">this</span>.pageTotal = pageTotal;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> Integer <span class="hljs-title function_">getPageSize</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> pageSize;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setPageSize</span><span class="hljs-params">(Integer pageSize)</span> &#123;<br>        <span class="hljs-built_in">this</span>.pageSize = pageSize;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> Integer <span class="hljs-title function_">getPageTotalCount</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> pageTotalCount;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setPageTotalCount</span><span class="hljs-params">(Integer pageTotalCount)</span> &#123;<br>        <span class="hljs-built_in">this</span>.pageTotalCount = pageTotalCount;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> List&lt;T&gt; <span class="hljs-title function_">getItems</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> items;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setItems</span><span class="hljs-params">(List&lt;T&gt; items)</span> &#123;<br>        <span class="hljs-built_in">this</span>.items = items;<br>    &#125;<br><br>    <span class="hljs-comment">//当前页码</span><br>    <span class="hljs-keyword">private</span> Integer pageNo;<br>    <span class="hljs-comment">//总页码</span><br>    <span class="hljs-keyword">private</span> Integer pageTotal;<br>    <span class="hljs-comment">//当前页的显示数量</span><br>    <span class="hljs-keyword">private</span> Integer pageSize=PAGE_SIZE;<br>    <span class="hljs-comment">//总记录数</span><br>    <span class="hljs-keyword">private</span> Integer pageTotalCount;<br>    <span class="hljs-comment">//当前页数据</span><br>    <span class="hljs-keyword">private</span> List&lt;T&gt; items;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Page</span><span class="hljs-params">(Integer pageNo, Integer pageTotal, Integer pageSize, Integer pageTotalCount, List&lt;T&gt; items)</span> &#123;<br>        <span class="hljs-built_in">this</span>.pageNo = pageNo;<br>        <span class="hljs-built_in">this</span>.pageTotal = pageTotal;<br>        <span class="hljs-built_in">this</span>.pageSize = pageSize;<br>        <span class="hljs-built_in">this</span>.pageTotalCount = pageTotalCount;<br>        <span class="hljs-built_in">this</span>.items = items;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Page</span><span class="hljs-params">()</span> &#123;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="分页的初步实现"><a href="#分页的初步实现" class="headerlink" title="分页的初步实现"></a>分页的初步实现</h3><p>图书管理这个地方改成分页操作</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">&lt;a href=<span class="hljs-string">&quot;manager/BookServlet?action=page&quot;</span>&gt;图书管理&lt;/a&gt;<br></code></pre></td></tr></table></figure>



<p>BookServlet</p>
<p>在其中添加了分页功能，利用了bookService的page方法      就是生成页面对象的方法，页面对象包括页面的数据条数，多少页等等</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/*</span><br><span class="hljs-comment">处理分页功能</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">page</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>    <span class="hljs-comment">//1。获取请求的参数，pageNo和pageSize</span><br>    <span class="hljs-comment">//用户没有点击第几页，就默认显示第一页，所以第二个参数是1</span><br>    <span class="hljs-type">int</span> pageNo=WebUtils.parseInt(req.getParameter(<span class="hljs-string">&quot;pageNo&quot;</span>),<span class="hljs-number">1</span>);<br>    <span class="hljs-type">int</span> pageSize=WebUtils.parseInt(req.getParameter(<span class="hljs-string">&quot;pageSize&quot;</span>), Page.PAGE_SIZE);<br><br>    <span class="hljs-comment">//2。调用BookService.page(pageNo,pageSize):Page对象</span><br>    Page&lt;Book&gt; page=bookService.page(pageNo,pageSize);<br>    <span class="hljs-comment">//3.保存Page对象到request域中</span><br>    req.setAttribute(<span class="hljs-string">&quot;page&quot;</span>,page);<br>    <span class="hljs-comment">//4.请求转发到pages/manager/book_manager.jsp</span><br>    req.getRequestDispatcher(<span class="hljs-string">&quot;/pages/manager/book_manager.jsp&quot;</span>).forward(req,resp);<br>&#125;<br></code></pre></td></tr></table></figure>

<p>BookService</p>
<p>在BookService中添加了page方法，生成page对象，用到了BookDao的queryForPageTotalCount()方法和queryFotPageItems()方法</p>
<p>为了得到总记录数和当前页数据</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Override</span><br><span class="hljs-keyword">public</span> Page&lt;Book&gt; <span class="hljs-title function_">page</span><span class="hljs-params">(<span class="hljs-type">int</span> pageNo, <span class="hljs-type">int</span> pageSize)</span> &#123;<br>    Page&lt;Book&gt; page=<span class="hljs-keyword">new</span> <span class="hljs-title class_">Page</span>&lt;&gt;();<br>    <span class="hljs-comment">//设置page对象的当前页</span><br>    page.setPageNo(pageNo);<br>    <span class="hljs-comment">//设置每页显示的数量</span><br>    page.setPageSize(pageSize);<br>    <span class="hljs-comment">//求总记录数</span><br>    Integer pageTotalCount=bookDao.queryForPageTotalCount();<br>    <span class="hljs-comment">//设置总记录数</span><br>    page.setPageTotalCount(pageTotalCount);<br>    <span class="hljs-comment">//求总页码</span><br>    Integer pageTotal=pageTotalCount/pageSize;<br>    <span class="hljs-keyword">if</span>(pageTotalCount%pageSize&gt;<span class="hljs-number">0</span>)&#123;<br>        pageTotal+=<span class="hljs-number">1</span>;<br>    &#125;<br>    <span class="hljs-comment">//设置总页码</span><br>    page.setPageTotal(pageTotal);<br>    <span class="hljs-comment">//求当前页面开始的索引</span><br>    <span class="hljs-type">int</span> begin=(page.getPageNo()-<span class="hljs-number">1</span>)*pageSize;<br>    <span class="hljs-comment">//求当前页数据</span><br>    List&lt;Book&gt; items=bookDao.queryForPageItems(begin,pageSize);<br>    <span class="hljs-comment">//设置当前页数据</span><br>    page.setItems(items);<br>    <span class="hljs-keyword">return</span> page;<br><br>&#125;<br></code></pre></td></tr></table></figure>

<p>BookDao</p>
<p>在BookDao中增加了queryForPageItems和queryForPageTotalCount方法</p>
<p>为了得到总记录数和当前页数据</p>
<figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs reasonml">@Override<br>public Integer query<span class="hljs-constructor">ForPageTotalCount()</span> &#123;<br>    String sql=<span class="hljs-string">&quot;select count(*) from t_book&quot;</span>;<br>    Number count=(Number)query<span class="hljs-constructor">ForSingleValue(<span class="hljs-params">sql</span>)</span>;<br>    return count.<span class="hljs-built_in">int</span><span class="hljs-constructor">Value()</span>;<br>&#125;<br><br>@Override<br>public List&lt;Book&gt; query<span class="hljs-constructor">ForPageItems(<span class="hljs-params">int</span> <span class="hljs-params">begin</span>, <span class="hljs-params">int</span> <span class="hljs-params">pageSize</span>)</span> &#123;<br>    String sql=<span class="hljs-string">&quot;select id,name,author,price,sales,stock,img_path from t_book limit ?,? &quot;</span>;<br>    return query<span class="hljs-constructor">ForList(Book.<span class="hljs-params">class</span>,<span class="hljs-params">sql</span>,<span class="hljs-params">begin</span>,<span class="hljs-params">pageSize</span>)</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs reasonml">ScalarHandler用来获得聚合函数的值,返回类型是Object,用Number来接收比较好<br>Number num=qr.query(cntSql.append(whereSql).<span class="hljs-keyword">to</span><span class="hljs-constructor">String()</span>,<span class="hljs-keyword">new</span> ScalarHandler&lt;&gt;<span class="hljs-literal">()</span>,params.<span class="hljs-keyword">to</span><span class="hljs-constructor">Array()</span>);<br>然后调用<span class="hljs-built_in">int</span><span class="hljs-constructor">Value()</span>方法<br><span class="hljs-built_in">int</span> tr=num.<span class="hljs-built_in">int</span><span class="hljs-constructor">Value()</span>即可!<br></code></pre></td></tr></table></figure>



<p>book_manager.jsp中增加了换页框</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java">&lt;div id=<span class="hljs-string">&quot;page_nav&quot;</span>&gt;<br>   &lt;a href=<span class="hljs-string">&quot;#&quot;</span>&gt;首页&lt;/a&gt;<br>   &lt;a href=<span class="hljs-string">&quot;#&quot;</span>&gt;上一页&lt;/a&gt;<br>   &lt;a href=<span class="hljs-string">&quot;#&quot;</span>&gt;<span class="hljs-number">3</span>&lt;/a&gt;<br>   【$&#123;requestScope.page.pageNo&#125;】<br>   &lt;a href=<span class="hljs-string">&quot;#&quot;</span>&gt;<span class="hljs-number">5</span>&lt;/a&gt;<br>   &lt;a href=<span class="hljs-string">&quot;#&quot;</span>&gt;下一页&lt;/a&gt;<br>   &lt;a href=<span class="hljs-string">&quot;#&quot;</span>&gt;末页&lt;/a&gt;<br>   共$&#123;requestScope.page.pageTotal&#125;页，$&#123;requestScope.page.pageTotalCount&#125;条记录 到第&lt;input value=<span class="hljs-string">&quot;4&quot;</span> name=<span class="hljs-string">&quot;pn&quot;</span> id=<span class="hljs-string">&quot;pn_input&quot;</span>/&gt;页<br>   &lt;input type=<span class="hljs-string">&quot;button&quot;</span> value=<span class="hljs-string">&quot;确定&quot;</span>&gt;<br>&lt;/div&gt;<br></code></pre></td></tr></table></figure>

<p>book_manager.jsp中还改变了遍历的数据项requestScope.page.items</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java">&lt;c:forEach items=<span class="hljs-string">&quot;$&#123;requestScope.page.items&#125;&quot;</span> <span class="hljs-keyword">var</span>=<span class="hljs-string">&quot;book&quot;</span>&gt;<br>   &lt;tr&gt;<br>      &lt;td&gt;$&#123;book.name&#125;&lt;/td&gt;<br>      &lt;td&gt;$&#123;book.price&#125;&lt;/td&gt;<br>      &lt;td&gt;$&#123;book.author&#125;&lt;/td&gt;<br>      &lt;td&gt;$&#123;book.sales&#125;&lt;/td&gt;<br>      &lt;td&gt;$&#123;book.stock&#125;&lt;/td&gt;<br>      &lt;td&gt;&lt;a href=<span class="hljs-string">&quot;manager/BookServlet?action=getBook&amp;id=$&#123;book.id&#125;&quot;</span>&gt;修改&lt;/a&gt;&lt;/td&gt;<br>      &lt;td&gt;&lt;a class=<span class="hljs-string">&quot;deleteClass&quot;</span> href=<span class="hljs-string">&quot;manager/BookServlet?action=delete&amp;id=$&#123;book.id&#125;&quot;</span>&gt;删除&lt;/a&gt;&lt;/td&gt;<br>   &lt;/tr&gt;<br>&lt;/c:forEach&gt;<br></code></pre></td></tr></table></figure>

<h3 id="首页上一页，下一页，末页的实现"><a href="#首页上一页，下一页，末页的实现" class="headerlink" title="首页上一页，下一页，末页的实现"></a>首页上一页，下一页，末页的实现</h3><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;div id=<span class="hljs-string">&quot;page_nav&quot;</span>&gt;<br>   &lt;%--大于首页才显示上一页按钮--%&gt;<br>   &lt;c:<span class="hljs-keyword">if</span> test=<span class="hljs-string">&quot;$&#123;requestScope.page.pageNo&gt;1&#125;&quot;</span>&gt;<br>      &lt;a href=<span class="hljs-string">&quot;manager/BookServlet?action=page&amp;pageNo=1&quot;</span>&gt;首页&lt;/a&gt;<br>      &lt;a href=<span class="hljs-string">&quot;manager/BookServlet?action=page&amp;pageNo=$&#123;requestScope.page.pageNo-1&#125;&quot;</span>&gt;上一页&lt;/a&gt;<br>   &lt;/c:<span class="hljs-keyword">if</span>&gt;<br>   &lt;a href=<span class="hljs-string">&quot;manager/BookServlet?action=page&amp;pageNo=$&#123;requestScope.page.pageNo-1&#125;&quot;</span>&gt;$&#123;requestScope.page.pageNo-<span class="hljs-number">1</span>&#125;&lt;/a&gt;<br>   【$&#123;requestScope.page.pageNo&#125;】<br>   &lt;a href=<span class="hljs-string">&quot;manager/BookServlet?action=page&amp;pageNo=$&#123;requestScope.page.pageNo+1&#125;&quot;</span>&gt;$&#123;requestScope.page.pageNo+<span class="hljs-number">1</span>&#125;&lt;/a&gt;<br>      &lt;%--如果已经是最后一页则不显示下一页和末页--%&gt;<br>      &lt;c:<span class="hljs-keyword">if</span> test=<span class="hljs-string">&quot;$&#123;requestScope.page.pageNo&lt;requestScope.page.pageTotal&#125;&quot;</span>&gt;<br>         &lt;a href=<span class="hljs-string">&quot;manager/BookServlet?action=page&amp;pageNo=$&#123;requestScope.page.pageNo+1&#125;&quot;</span>&gt;下一页&lt;/a&gt;<br>         &lt;a href=<span class="hljs-string">&quot;manager/BookServlet?action=page&amp;pageNo=$&#123;requestScope.page.pageTotal&#125;&quot;</span>&gt;末页&lt;/a&gt;<br>      &lt;/c:<span class="hljs-keyword">if</span>&gt;<br>   共$&#123;requestScope.page.pageTotal&#125;页，$&#123;requestScope.page.pageTotalCount&#125;条记录 到第&lt;input value=<span class="hljs-string">&quot;$&#123;requestScope.page.pageNo&#125;&quot;</span> name=<span class="hljs-string">&quot;pn&quot;</span> id=<span class="hljs-string">&quot;pn_input&quot;</span>/&gt;页<br>   &lt;input type=<span class="hljs-string">&quot;button&quot;</span> value=<span class="hljs-string">&quot;确定&quot;</span>&gt;<br>&lt;/div&gt;<br></code></pre></td></tr></table></figure>

<h3 id="分页模块中跳转到指定页数功能实现"><a href="#分页模块中跳转到指定页数功能实现" class="headerlink" title="分页模块中跳转到指定页数功能实现"></a>分页模块中跳转到指定页数功能实现</h3><p>这个是head.jsp文件，把路径保存在pageContext域中，方便在book_manager.jsp文件中获取</p>
<figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs reasonml">&lt;%<br>    String basePath=request.get<span class="hljs-constructor">Scheme()</span>+<span class="hljs-string">&quot;://&quot;</span>+request.get<span class="hljs-constructor">ServerName()</span>+<span class="hljs-string">&quot;:&quot;</span>+request.get<span class="hljs-constructor">ServerPort()</span>+request.get<span class="hljs-constructor">ContextPath()</span>+<span class="hljs-string">&quot;/&quot;</span>;<br>    pageContext.set<span class="hljs-constructor">Attribute(<span class="hljs-string">&quot;basePath&quot;</span>,<span class="hljs-params">basePath</span>)</span>;<br>%&gt;<br></code></pre></td></tr></table></figure>

<p>给确定键按钮加了一个点击事件</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs java">共$&#123;requestScope.page.pageTotal&#125;页，$&#123;requestScope.page.pageTotalCount&#125;条记录 到第&lt;input value=<span class="hljs-string">&quot;$&#123;requestScope.page.pageNo&#125;&quot;</span> name=<span class="hljs-string">&quot;pn&quot;</span> id=<span class="hljs-string">&quot;pn_input&quot;</span>/&gt;页<br>			&lt;input type=<span class="hljs-string">&quot;button&quot;</span> id=<span class="hljs-string">&quot;searchPageBtn&quot;</span> value=<span class="hljs-string">&quot;确定&quot;</span>&gt;<br>			&lt;script type=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;<br>				$(function()&#123;<br>					$(<span class="hljs-string">&quot;#searchPageBtn&quot;</span>).click(function()&#123;<br><br>						<span class="hljs-keyword">var</span> pageNo=$(<span class="hljs-string">&quot;#pn_input&quot;</span>).val();<br>						<span class="hljs-comment">//javascript语言中提供了一个location地址栏</span><br>						<span class="hljs-comment">//他有一个属性叫href，它可以获取浏览器地址栏中的地址</span><br>						<span class="hljs-comment">//href属性可读可写</span><br>						location.href=<span class="hljs-string">&quot;$&#123;pageScope.basePath&#125;manager/BookServlet?action=page&amp;pageNo=&quot;</span>+pageNo;<br>					&#125;);<br><br>				&#125;);<br><br><br>			&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<h3 id="数据有效边境检查"><a href="#数据有效边境检查" class="headerlink" title="数据有效边境检查"></a>数据有效边境检查</h3><p>前端jsp,加了一个前端的校验，如果当前要转的页码大于最大页码或者小于零就返回false，阻止事件发生</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;script type=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;<br>   $(function()&#123;<br>      $(<span class="hljs-string">&quot;#searchPageBtn&quot;</span>).click(function()&#123;<br><br>         <span class="hljs-keyword">var</span> pageNo=$(<span class="hljs-string">&quot;#pn_input&quot;</span>).val();<br><br>         <span class="hljs-keyword">var</span> pageTotal=$&#123;requestScope.page.pageTotal&#125;;<br>         <span class="hljs-keyword">if</span>(pageNo&gt;pageTotal||pageNo&lt;=<span class="hljs-number">0</span>)&#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>         &#125;<br><br>         <span class="hljs-comment">//javascript语言中提供了一个location地址栏</span><br>         <span class="hljs-comment">//他有一个属性叫href，它可以获取浏览器地址栏中的地址</span><br>         <span class="hljs-comment">//href属性可读可写</span><br>         location.href=<span class="hljs-string">&quot;$&#123;pageScope.basePath&#125;manager/BookServlet?action=page&amp;pageNo=&quot;</span>+pageNo;<br>      &#125;);<br><br>   &#125;);<br><br><br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<p>服务器端检查数据边界，因为在地址栏中使用get传参可以跳过前端验证</p>
<p>直接在setPageNo的方法中设置，只要pageNo不合法，直接替换</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setPageNo</span><span class="hljs-params">(Integer pageNo)</span> &#123;<br>    <span class="hljs-comment">//设置数据的边界值</span><br>    <span class="hljs-keyword">if</span>(pageNo&lt;<span class="hljs-number">1</span>)&#123;<br>        pageNo=<span class="hljs-number">1</span>;<br>    &#125;<br>    <span class="hljs-keyword">if</span>(pageNo&gt;pageTotal)&#123;<br>        pageNo=pageTotal;<br>    &#125;<br><br>    <span class="hljs-built_in">this</span>.pageNo = pageNo;<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="分页条形码的输出"><a href="#分页条形码的输出" class="headerlink" title="分页条形码的输出"></a>分页条形码的输出</h3><p>分页模块中，页码 1,2,【3】,4,5 的显示，要显示 5 个页 码，并且页码可以点击跳转。</p>
<p>需求：显示 5 个连续的页码，而且当前页码在中间。除了当前页码之外，每个页码都可以点击跳到指定页。</p>
<p>如果总页码</p>
<p>优化后</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs java">&lt;%--页码输出的开始--%&gt;<br>&lt;c:choose&gt;<br>   &lt;%--情况 <span class="hljs-number">1</span>：如果总页码小于等于 <span class="hljs-number">5</span> 的情况，页码的范围是：<span class="hljs-number">1</span>-总页码--%&gt;<br>   &lt;c:when test=<span class="hljs-string">&quot;$&#123; requestScope.page.pageTotal &lt;= 5 &#125;&quot;</span>&gt;<br>      &lt;c:set <span class="hljs-keyword">var</span>=<span class="hljs-string">&quot;begin&quot;</span> value=<span class="hljs-string">&quot;1&quot;</span>/&gt;<br>      &lt;c:set <span class="hljs-keyword">var</span>=<span class="hljs-string">&quot;end&quot;</span> value=<span class="hljs-string">&quot;$&#123;requestScope.page.pageTotal&#125;&quot;</span>/&gt;<br>   &lt;/c:when&gt;<br>   &lt;%--情况 <span class="hljs-number">2</span>：总页码大于 <span class="hljs-number">5</span> 的情况--%&gt;<br>   &lt;c:when test=<span class="hljs-string">&quot;$&#123;requestScope.page.pageTotal &gt; 5&#125;&quot;</span>&gt;<br>      &lt;c:choose&gt;<br>         &lt;%--小情况 <span class="hljs-number">1</span>：当前页码为前面 <span class="hljs-number">3</span> 个：<span class="hljs-number">1</span>，<span class="hljs-number">2</span>，<span class="hljs-number">3</span> 的情况，页码范围是：<span class="hljs-number">1</span>-<span class="hljs-number">5.</span>--%&gt;<br>         &lt;c:when test=<span class="hljs-string">&quot;$&#123;requestScope.page.pageNo &lt;= 3&#125;&quot;</span>&gt;<br>            &lt;%--记录begin和end--%&gt;<br>            &lt;c:set <span class="hljs-keyword">var</span>=<span class="hljs-string">&quot;begin&quot;</span> value=<span class="hljs-string">&quot;1&quot;</span>/&gt;<br>            &lt;c:set <span class="hljs-keyword">var</span>=<span class="hljs-string">&quot;end&quot;</span> value=<span class="hljs-string">&quot;5&quot;</span>/&gt;<br>         &lt;/c:when&gt;<br>         &lt;%--小情况 <span class="hljs-number">2</span>：当前页码为最后 <span class="hljs-number">3</span> 个，<span class="hljs-number">8</span>，<span class="hljs-number">9</span>，<span class="hljs-number">10</span>，页码范围是：总页码减 <span class="hljs-number">4</span> - 总页码--%&gt;<br>         &lt;c:when test=<span class="hljs-string">&quot;$&#123;requestScope.page.pageNo &gt; requestScope.page.pageTotal-3&#125;&quot;</span>&gt;<br>            &lt;%--记录begin和end--%&gt;<br>            &lt;c:set <span class="hljs-keyword">var</span>=<span class="hljs-string">&quot;begin&quot;</span> value=<span class="hljs-string">&quot;$&#123;requestScope.page.pageTotal-4&#125;&quot;</span>/&gt;<br>            &lt;c:set <span class="hljs-keyword">var</span>=<span class="hljs-string">&quot;end&quot;</span> value=<span class="hljs-string">&quot;$&#123;requestScope.page.pageTotal&#125;&quot;</span>/&gt;<br>         &lt;/c:when&gt;<br>         &lt;%--小情况 <span class="hljs-number">3</span>：<span class="hljs-number">4</span>，<span class="hljs-number">5</span>，<span class="hljs-number">6</span>，<span class="hljs-number">7</span>，页码范围是：当前页码减 <span class="hljs-number">2</span> - 当前页码加 <span class="hljs-number">2</span>--%&gt;<br>         &lt;c:otherwise&gt;<br>            &lt;c:set <span class="hljs-keyword">var</span>=<span class="hljs-string">&quot;begin&quot;</span> value=<span class="hljs-string">&quot;$&#123;requestScope.page.pageNo-2&#125;&quot;</span>/&gt;<br>            &lt;c:set <span class="hljs-keyword">var</span>=<span class="hljs-string">&quot;end&quot;</span> value=<span class="hljs-string">&quot;$&#123;requestScope.page.pageNo+2&#125;&quot;</span>/&gt;<br>         &lt;/c:otherwise&gt;<br>      &lt;/c:choose&gt;<br>   &lt;/c:when&gt;<br>&lt;/c:choose&gt;<br>&lt;c:forEach begin=<span class="hljs-string">&quot;$&#123;begin&#125;&quot;</span> end=<span class="hljs-string">&quot;$&#123;end&#125;&quot;</span> <span class="hljs-keyword">var</span>=<span class="hljs-string">&quot;i&quot;</span>&gt;<br>   &lt;c:<span class="hljs-keyword">if</span> test=<span class="hljs-string">&quot;$&#123;i == requestScope.page.pageNo&#125;&quot;</span>&gt;<br>      【$&#123;i&#125;】<br>   &lt;/c:<span class="hljs-keyword">if</span>&gt;<br>   &lt;c:<span class="hljs-keyword">if</span> test=<span class="hljs-string">&quot;$&#123;i != requestScope.page.pageNo&#125;&quot;</span>&gt;<br>      &lt;a href=<span class="hljs-string">&quot;manager/BookServlet?action=page&amp;pageNo=$&#123;i&#125;&quot;</span>&gt;$&#123;i&#125;&lt;/a&gt;<br>   &lt;/c:<span class="hljs-keyword">if</span>&gt;<br>&lt;/c:forEach&gt;<br>&lt;%--页码输出的结束--%&gt;<br></code></pre></td></tr></table></figure>

<pre><code class="hljs">  &lt;c:set var=&quot;begin&quot; value=&quot;1&quot;/&gt;
  &lt;c:set var=&quot;end&quot; value=&quot;$&#123;requestScope.page.pageTotal&#125;&quot;/&gt;
</code></pre>
<p>这个是设置begin和end的value值</p>
<p>然后等到&lt;c:choose&gt;执行完之后再执行forEach</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;c:forEach begin=<span class="hljs-string">&quot;$&#123;begin&#125;&quot;</span> end=<span class="hljs-string">&quot;$&#123;end&#125;&quot;</span> <span class="hljs-keyword">var</span>=<span class="hljs-string">&quot;i&quot;</span>&gt;<br>   &lt;c:<span class="hljs-keyword">if</span> test=<span class="hljs-string">&quot;$&#123;i == requestScope.page.pageNo&#125;&quot;</span>&gt;<br>      【$&#123;i&#125;】<br>   &lt;/c:<span class="hljs-keyword">if</span>&gt;<br>   &lt;c:<span class="hljs-keyword">if</span> test=<span class="hljs-string">&quot;$&#123;i != requestScope.page.pageNo&#125;&quot;</span>&gt;<br>      &lt;a href=<span class="hljs-string">&quot;manager/BookServlet?action=page&amp;pageNo=$&#123;i&#125;&quot;</span>&gt;$&#123;i&#125;&lt;/a&gt;<br>   &lt;/c:<span class="hljs-keyword">if</span>&gt;<br>&lt;/c:forEach&gt;<br></code></pre></td></tr></table></figure>

<h3 id="修改分页对原来增删改的影响"><a href="#修改分页对原来增删改的影响" class="headerlink" title="修改分页对原来增删改的影响"></a>修改分页对原来增删改的影响</h3><p>这个是把BookServlet中原本action&#x3D;list都改为action&#x3D;page</p>
<figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs reasonml">resp.send<span class="hljs-constructor">Redirect(<span class="hljs-params">req</span>.<span class="hljs-params">getContextPath</span>()</span>+<span class="hljs-string">&quot;/manager/BookServlet?action=page&quot;</span>);<br></code></pre></td></tr></table></figure>

<p><strong>添加图书的影响</strong></p>
<p>book_manager</p>
<p>添加图书的时候带着pageTotal</p>
<figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs dust"><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;pages/manager/book_edit.jsp?pageNo=$</span></span></span><span class="hljs-template-variable">&#123;requestScope.page.pageTotal&#125;</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span>&gt;</span>添加图书<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br></code></pre></td></tr></table></figure>

<p>book_edit</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs">加了这一行，来传接收到的pageNo参数<br></code></pre></td></tr></table></figure>

<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">&lt;input <span class="hljs-attribute">type</span>=<span class="hljs-string">&quot;hidden&quot;</span> <span class="hljs-attribute">name</span>=<span class="hljs-string">&quot;pageNo&quot;</span> <span class="hljs-attribute">value</span>=<span class="hljs-string">&quot;<span class="hljs-variable">$&#123;param.pageNo&#125;</span>&quot;</span>/&gt;;<br></code></pre></td></tr></table></figure>



<figure class="highlight xquery"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs xquery"><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;manager/BookServlet&quot;</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;get&quot;</span>&gt;</span></span><br><span class="language-xml">   <span class="hljs-comment">&lt;!--通过判断是否存在参数id来绝顶value是add还是update--&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml">   <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;hidden&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;action&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$</span></span></span><span class="language-xquery"><span class="hljs-built_in">&#123;empty</span> param<span class="hljs-built_in">.id</span>?<span class="hljs-string">&quot;add&quot;</span>:<span class="hljs-string">&quot;update&quot;</span>&#125;</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span>/&gt;</span></span><br><span class="language-xml">   <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;hidden&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;id&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$</span></span></span><span class="language-xquery">&#123;requestScope.book<span class="hljs-built_in">.id</span>&#125;</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span>/&gt;</span></span><br><span class="language-xml">   <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;hidden&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;pageNo&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$</span></span></span><span class="language-xquery">&#123;param.pageNo&#125;</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span>/&gt;</span>;</span><br></code></pre></td></tr></table></figure>



<p>BookServlet中的add方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs java">    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">add</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>        <span class="hljs-type">int</span> pageNo=WebUtils.parseInt(req.getParameter(<span class="hljs-string">&quot;pageNo&quot;</span>),<span class="hljs-number">0</span>);<br>        pageNo+=<span class="hljs-number">1</span>;<br>        <span class="hljs-comment">//使用BeanUtils生成Book对象</span><br>        <span class="hljs-type">Map</span> <span class="hljs-variable">parameterMap</span> <span class="hljs-operator">=</span> req.getParameterMap();<br>        Book book= WebUtils.copyParamToBean(parameterMap,<span class="hljs-keyword">new</span> <span class="hljs-title class_">Book</span>());<br>        <span class="hljs-comment">//保存图书</span><br>        bookService.addBook(book);<br><br>        <span class="hljs-comment">//使用这个方法是有bug的</span><br>        <span class="hljs-comment">//造成表单的重复提交，当用户提交完请求，浏览器会记录下最后一次请求的全部信息，当用户按下功能键f5，就会发起浏览器记录的最后一次请求</span><br><br>       <span class="hljs-comment">// req.getRequestDispatcher(&quot;/manager/BookServlet?action=list&quot;).forward(req,resp);</span><br><br>        <span class="hljs-comment">//这里要使用重定向</span><br>resp.sendRedirect(req.getContextPath()+<span class="hljs-string">&quot;/manager/BookServlet?action=page&amp;pageNo=&quot;</span>+pageNo);<br><br><br>    &#125;<br></code></pre></td></tr></table></figure>

<pre><code class="hljs">    int pageNo=WebUtils.parseInt(req.getParameter(&quot;pageNo&quot;),0);
    pageNo+=1;
</code></pre>
<p>让pageNo为最后一页的下一页（因为永远不会越界，前面有所设定）</p>
<p>然后重定向</p>
<figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs reasonml">resp.send<span class="hljs-constructor">Redirect(<span class="hljs-params">req</span>.<span class="hljs-params">getContextPath</span>()</span>+<span class="hljs-string">&quot;/manager/BookServlet?action=page&amp;pageNo=&quot;</span>+pageNo);<br></code></pre></td></tr></table></figure>

<p><strong>删除的影响</strong></p>
<p>book_manager.jsp</p>
<p>带着pageNo参数</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;td&gt;&lt;a class=<span class="hljs-string">&quot;deleteClass&quot;</span> href=<span class="hljs-string">&quot;manager/BookServlet?action=delete&amp;id=$&#123;book.id&#125;&amp;pageNo=$&#123;requestScope.page.pageNo&#125;&quot;</span>&gt;删除&lt;/a&gt;&lt;/td&gt;<br></code></pre></td></tr></table></figure>

<p>BookServlet中的delete方法</p>
<p>带着pageNo请求BookServlet的page方法，来显示删除之后的界面</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">resp.sendRedirect(req.getContextPath() + <span class="hljs-string">&quot;/manager/BookServlet?action=page&amp;pageNo=&quot;</span>+req.getParameter(<span class="hljs-string">&quot;pageNo&quot;</span>));<br></code></pre></td></tr></table></figure>

<p><strong>修改的影响</strong></p>
<p>修改的影响和删除的影响相同</p>
<h3 id="前台分页的初步实现"><a href="#前台分页的初步实现" class="headerlink" title="前台分页的初步实现"></a>前台分页的初步实现</h3><p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210080908482.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20221008090816089"></p>
<p>所以先将index.jsp的内容复制到client下的index.jsp然后，web下的index.jsp只做一件事就是请求转发Servlet</p>
<p>注意这个<a href="jsp:forward">jsp:forward</a>和</jsp:forward>必须是在一行上，要不会报错</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%@ page contentType=<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="hljs-string">&quot;java&quot;</span> %&gt;<br>&lt;%--只负责请求转发--%&gt;<br>&lt;jsp:forward page=<span class="hljs-string">&quot;/client/ClientBookServlet?action=page&quot;</span>&gt;&lt;/jsp:forward&gt;<br></code></pre></td></tr></table></figure>

<p>然后是ClientBookServlet，请求转发到client下的index.jsp</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs jsp"><span class="hljs-keyword">package</span> com.atguigu.web;<br><br><span class="hljs-keyword">import</span> com.atguigu.pojo.Book;<br><span class="hljs-keyword">import</span> com.atguigu.pojo.Page;<br><span class="hljs-keyword">import</span> com.atguigu.service.BookService;<br><span class="hljs-keyword">import</span> com.atguigu.service.impl.BookServiceImpl;<br><span class="hljs-keyword">import</span> com.atguigu.utils.WebUtils;<br><br><span class="hljs-keyword">import</span> javax.servlet.ServletException;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequest;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletResponse;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ClientBookServlet</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">BaseServlet</span>&#123;<br>    BookService bookService=<span class="hljs-keyword">new</span> <span class="hljs-title class_">BookServiceImpl</span>();<br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">page</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>        <span class="hljs-comment">//1。获取请求的参数，pageNo和pageSize</span><br>        <span class="hljs-comment">//用户没有点击第几页，就默认显示第一页，所以第二个参数是1</span><br>        System.out.println(<span class="hljs-string">&quot;经过了前台的Servlet程序&quot;</span>);<br>        <span class="hljs-type">int</span> pageNo= WebUtils.parseInt(req.getParameter(<span class="hljs-string">&quot;pageNo&quot;</span>),<span class="hljs-number">1</span>);<br>        <span class="hljs-type">int</span> pageSize=WebUtils.parseInt(req.getParameter(<span class="hljs-string">&quot;pageSize&quot;</span>), Page.PAGE_SIZE);<br>        <span class="hljs-comment">//2。调用BookService.page(pageNo,pageSize):Page对象</span><br>        Page&lt;Book&gt; page=bookService.page(pageNo,pageSize);<br><br>        <span class="hljs-comment">//3.保存Page对象到request域中</span><br>        req.setAttribute(<span class="hljs-string">&quot;page&quot;</span>,page);<br><br>        <span class="hljs-comment">//4.请求转发到pages/manager/book_manager.jsp</span><br>        req.getRequestDispatcher(<span class="hljs-string">&quot;/pages/client/index.jsp&quot;</span>).forward(req,resp);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>client下的index.jsp</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%@ taglib prefix=<span class="hljs-string">&quot;c&quot;</span> uri=<span class="hljs-string">&quot;http://java.sun.com/jsp/jstl/core&quot;</span> %&gt;<br>&lt;%@ page contentType=<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="hljs-string">&quot;java&quot;</span> %&gt;<br>&lt;!DOCTYPE html&gt;<br>&lt;html&gt;<br>&lt;head&gt;<br>    &lt;meta charset=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;<br>    &lt;title&gt;书城首页&lt;/title&gt;<br>    &lt;!--使用静态包含引入css样式jQuery和base标签--&gt;<br>    &lt;%@ include file=<span class="hljs-string">&quot;/pages/common/head.jsp&quot;</span>%&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br><br>&lt;div id=<span class="hljs-string">&quot;header&quot;</span>&gt;<br>    &lt;img class=<span class="hljs-string">&quot;logo_img&quot;</span> alt=<span class="hljs-string">&quot;&quot;</span> src=<span class="hljs-string">&quot;/img/logo.gif&quot;</span> &gt;<br>    &lt;span class=<span class="hljs-string">&quot;wel_word&quot;</span>&gt;网上书城&lt;/span&gt;<br>    &lt;div&gt;<br>        &lt;a href=<span class="hljs-string">&quot;pages/user/login.jsp&quot;</span>&gt;登录&lt;/a&gt; |<br>        &lt;a href=<span class="hljs-string">&quot;pages/user/regist.jsp&quot;</span>&gt;注册&lt;/a&gt; &amp;nbsp;&amp;nbsp;<br>        &lt;a href=<span class="hljs-string">&quot;pages/cart/cart.jsp&quot;</span>&gt;购物车&lt;/a&gt;<br>        &lt;a href=<span class="hljs-string">&quot;pages/manager/manager.jsp&quot;</span>&gt;后台管理&lt;/a&gt;<br>    &lt;/div&gt;<br>&lt;/div&gt;<br>&lt;div id=<span class="hljs-string">&quot;main&quot;</span>&gt;<br>    &lt;div id=<span class="hljs-string">&quot;book&quot;</span>&gt;<br>        &lt;div class=<span class="hljs-string">&quot;book_cond&quot;</span>&gt;<br>            &lt;form action=<span class="hljs-string">&quot;&quot;</span> method=<span class="hljs-string">&quot;get&quot;</span>&gt;<br>                价格：&lt;input id=<span class="hljs-string">&quot;min&quot;</span> type=<span class="hljs-string">&quot;text&quot;</span> name=<span class="hljs-string">&quot;min&quot;</span> value=<span class="hljs-string">&quot;&quot;</span>&gt; 元 -<br>                &lt;input id=<span class="hljs-string">&quot;max&quot;</span> type=<span class="hljs-string">&quot;text&quot;</span> name=<span class="hljs-string">&quot;max&quot;</span> value=<span class="hljs-string">&quot;&quot;</span>&gt; 元<br>                &lt;input type=<span class="hljs-string">&quot;submit&quot;</span> value=<span class="hljs-string">&quot;查询&quot;</span> /&gt;<br>            &lt;/form&gt;<br>        &lt;/div&gt;<br>        &lt;div style=<span class="hljs-string">&quot;text-align: center&quot;</span>&gt;<br>            &lt;span&gt;您的购物车中有<span class="hljs-number">3</span>件商品&lt;/span&gt;<br>            &lt;div&gt;<br>                您刚刚将&lt;span style=<span class="hljs-string">&quot;color: red&quot;</span>&gt;时间简史&lt;/span&gt;加入到了购物车中<br>            &lt;/div&gt;<br>        &lt;/div&gt;<br>        &lt;c:forEach items=<span class="hljs-string">&quot;$&#123;requestScope.page.items&#125;&quot;</span> <span class="hljs-keyword">var</span>=<span class="hljs-string">&quot;book&quot;</span>&gt;<br>        &lt;div class=<span class="hljs-string">&quot;b_list&quot;</span>&gt;<br>            &lt;div class=<span class="hljs-string">&quot;img_div&quot;</span>&gt;<br>                &lt;img class=<span class="hljs-string">&quot;book_img&quot;</span> alt=<span class="hljs-string">&quot;&quot;</span> src=<span class="hljs-string">&quot;$&#123;book.imgPath&#125;&quot;</span> /&gt;<br>            &lt;/div&gt;<br>            &lt;div class=<span class="hljs-string">&quot;book_info&quot;</span>&gt;<br>                &lt;div class=<span class="hljs-string">&quot;book_name&quot;</span>&gt;<br>                    &lt;span class=<span class="hljs-string">&quot;sp1&quot;</span>&gt;书名:&lt;/span&gt;<br>                    &lt;span class=<span class="hljs-string">&quot;sp2&quot;</span>&gt;$&#123;book.name&#125;&lt;/span&gt;<br>                &lt;/div&gt;<br>                &lt;div class=<span class="hljs-string">&quot;book_author&quot;</span>&gt;<br>                    &lt;span class=<span class="hljs-string">&quot;sp1&quot;</span>&gt;作者:&lt;/span&gt;<br>                    &lt;span class=<span class="hljs-string">&quot;sp2&quot;</span>&gt;$&#123;book.author&#125;&lt;/span&gt;<br>                &lt;/div&gt;<br>                &lt;div class=<span class="hljs-string">&quot;book_price&quot;</span>&gt;<br>                    &lt;span class=<span class="hljs-string">&quot;sp1&quot;</span>&gt;价格:&lt;/span&gt;<br>                    &lt;span class=<span class="hljs-string">&quot;sp2&quot;</span>&gt;$&#123;book.price&#125;&lt;/span&gt;<br>                &lt;/div&gt;<br>                &lt;div class=<span class="hljs-string">&quot;book_sales&quot;</span>&gt;<br>                    &lt;span class=<span class="hljs-string">&quot;sp1&quot;</span>&gt;销量:&lt;/span&gt;<br>                    &lt;span class=<span class="hljs-string">&quot;sp2&quot;</span>&gt;$&#123;book.sales&#125;&lt;/span&gt;<br>                &lt;/div&gt;<br>                &lt;div class=<span class="hljs-string">&quot;book_amount&quot;</span>&gt;<br>                    &lt;span class=<span class="hljs-string">&quot;sp1&quot;</span>&gt;库存:&lt;/span&gt;<br>                    &lt;span class=<span class="hljs-string">&quot;sp2&quot;</span>&gt;$&#123;book.stock&#125;&lt;/span&gt;<br>                &lt;/div&gt;<br>                &lt;div class=<span class="hljs-string">&quot;book_add&quot;</span>&gt;<br>                    &lt;button&gt;加入购物车&lt;/button&gt;<br>                &lt;/div&gt;<br>            &lt;/div&gt;<br>        &lt;/div&gt;<br>        &lt;/c:forEach&gt;<br><br><br><br><br><br>        &lt;div id=<span class="hljs-string">&quot;page_nav&quot;</span>&gt;<br>            &lt;%--大于首页才显示上一页按钮--%&gt;<br>            &lt;c:<span class="hljs-keyword">if</span> test=<span class="hljs-string">&quot;$&#123;requestScope.page.pageNo&gt;1&#125;&quot;</span>&gt;<br>                &lt;a href=<span class="hljs-string">&quot;client/ClientBookServlet?action=page&amp;pageNo=1&quot;</span>&gt;首页&lt;/a&gt;<br>                &lt;a href=<span class="hljs-string">&quot;client/ClientBookServlet?action=page&amp;pageNo=$&#123;requestScope.page.pageNo-1&#125;&quot;</span>&gt;上一页&lt;/a&gt;<br>            &lt;/c:<span class="hljs-keyword">if</span>&gt;<br><br><br><br><br>            &lt;%--页码输出的开始--%&gt;<br>            &lt;c:choose&gt;<br>                &lt;%--情况 <span class="hljs-number">1</span>：如果总页码小于等于 <span class="hljs-number">5</span> 的情况，页码的范围是：<span class="hljs-number">1</span>-总页码--%&gt;<br>                &lt;c:when test=<span class="hljs-string">&quot;$&#123; requestScope.page.pageTotal &lt;= 5 &#125;&quot;</span>&gt;<br>                    &lt;c:set <span class="hljs-keyword">var</span>=<span class="hljs-string">&quot;begin&quot;</span> value=<span class="hljs-string">&quot;1&quot;</span>/&gt;<br>                    &lt;c:set <span class="hljs-keyword">var</span>=<span class="hljs-string">&quot;end&quot;</span> value=<span class="hljs-string">&quot;$&#123;requestScope.page.pageTotal&#125;&quot;</span>/&gt;<br>                &lt;/c:when&gt;<br>                &lt;%--情况 <span class="hljs-number">2</span>：总页码大于 <span class="hljs-number">5</span> 的情况--%&gt;<br>                &lt;c:when test=<span class="hljs-string">&quot;$&#123;requestScope.page.pageTotal &gt; 5&#125;&quot;</span>&gt;<br>                    &lt;c:choose&gt;<br>                        &lt;%--小情况 <span class="hljs-number">1</span>：当前页码为前面 <span class="hljs-number">3</span> 个：<span class="hljs-number">1</span>，<span class="hljs-number">2</span>，<span class="hljs-number">3</span> 的情况，页码范围是：<span class="hljs-number">1</span>-<span class="hljs-number">5.</span>--%&gt;<br>                        &lt;c:when test=<span class="hljs-string">&quot;$&#123;requestScope.page.pageNo &lt;= 3&#125;&quot;</span>&gt;<br>                            &lt;%--记录begin和end--%&gt;<br>                            &lt;c:set <span class="hljs-keyword">var</span>=<span class="hljs-string">&quot;begin&quot;</span> value=<span class="hljs-string">&quot;1&quot;</span>/&gt;<br>                            &lt;c:set <span class="hljs-keyword">var</span>=<span class="hljs-string">&quot;end&quot;</span> value=<span class="hljs-string">&quot;5&quot;</span>/&gt;<br>                        &lt;/c:when&gt;<br>                        &lt;%--小情况 <span class="hljs-number">2</span>：当前页码为最后 <span class="hljs-number">3</span> 个，<span class="hljs-number">8</span>，<span class="hljs-number">9</span>，<span class="hljs-number">10</span>，页码范围是：总页码减 <span class="hljs-number">4</span> - 总页码--%&gt;<br>                        &lt;c:when test=<span class="hljs-string">&quot;$&#123;requestScope.page.pageNo &gt; requestScope.page.pageTotal-3&#125;&quot;</span>&gt;<br>                            &lt;%--记录begin和end--%&gt;<br>                            &lt;c:set <span class="hljs-keyword">var</span>=<span class="hljs-string">&quot;begin&quot;</span> value=<span class="hljs-string">&quot;$&#123;requestScope.page.pageTotal-4&#125;&quot;</span>/&gt;<br>                            &lt;c:set <span class="hljs-keyword">var</span>=<span class="hljs-string">&quot;end&quot;</span> value=<span class="hljs-string">&quot;$&#123;requestScope.page.pageTotal&#125;&quot;</span>/&gt;<br>                        &lt;/c:when&gt;<br>                        &lt;%--小情况 <span class="hljs-number">3</span>：<span class="hljs-number">4</span>，<span class="hljs-number">5</span>，<span class="hljs-number">6</span>，<span class="hljs-number">7</span>，页码范围是：当前页码减 <span class="hljs-number">2</span> - 当前页码加 <span class="hljs-number">2</span>--%&gt;<br>                        &lt;c:otherwise&gt;<br>                            &lt;c:set <span class="hljs-keyword">var</span>=<span class="hljs-string">&quot;begin&quot;</span> value=<span class="hljs-string">&quot;$&#123;requestScope.page.pageNo-2&#125;&quot;</span>/&gt;<br>                            &lt;c:set <span class="hljs-keyword">var</span>=<span class="hljs-string">&quot;end&quot;</span> value=<span class="hljs-string">&quot;$&#123;requestScope.page.pageNo+2&#125;&quot;</span>/&gt;<br>                        &lt;/c:otherwise&gt;<br>                    &lt;/c:choose&gt;<br>                &lt;/c:when&gt;<br>            &lt;/c:choose&gt;<br>            &lt;c:forEach begin=<span class="hljs-string">&quot;$&#123;begin&#125;&quot;</span> end=<span class="hljs-string">&quot;$&#123;end&#125;&quot;</span> <span class="hljs-keyword">var</span>=<span class="hljs-string">&quot;i&quot;</span>&gt;<br>                &lt;c:<span class="hljs-keyword">if</span> test=<span class="hljs-string">&quot;$&#123;i == requestScope.page.pageNo&#125;&quot;</span>&gt;<br>                    【$&#123;i&#125;】<br>                &lt;/c:<span class="hljs-keyword">if</span>&gt;<br>                &lt;c:<span class="hljs-keyword">if</span> test=<span class="hljs-string">&quot;$&#123;i != requestScope.page.pageNo&#125;&quot;</span>&gt;<br>                    &lt;a href=<span class="hljs-string">&quot;client/ClientBookServlet?action=page&amp;pageNo=$&#123;i&#125;&quot;</span>&gt;$&#123;i&#125;&lt;/a&gt;<br>                &lt;/c:<span class="hljs-keyword">if</span>&gt;<br>            &lt;/c:forEach&gt;<br>            &lt;%--页码输出的结束--%&gt;<br><br><br><br>            &lt;%--如果已经是最后一页则不显示下一页和末页--%&gt;<br>            &lt;c:<span class="hljs-keyword">if</span> test=<span class="hljs-string">&quot;$&#123;requestScope.page.pageNo&lt;requestScope.page.pageTotal&#125;&quot;</span>&gt;<br>                &lt;a href=<span class="hljs-string">&quot;client/ClientBookServlet?action=page&amp;pageNo=$&#123;requestScope.page.pageNo+1&#125;&quot;</span>&gt;下一页&lt;/a&gt;<br>                &lt;a href=<span class="hljs-string">&quot;client/ClientBookServlet?action=page&amp;pageNo=$&#123;requestScope.page.pageTotal&#125;&quot;</span>&gt;末页&lt;/a&gt;<br>            &lt;/c:<span class="hljs-keyword">if</span>&gt;<br>            共$&#123;requestScope.page.pageTotal&#125;页，$&#123;requestScope.page.pageTotalCount&#125;条记录 到第&lt;input value=<span class="hljs-string">&quot;$&#123;requestScope.page.pageNo&#125;&quot;</span> name=<span class="hljs-string">&quot;pn&quot;</span> id=<span class="hljs-string">&quot;pn_input&quot;</span>/&gt;页<br>            &lt;input type=<span class="hljs-string">&quot;button&quot;</span> value=<span class="hljs-string">&quot;确定&quot;</span>&gt;<br>            共$&#123;requestScope.page.pageTotal&#125;页，$&#123;requestScope.page.pageTotalCount&#125;条记录 到第&lt;input value=<span class="hljs-string">&quot;$&#123;requestScope.page.pageNo&#125;&quot;</span> name=<span class="hljs-string">&quot;pn&quot;</span> id=<span class="hljs-string">&quot;pn_input&quot;</span>/&gt;页<br>            &lt;input type=<span class="hljs-string">&quot;button&quot;</span> id=<span class="hljs-string">&quot;searchPageBtn&quot;</span> value=<span class="hljs-string">&quot;确定&quot;</span>&gt;<br>            &lt;script type=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;<br>                $(function()&#123;<br>                    $(<span class="hljs-string">&quot;#searchPageBtn&quot;</span>).click(function()&#123;<br><br>                        <span class="hljs-keyword">var</span> pageNo=$(<span class="hljs-string">&quot;#pn_input&quot;</span>).val();<br>                        <span class="hljs-comment">//javascript语言中提供了一个location地址栏</span><br>                        <span class="hljs-comment">//他有一个属性叫href，它可以获取浏览器地址栏中的地址</span><br>                        <span class="hljs-comment">//href属性可读可写</span><br>                        location.href=<span class="hljs-string">&quot;$&#123;pageScope.basePath&#125;client/ClientBookServlet?action=page&amp;pageNo=&quot;</span>+pageNo;<br>                    &#125;);<br><br>                &#125;);<br><br><br>            &lt;/script&gt;<br>        &lt;/div&gt;<br><br><br><br><br><br>&lt;/div&gt;<br><br>&lt;!--静态包含页脚的代码--&gt;<br>&lt;%<span class="hljs-meta">@include</span> file=<span class="hljs-string">&quot;/pages/common/footer.jsp&quot;</span> %&gt;<br>&lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>



<p>在页面遍历内容</p>
<figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs dust"><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">c:forEach</span> <span class="hljs-attr">items</span>=<span class="hljs-string">&quot;$</span></span></span><span class="hljs-template-variable">&#123;requestScope.page.items&#125;</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span> <span class="hljs-attr">var</span>=<span class="hljs-string">&quot;book&quot;</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;b_list&quot;</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;img_div&quot;</span>&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;book_img&quot;</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">&quot;&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;$</span></span></span><span class="hljs-template-variable">&#123;book.imgPath&#125;</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span> /&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;book_info&quot;</span>&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;book_name&quot;</span>&gt;</span></span><br><span class="language-xml">                    <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;sp1&quot;</span>&gt;</span>书名:<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="language-xml">                    <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;sp2&quot;</span>&gt;</span>$</span><span class="hljs-template-variable">&#123;book.name&#125;</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;book_author&quot;</span>&gt;</span></span><br><span class="language-xml">                    <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;sp1&quot;</span>&gt;</span>作者:<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="language-xml">                    <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;sp2&quot;</span>&gt;</span>$</span><span class="hljs-template-variable">&#123;book.author&#125;</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;book_price&quot;</span>&gt;</span></span><br><span class="language-xml">                    <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;sp1&quot;</span>&gt;</span>价格:<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="language-xml">                    <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;sp2&quot;</span>&gt;</span>$</span><span class="hljs-template-variable">&#123;book.price&#125;</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;book_sales&quot;</span>&gt;</span></span><br><span class="language-xml">                    <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;sp1&quot;</span>&gt;</span>销量:<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="language-xml">                    <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;sp2&quot;</span>&gt;</span>$</span><span class="hljs-template-variable">&#123;book.sales&#125;</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;book_amount&quot;</span>&gt;</span></span><br><span class="language-xml">                    <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;sp1&quot;</span>&gt;</span>库存:<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="language-xml">                    <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;sp2&quot;</span>&gt;</span>$</span><span class="hljs-template-variable">&#123;book.stock&#125;</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;book_add&quot;</span>&gt;</span></span><br><span class="language-xml">                    <span class="hljs-tag">&lt;<span class="hljs-name">button</span>&gt;</span>加入购物车<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">c:forEach</span>&gt;</span></span><br></code></pre></td></tr></table></figure>

<p>同时把后台的那个分页条复制到这个文件中，然后还要改一下路径</p>
<figure class="highlight nsis"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs nsis">client/ClientBookServlet?action=<span class="hljs-keyword">page</span>&amp;pageNo=<span class="hljs-variable">$&#123;i&#125;</span><br></code></pre></td></tr></table></figure>

<h3 id="分页条抽取"><a href="#分页条抽取" class="headerlink" title="分页条抽取"></a>分页条抽取</h3><p>在Page中直接添加一个url属性，代表分页条的跳转</p>
<p>然后在client的index.jsp中做一个替换</p>
<figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs dust"><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;$</span></span></span><span class="hljs-template-variable">&#123;requestScope.page.url&#125;</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">&amp;pageNo=$</span></span></span><span class="hljs-template-variable">&#123;requestScope.page.pageNo+1&#125;</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span>&gt;</span>下一页<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></span><br></code></pre></td></tr></table></figure>

<p>BookServlet的page方法中加这是后台的分页条跳转</p>
<figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs abnf">page.setUrl(<span class="hljs-string">&quot;manager/BookServlet?action=page&quot;</span>)<span class="hljs-comment">;</span><br></code></pre></td></tr></table></figure>

<p>ClientBookServlet中page加  这是首页的分页条跳转</p>
<figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs abnf">page.setUrl(<span class="hljs-string">&quot;client/ClientBookServlet?action=page&quot;</span>)<span class="hljs-comment">;</span><br></code></pre></td></tr></table></figure>



<p>这种改变之后，首页和后台的分页条都差不多可以抽取到page_nv.jsp</p>
<p>然后静态引入</p>
<figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mel">&lt;%@include <span class="hljs-keyword">file</span>=<span class="hljs-string">&quot;/pages/common/page_nav.jsp&quot;</span>%&gt;<br></code></pre></td></tr></table></figure>

<h3 id="价格区间搜索"><a href="#价格区间搜索" class="headerlink" title="价格区间搜索"></a>价格区间搜索</h3><p>这个操作和前面的设置分页类似s</p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210081051708.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20221008105121268"></p>
<p>先对client中的index.jsp的表单进行了修改</p>
<p>改了提交地址，和value设置为pageByPrice</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;form action=<span class="hljs-string">&quot;client/ClientBookServlet&quot;</span> method=<span class="hljs-string">&quot;get&quot;</span>&gt;<br>    &lt;input type=<span class="hljs-string">&quot;hidden&quot;</span> name=<span class="hljs-string">&quot;action&quot;</span> value=<span class="hljs-string">&quot;pageByPrice&quot;</span>/&gt;<br>    价格：&lt;input id=<span class="hljs-string">&quot;min&quot;</span> type=<span class="hljs-string">&quot;text&quot;</span> name=<span class="hljs-string">&quot;min&quot;</span> value=<span class="hljs-string">&quot;&quot;</span>&gt; 元 -<br>    &lt;input id=<span class="hljs-string">&quot;max&quot;</span> type=<span class="hljs-string">&quot;text&quot;</span> name=<span class="hljs-string">&quot;max&quot;</span> value=<span class="hljs-string">&quot;&quot;</span>&gt; 元<br>    &lt;input type=<span class="hljs-string">&quot;submit&quot;</span> value=<span class="hljs-string">&quot;查询&quot;</span> /&gt;<br>&lt;/form&gt;<br></code></pre></td></tr></table></figure>

<p>在ClientBookServlet中创建pageByPrice方法，用了bookService的pageByPrice方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">pageByPrice</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>    <span class="hljs-comment">//1。获取请求的参数，pageNo和pageSize</span><br>    <span class="hljs-comment">//用户没有点击第几页，就默认显示第一页，所以第二个参数是1</span><br>    System.out.println(<span class="hljs-number">100</span>);<br>    <span class="hljs-type">int</span> pageNo= WebUtils.parseInt(req.getParameter(<span class="hljs-string">&quot;pageNo&quot;</span>),<span class="hljs-number">1</span>);<br>    <span class="hljs-type">int</span> pageSize=WebUtils.parseInt(req.getParameter(<span class="hljs-string">&quot;pageSize&quot;</span>), Page.PAGE_SIZE);<br><br>    <span class="hljs-comment">//获取最小价格min和最大价格max两个参数</span><br>    <span class="hljs-type">int</span> min=WebUtils.parseInt(req.getParameter(<span class="hljs-string">&quot;min&quot;</span>),<span class="hljs-number">1</span>);<br>    <span class="hljs-type">int</span> max=WebUtils.parseInt(req.getParameter(<span class="hljs-string">&quot;max&quot;</span>),<span class="hljs-number">100</span>);<br><br>    Page&lt;Book&gt; page=bookService.pageByPrice(pageNo,pageSize,min,max);<br>    req.setAttribute(<span class="hljs-string">&quot;page&quot;</span>,page);<br>    page.setUrl(<span class="hljs-string">&quot;client/ClientBookServlet?action=pageByPrice&quot;</span>);<br>    req.getRequestDispatcher(<span class="hljs-string">&quot;/pages/client/index.jsp&quot;</span>).forward(req,resp);<br>&#125;<br></code></pre></td></tr></table></figure>

<p>BookService</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Override</span><br><span class="hljs-keyword">public</span> Page&lt;Book&gt; <span class="hljs-title function_">pageByPrice</span><span class="hljs-params">(<span class="hljs-type">int</span> pageNo, <span class="hljs-type">int</span> pageSize, <span class="hljs-type">int</span> min, <span class="hljs-type">int</span> max)</span> &#123;<br>    Page&lt;Book&gt; page=<span class="hljs-keyword">new</span> <span class="hljs-title class_">Page</span>&lt;&gt;();<br><br>    <span class="hljs-comment">//设置每页显示的数量</span><br>    page.setPageSize(pageSize);<br>    <span class="hljs-comment">//求总记录数</span><br>    Integer pageTotalCount=bookDao.queryForPageTotalCountByPrice(min,max);<br>    <span class="hljs-comment">//设置总记录数</span><br>    page.setPageTotalCount(pageTotalCount);<br>    <span class="hljs-comment">//求总页码</span><br>    Integer pageTotal=pageTotalCount/pageSize;<br>    <span class="hljs-keyword">if</span>(pageTotalCount%pageSize&gt;<span class="hljs-number">0</span>)&#123;<br>        pageTotal+=<span class="hljs-number">1</span>;<br>    &#125;<br>    <span class="hljs-comment">//设置总页码</span><br>    page.setPageTotal(pageTotal);<br>    <span class="hljs-comment">//设置page对象的当前页</span><br>    page.setPageNo(pageNo);<br>    <span class="hljs-comment">//求当前页面开始的索引</span><br>    <span class="hljs-type">int</span> begin=(page.getPageNo()-<span class="hljs-number">1</span>)*pageSize;<br>    <span class="hljs-comment">//求当前页数据</span><br>    List&lt;Book&gt; items=bookDao.queryForPageItemsByPrice(begin,pageSize,min,max);<br>    <span class="hljs-comment">//设置当前页数据</span><br>    page.setItems(items);<br>    <span class="hljs-keyword">return</span> page;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>用了BookDao中的queryForPageItemsByPrice和queryForPageTotalCountByPrice</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Override</span><br><span class="hljs-keyword">public</span> Integer <span class="hljs-title function_">queryForPageTotalCountByPrice</span><span class="hljs-params">(<span class="hljs-type">int</span> min, <span class="hljs-type">int</span> max)</span> &#123;<br>    String sql=<span class="hljs-string">&quot;select count(*) from t_book where price between ? and ?&quot;</span>;<br>    Number count=(Number)queryForSingleValue(sql,min,max);<br>    <span class="hljs-keyword">return</span> count.intValue();<br>&#125;<br><br><span class="hljs-meta">@Override</span><br><span class="hljs-keyword">public</span> List&lt;Book&gt; <span class="hljs-title function_">queryForPageItemsByPrice</span><span class="hljs-params">(<span class="hljs-type">int</span> begin, <span class="hljs-type">int</span> pageSize, <span class="hljs-type">int</span> min, <span class="hljs-type">int</span> max)</span> &#123;<br>    String sql=<span class="hljs-string">&quot;select id,name,author,price,sales,stock,img_path imgPath from t_book where price between ? and ? limit ?,? &quot;</span>;<br>    <span class="hljs-keyword">return</span> queryForList(Book.class,sql,min,max,begin,pageSize);<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="搜索完成后显示区间范围"><a href="#搜索完成后显示区间范围" class="headerlink" title="搜索完成后显示区间范围"></a>搜索完成后显示区间范围</h3><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs jsp">价格：&lt;input id=<span class="hljs-string">&quot;min&quot;</span> type=<span class="hljs-string">&quot;text&quot;</span> name=<span class="hljs-string">&quot;min&quot;</span> value=<span class="hljs-string">&quot;$&#123;param.min&#125;&quot;</span>&gt; 元 -<br>&lt;input id=<span class="hljs-string">&quot;max&quot;</span> type=<span class="hljs-string">&quot;text&quot;</span> name=<span class="hljs-string">&quot;max&quot;</span> value=<span class="hljs-string">&quot;$&#123;param.max&#125;&quot;</span>&gt; 元<br></code></pre></td></tr></table></figure>

<p>点了提交之后一直是一次请求，因为中间用的是请求转发，所以提交的min和max参数可以通过param获取</p>
<p>实现每个页面都能显示搜索区间</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java">StringBuilder sb=<span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuilder</span>(<span class="hljs-string">&quot;client/ClientBookServlet?action=pageByPrice&quot;</span>);<br><span class="hljs-keyword">if</span>(req.getParameter(<span class="hljs-string">&quot;min&quot;</span>)!=<span class="hljs-literal">null</span>)&#123;<br>    sb.append(<span class="hljs-string">&quot;&amp;min=&quot;</span>).append(req.getParameter(<span class="hljs-string">&quot;min&quot;</span>));<br>&#125;<br><span class="hljs-keyword">if</span>(req.getParameter(<span class="hljs-string">&quot;max&quot;</span>)!=<span class="hljs-literal">null</span>)&#123;<br>    sb.append(<span class="hljs-string">&quot;&amp;max=&quot;</span>).append(req.getParameter(<span class="hljs-string">&quot;max&quot;</span>));<br>&#125;<br>page.setUrl(sb.toString());<br></code></pre></td></tr></table></figure>

<h1 id="Cookie-amp-Session"><a href="#Cookie-amp-Session" class="headerlink" title="Cookie&amp;Session"></a>Cookie&amp;Session</h1><p>什么是Cookie</p>
<p>1、Cookie 翻译过来是饼干的意思。 </p>
<p>2、Cookie 是服务器通知客户端保存键值对的一种技术。 </p>
<p>3、客户端有了 Cookie 后，每次请求都发送给服务器。</p>
<p> 4、每个 Cookie 大小不能超过4kb</p>
<h2 id="cookie的创建"><a href="#cookie的创建" class="headerlink" title="cookie的创建"></a>cookie的创建</h2><p><strong>创建是服务器创建cookie发送给客户端</strong></p>
<p>给cookie.html加上base标签</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">&lt;base <span class="hljs-attribute">href</span>=<span class="hljs-string">&quot;http://localhost:8079/cookie/&quot;</span>&gt;<br></code></pre></td></tr></table></figure>

<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;CookieServlet?action=createCookie&quot;</span> <span class="hljs-attr">target</span>=<span class="hljs-string">&quot;target&quot;</span>&gt;</span>Cookie的创建<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>给cookie创建的连接修改</p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210081416473.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20221008141614363"></p>
<p>CookieServlet程序</p>
<p>可以一次性创建多个cookie</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.servlet;<br><br><span class="hljs-keyword">import</span> javax.servlet.ServletException;<br><span class="hljs-keyword">import</span> javax.servlet.http.Cookie;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequest;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletResponse;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CookieServlet</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">BaseServlet</span>&#123;<br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">createCookie</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>        <span class="hljs-comment">//1.创建cookie对象</span><br>        Cookie cookie=<span class="hljs-keyword">new</span> <span class="hljs-title class_">Cookie</span>(<span class="hljs-string">&quot;key1&quot;</span>,<span class="hljs-string">&quot;value1&quot;</span>);<br>        <span class="hljs-comment">//2.通知客户端保存cookie</span><br>        resp.addCookie(cookie);<br><br>        <span class="hljs-comment">//1.创建cookie对象</span><br>        Cookie cookie1=<span class="hljs-keyword">new</span> <span class="hljs-title class_">Cookie</span>(<span class="hljs-string">&quot;key2&quot;</span>,<span class="hljs-string">&quot;value2&quot;</span>);<br>        <span class="hljs-comment">//2.通知客户端保存cookie</span><br>        resp.addCookie(cookie1);<br><br>        resp.getWriter().write(<span class="hljs-string">&quot;Cookie创建成功&quot;</span>);<br><br><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>



<p>BaseServlet</p>
<p>在BaseServlet的最开头加上这句代码能避免响应的中文乱码</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-regexp">//</span>解决post请求中文乱码问题<br><span class="hljs-regexp">//</span>一定要在获取请求参数之前调用才有效<br><span class="hljs-regexp">//</span>req.setCharacterEncoding(<span class="hljs-string">&quot;UTF-8&quot;</span>);<br><span class="hljs-regexp">//</span>解决响应的中文乱码问题<br>resp.setContentType(<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span>);<br></code></pre></td></tr></table></figure>

<p>可以在下面图片中的位置看到cookie</p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210081425879.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20221008142554199"></p>
<h2 id="服务器获取Cookie"><a href="#服务器获取Cookie" class="headerlink" title="服务器获取Cookie"></a>服务器获取Cookie</h2><p>服务器获取客户端的 Cookie 只需要一行代码：req.getCookies():Cookie[]</p>
<p>cookie.html</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;CookieServlet?action=getCookie&quot;</span> <span class="hljs-attr">target</span>=<span class="hljs-string">&quot;target&quot;</span>&gt;</span>Cookie的获取<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br></code></pre></td></tr></table></figure>



<p>查看请求头中的cookie</p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210081429390.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20221008142922022"></p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210081431879.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20221008143106444"></p>
<p>获取全部cookie的方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs java"> <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">getCookie</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br><br>        Cookie[] cookies = req.getCookies();<br><br>        <span class="hljs-keyword">for</span> (Cookie cookie : cookies) &#123;<br>            <span class="hljs-comment">//getName方法返回cookie的名称</span><br>            resp.getWriter().write(<span class="hljs-string">&quot;Cookie[&quot;</span>+cookie.getName()+<span class="hljs-string">&quot;=&quot;</span>+cookie.getValue()+<span class="hljs-string">&quot;]&lt;br/&gt;&quot;</span>);<br>        &#125;<br><br>Cookie iWantCookie= CookieUtils.findCookie(<span class="hljs-string">&quot;key1&quot;</span>,cookies);<br>        <span class="hljs-keyword">if</span>(iWantCookie!=<span class="hljs-literal">null</span>)&#123;<br>            resp.getWriter().write(<span class="hljs-string">&quot;找到了需要的cookie&quot;</span>);<br>        &#125;<br><br>       <span class="hljs-comment">// for (Cookie cookie : cookies) &#123;</span><br>            <span class="hljs-comment">//getName方法返回cookie的名称</span><br>           <span class="hljs-comment">// resp.getWriter().write(&quot;Cookie[&quot;+cookie.getName()+&quot;=&quot;+cookie.getValue()+&quot;]&lt;br/&gt;&quot;);</span><br>           <span class="hljs-comment">// if(&quot;key1&quot;.equals(cookie.getName()))&#123;</span><br>               <span class="hljs-comment">// iWantCookie=cookie;</span><br>              <span class="hljs-comment">//  break;</span><br>           <span class="hljs-comment">// &#125;</span><br>        <span class="hljs-comment">//&#125;</span><br>        <span class="hljs-comment">//如果不等于null,说明附过值，也就是找到了需要的cookie</span><br>       <span class="hljs-comment">// if(iWantCookie!=null)&#123;</span><br>          <span class="hljs-comment">//  resp.getWriter().write(&quot;找到了需要的cookie&quot;);</span><br>       <span class="hljs-comment">//&#125;</span><br><br>    &#125;<br></code></pre></td></tr></table></figure>

<p>封装的获取指定cookie的方法</p>
<p>传入要找到的cookie的名字，和全部的cookie就可以</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.util;<br><br><span class="hljs-keyword">import</span> javax.servlet.http.Cookie;<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">查找指定名称的cookie对象</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CookieUtils</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Cookie <span class="hljs-title function_">findCookie</span><span class="hljs-params">(String name,Cookie[] cookies)</span>&#123;<br>        <span class="hljs-keyword">if</span>(name==<span class="hljs-literal">null</span>||cookies==<span class="hljs-literal">null</span>||cookies.length==<span class="hljs-number">0</span>)&#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>        &#125;<br>        <span class="hljs-keyword">for</span> (Cookie cookie : cookies) &#123;<br>            <span class="hljs-keyword">if</span>(name.equals(cookie.getName()))&#123;<br>                <span class="hljs-keyword">return</span> cookie;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="Cookie值的修改"><a href="#Cookie值的修改" class="headerlink" title="Cookie值的修改"></a>Cookie值的修改</h2><p>方案一：1、先创建一个要修改的同名（指的就是 key）的 Cookie 对象</p>
<p>​                2、在构造器，同时赋于新的 Cookie 值。</p>
<p>​                3、调用 response.addCookie( Cookie );</p>
<figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs reasonml">protected void update<span class="hljs-constructor">Cookie(HttpServletRequest <span class="hljs-params">req</span>, HttpServletResponse <span class="hljs-params">resp</span>)</span> throws ServletException, IOException &#123;<br>   <span class="hljs-comment">// 1、先创建一个要修改的同名（指的就是 key）的 Cookie 对象</span><br>           <span class="hljs-comment">//2、在构造器，同时赋于新的 Cookie 值。</span><br>    Cookie cookie=<span class="hljs-keyword">new</span> <span class="hljs-constructor">Cookie(<span class="hljs-string">&quot;key1&quot;</span>,<span class="hljs-string">&quot;newvalue1&quot;</span>)</span>;<br>       <span class="hljs-comment">// 3、调用 response.addCookie( Cookie );</span><br>        resp.add<span class="hljs-constructor">Cookie(<span class="hljs-params">cookie</span>)</span>;<br>        resp.get<span class="hljs-constructor">Writer()</span>.write(<span class="hljs-string">&quot;key1的值已经修改好了&quot;</span>);<br><br>&#125;<br></code></pre></td></tr></table></figure>





<p>方案二： 1、先查找到需要修改的 Cookie 对象 </p>
<p>​                2、调用 setValue()方法赋于新的 Cookie 值。 </p>
<p>​                3、调用 response.addCookie()通知客户端保存修改</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">updateCookie</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>    <span class="hljs-comment">//1、先查找到需要修改的 Cookie 对象</span><br>    Cookie cookie=CookieUtils.findCookie(<span class="hljs-string">&quot;key1&quot;</span>,req.getCookies());<br>          <span class="hljs-comment">//2、调用 setValue()方法赋于新的 Cookie 值。</span><br>          cookie.setValue(<span class="hljs-string">&quot;new1Value&quot;</span>);<br>         <span class="hljs-comment">//3、调用 response.addCookie()通知客户端保存修改</span><br>          resp.addCookie(cookie);<br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>这个value的值是不支持中文的</strong></p>
<h2 id="各种浏览器查看cookie"><a href="#各种浏览器查看cookie" class="headerlink" title="各种浏览器查看cookie"></a>各种浏览器查看cookie</h2><p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210081457131.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20221008145752001"></p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210081458089.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20221008145809906"></p>
<h2 id="Cookie生命周期"><a href="#Cookie生命周期" class="headerlink" title="Cookie生命周期"></a>Cookie生命周期</h2><p>Cookie 的生命控制指的是如何管理 Cookie 什么时候被销毁（删除）</p>
<p>setMaxAge() </p>
<p>正数，表示在指定的秒数后过期 </p>
<p>负数，表示浏览器一关，Cookie 就会被删除（默认值是-1） </p>
<p>零，表示马上删除 Cooki</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * 默认级别的cookie会话，设置为-1是浏览器关闭才消失</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param</span> req</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param</span> resp</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@throws</span> ServletException</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@throws</span> IOException</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">defaultLife</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>    Cookie cookie=<span class="hljs-keyword">new</span> <span class="hljs-title class_">Cookie</span>(<span class="hljs-string">&quot;defaultLife&quot;</span>,<span class="hljs-string">&quot;defaultLife&quot;</span>);<br>    cookie.setMaxAge(-<span class="hljs-number">1</span>);<span class="hljs-comment">//设置存活时间</span><br>    resp.addCookie(cookie);<br>&#125;<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">立即删除</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">deleteNow</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br><span class="hljs-comment">//先找到你要删除的cookie对象</span><br>    Cookie cookie=CookieUtils.findCookie(<span class="hljs-string">&quot;key1&quot;</span>,req.getCookies());<br><span class="hljs-comment">//调用setMaxAge(0);</span><br>    <span class="hljs-keyword">if</span>(cookie!=<span class="hljs-literal">null</span>)&#123;<br>        <span class="hljs-comment">//马上删除</span><br>        cookie.setMaxAge(<span class="hljs-number">0</span>);<br><br>    &#125;<br>    <span class="hljs-comment">//response.addCookie(cookie);</span><br>    resp.addCookie(cookie);<br>    resp.getWriter().write(<span class="hljs-string">&quot;key1的cookie已经被删除&quot;</span>);<br>&#125;<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">指定cookie再存货一段时间</span><br><span class="hljs-comment"></span><br><span class="hljs-comment"> */</span><br><br><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">life3600</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>    Cookie cookie=<span class="hljs-keyword">new</span> <span class="hljs-title class_">Cookie</span>(<span class="hljs-string">&quot;life3600&quot;</span>,<span class="hljs-string">&quot;life3600&quot;</span>);<br>    cookie.setMaxAge(<span class="hljs-number">60</span>*<span class="hljs-number">60</span>);<br>    resp.addCookie(cookie);<br>    resp.getWriter().write(<span class="hljs-string">&quot;已经创建了一个存货一小时的cookie&quot;</span>);<br><br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="Cookie的Path设置"><a href="#Cookie的Path设置" class="headerlink" title="Cookie的Path设置"></a>Cookie的Path设置</h2><p>Cookie 的 path 属性可以有效的过滤哪些 Cookie 可以发送给服务器。哪些不发。</p>
<p>path 属性是通过请求的地址来进行有效的过滤</p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210081522915.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20221008152207806"></p>
<p>只要能匹配cookie路径的请求地址都是可以发送的，就是cookie路径是请求地址的子串</p>
<p>·</p>
<figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs reasonml"><span class="hljs-comment">/*</span><br><span class="hljs-comment">带路径的cookie的测试</span><br><span class="hljs-comment"> */</span><br>protected void test<span class="hljs-constructor">Path(HttpServletRequest <span class="hljs-params">req</span>, HttpServletResponse <span class="hljs-params">resp</span>)</span> throws ServletException, IOException &#123;<br>      Cookie cookie=<span class="hljs-keyword">new</span> <span class="hljs-constructor">Cookie(<span class="hljs-string">&quot;path&quot;</span>,<span class="hljs-string">&quot;path&quot;</span>)</span>;<br>      <span class="hljs-comment">//getContextPath()==&gt;&gt;得到工程路径</span><br>      cookie.set<span class="hljs-constructor">Path(<span class="hljs-params">req</span>.<span class="hljs-params">getContextPath</span>()</span>+<span class="hljs-string">&quot;/abc&quot;</span>);<br>      <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>out.println(req.get<span class="hljs-constructor">ContextPath()</span>+<span class="hljs-string">&quot;/abc&quot;</span>);<br>      resp.add<span class="hljs-constructor">Cookie(<span class="hljs-params">cookie</span>)</span>;<br>      resp.get<span class="hljs-constructor">Writer()</span>.write(<span class="hljs-string">&quot;创建了一个带有Path路径的cookie&quot;</span>);<br>&#125;<br></code></pre></td></tr></table></figure>

<p>访问它是不会给你pathcookie的</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">http:<span class="hljs-regexp">//</span>localhost:<span class="hljs-number">8079</span><span class="hljs-regexp">/cookie/</span>cookie.html<br></code></pre></td></tr></table></figure>

<p>访问它可以给你cookie</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">http:<span class="hljs-regexp">//</span>localhost:<span class="hljs-number">8079</span><span class="hljs-regexp">/cookie/</span>abc/cookie.html<br></code></pre></td></tr></table></figure>

<h2 id="免输入用户名登录"><a href="#免输入用户名登录" class="headerlink" title="免输入用户名登录"></a>免输入用户名登录</h2><p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210081607971.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20221008160750840"></p>
<p>login.jsp</p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">&lt;%<span class="hljs-comment">--</span><br>  Created <span class="hljs-keyword">by</span> IntelliJ IDEA.<br>  <span class="hljs-keyword">User</span>: #赵梓皓&amp;<br>  <span class="hljs-type">Date</span>: <span class="hljs-number">2022</span>/<span class="hljs-number">10</span>/<span class="hljs-number">8</span><br>  <span class="hljs-type">Time</span>: <span class="hljs-number">16</span>:<span class="hljs-number">08</span><br>  <span class="hljs-keyword">To</span> change this <span class="hljs-keyword">template</span> use File | Settings | File Templates.<br><span class="hljs-comment">--%&gt;</span><br>&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; <span class="hljs-keyword">language</span>=&quot;java&quot; %&gt;<br>&lt;html&gt;<br>&lt;head&gt;<br>    &lt;title&gt;Title&lt;/title&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>&lt;form action=&quot;http://localhost:8079/cookie/LoginServlet&quot; <span class="hljs-keyword">method</span>=&quot;get&quot;&gt;<br>  用户名:  &lt;<span class="hljs-keyword">input</span> <span class="hljs-keyword">type</span>=&quot;text&quot; <span class="hljs-type">name</span>=&quot;username&quot; <span class="hljs-keyword">value</span>=&quot;$&#123;cookie.username.value&#125;&quot;&gt;&lt;br&gt;<br>    密码:  &lt;<span class="hljs-keyword">input</span> <span class="hljs-keyword">type</span>=&quot;password&quot; <span class="hljs-type">name</span>=&quot;password&quot;&gt;&lt;br&gt;<br>          &lt;<span class="hljs-keyword">input</span> <span class="hljs-keyword">type</span>=&quot;submit&quot; <span class="hljs-keyword">value</span>=&quot;登录&quot;&gt;<br>&lt;/form&gt;<br>&lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>



<figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs dust"><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span></span><br><span class="language-xml">获取cookie的名称:$</span><span class="hljs-template-variable">&#123;cookie.JSESSIONID.name&#125;</span><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span></span><br><span class="language-xml">获取Cookie的值：$</span><span class="hljs-template-variable">&#123;cookie.JSESSIONID.value&#125;</span><span class="language-xml"></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></span><br></code></pre></td></tr></table></figure>

<p>JESSIONID是一个cookie的名字</p>
<p>LoginServlet</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs scala"><span class="hljs-keyword">package</span> com.atguigu.servlet;<br><br><span class="hljs-keyword">import</span> javax.servlet.<span class="hljs-type">ServletException</span>;<br><span class="hljs-keyword">import</span> javax.servlet.http.<span class="hljs-type">Cookie</span>;<br><span class="hljs-keyword">import</span> javax.servlet.http.<span class="hljs-type">HttpServlet</span>;<br><span class="hljs-keyword">import</span> javax.servlet.http.<span class="hljs-type">HttpServletRequest</span>;<br><span class="hljs-keyword">import</span> javax.servlet.http.<span class="hljs-type">HttpServletResponse</span>;<br><span class="hljs-keyword">import</span> java.io.<span class="hljs-type">IOException</span>;<br><br>public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">LoginServlet</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">HttpServlet</span> </span>&#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> void doGet(<span class="hljs-type">HttpServletRequest</span> req, <span class="hljs-type">HttpServletResponse</span> resp) <span class="hljs-keyword">throws</span> <span class="hljs-type">ServletException</span>, <span class="hljs-type">IOException</span> &#123;<br>        <span class="hljs-type">String</span> username=req.getParameter(<span class="hljs-string">&quot;username&quot;</span>);<br>        <span class="hljs-type">String</span> password=req.getParameter(<span class="hljs-string">&quot;password&quot;</span>);<br>        <span class="hljs-keyword">if</span>(<span class="hljs-string">&quot;zzh&quot;</span>.equals(username)&amp;&amp;<span class="hljs-string">&quot;123456&quot;</span>.equals(password))&#123;<br>            <span class="hljs-comment">//登陆成功</span><br>            <span class="hljs-type">Cookie</span> cookie=<span class="hljs-keyword">new</span> <span class="hljs-type">Cookie</span>(<span class="hljs-string">&quot;username&quot;</span>,username);<br>            cookie.setMaxAge(<span class="hljs-number">60</span>*<span class="hljs-number">60</span>*<span class="hljs-number">24</span>*<span class="hljs-number">7</span>);<br>            resp.addCookie(cookie);<br>            <span class="hljs-type">System</span>.out.println(<span class="hljs-string">&quot;登录成功&quot;</span>);<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>             <span class="hljs-comment">//登陆失败</span><br>            <span class="hljs-type">System</span>.out.println(<span class="hljs-string">&quot;登陆失败&quot;</span>);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>第一次登陆成功之后</p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210081624379.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20221008162433707"></p>
<p>服务器发送了一个响应头中有cookie的值，cookie中保存了username</p>
<p>但是此时浏览器的cookie中还没有zzh&#x3D;username</p>
<p>第二次发起请求的时候   用户名上就有用户名</p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210081625152.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20221008162540520"></p>
<p>第二次请求的时候</p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210081626087.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20221008162609091"></p>
<p>请求头中就有cookie为username&#x3D;zzh，所以这时就是浏览器有cookie请求服务器时就会带着cookie一起</p>
<h2 id="Session的创建"><a href="#Session的创建" class="headerlink" title="Session的创建"></a>Session的创建</h2><p>什么是 Session 会话?</p>
<p>1、Session 就一个接口（HttpSession）。</p>
<p> 2、Session 就是会话。它是用来维护一个客户端和服务器之间关联的一种技术。 </p>
<p>3、<strong>每个客户端都有自己的一个 Session 会话。</strong> </p>
<p>4、<strong>Session 会话中，我们经常用来保存用户登录之后的信息。</strong></p>
<p><strong>Session是保存在服务器上</strong></p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210081640351.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20221008164027353"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SessionServlet</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">BaseServlet</span>&#123;<br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">createorGetSession</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>        <span class="hljs-comment">//创建和获取Session会话对象</span><br>        HttpSession session=req.getSession();<br>        <span class="hljs-comment">//判断当前session会话，是否是新创建出来的</span><br>        <span class="hljs-type">boolean</span> isNew=session.isNew();<br>        <span class="hljs-comment">//获取Session会话的唯一标识</span><br>        String id=session.getId();<br><br>        resp.getWriter().write(<span class="hljs-string">&quot;得到的Session的id是&quot;</span>+id+<span class="hljs-string">&quot;&lt;br/&gt;&quot;</span>);<br>        resp.getWriter().write(<span class="hljs-string">&quot;这个Session是否是新创建的&quot;</span>+isNew+<span class="hljs-string">&quot;&lt;br/&gt;&quot;</span>);<br>    &#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;li&gt;&lt;a href=<span class="hljs-string">&quot;http://localhost:8079/cookie/SessionServlet?action=createorGetSession&quot;</span> target=<span class="hljs-string">&quot;target&quot;</span>&gt;Session的创建和获取（id号、是否为新创建）&lt;/a&gt;&lt;/li&gt;<br></code></pre></td></tr></table></figure>

<h2 id="Session域中数据的存储"><a href="#Session域中数据的存储" class="headerlink" title="Session域中数据的存储"></a>Session域中数据的存储</h2><p>在SessionServlet中增加的方法</p>
<figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs reasonml"><span class="hljs-comment">/*</span><br><span class="hljs-comment">往session域中存储数据</span><br><span class="hljs-comment"> */</span><br>protected void set<span class="hljs-constructor">Attribute(HttpServletRequest <span class="hljs-params">req</span>, HttpServletResponse <span class="hljs-params">resp</span>)</span> throws ServletException, IOException &#123;<br>    req.get<span class="hljs-constructor">Session()</span>.set<span class="hljs-constructor">Attribute(<span class="hljs-string">&quot;key1&quot;</span>,<span class="hljs-string">&quot;value1&quot;</span>)</span>;<br>    resp.get<span class="hljs-constructor">Writer()</span>.write(<span class="hljs-string">&quot;已经往session中保存了数据&quot;</span>);<br><br>&#125;<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">从session域中获取数据</span><br><span class="hljs-comment"> */</span><br>protected void get<span class="hljs-constructor">Attribute(HttpServletRequest <span class="hljs-params">req</span>, HttpServletResponse <span class="hljs-params">resp</span>)</span> throws ServletException, IOException &#123;<br>    Object attribute=req.get<span class="hljs-constructor">Session()</span>.get<span class="hljs-constructor">Attribute(<span class="hljs-string">&quot;key1&quot;</span>)</span>;<br>    resp.get<span class="hljs-constructor">Writer()</span>.write(<span class="hljs-string">&quot;从session域中获取的key1的值是&quot;</span>+attribute);<br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="Session的生命周期的控制"><a href="#Session的生命周期的控制" class="headerlink" title="Session的生命周期的控制"></a>Session的生命周期的控制</h2><p>public void setMaxInactiveInterval(int interval) 设置 Session 的超时时间（以秒为单位），超过指定的时长，Session 就会被销毁。 </p>
<p><strong>session是基于cookie的，关闭浏览器cookie没了，session自然也就消失了</strong></p>
<p>停服务器之后session也会没</p>
<p>值为正数的时候，设定 Session 的超时时长。 </p>
<p>负数表示永不超时（极少使用）</p>
<p>public int getMaxInactiveInterval()获取 Session 的超时时间</p>
<p>public void invalidate() 让当前 Session 会话马上超时无效。</p>
<p>Session 默认的超时时长是多少！ </p>
<p>Session 默认的超时时间长为 30 分钟。</p>
<p>因为在 Tomcat 服务器的配置文件 web.xml中默认有以下的配置，它就表示配置了当前 Tomcat 服务器下所有的 Session 超时配置默认时长为：30 分钟</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml">    <span class="hljs-tag">&lt;<span class="hljs-name">session-config</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">session-timeout</span>&gt;</span>30<span class="hljs-tag">&lt;/<span class="hljs-name">session-timeout</span>&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">session-config</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210081723894.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20221008172357583"></p>
<p>如果你想只修改个别 Session 的超时时长。就可以使用上面的 API。setMaxInactiveInterval(int interval)来进行单独的设 置。</p>
<p>session.setMaxInactiveInterval(int interval)单独设置超时时长。</p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210081736612.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20221008173643421"></p>
<p>当你间隔一秒二秒访问的时候这个timeout又会被重置为3</p>
<p>在SessionServlet中</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs java">    <span class="hljs-comment">/*</span><br><span class="hljs-comment">    获取Session的默认存在时长</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">defaultLife</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>        <span class="hljs-comment">//获取了Session的默认的超时时长</span><br>        <span class="hljs-type">int</span> <span class="hljs-variable">maxInactiveInterval</span> <span class="hljs-operator">=</span> req.getSession().getMaxInactiveInterval();<br><br>        <span class="hljs-comment">//</span><br>        resp.getWriter().write(<span class="hljs-string">&quot;Session的默认超时时长为&quot;</span>+maxInactiveInterval+<span class="hljs-string">&quot;秒&quot;</span>);<br>    &#125;<br>    <span class="hljs-comment">/*</span><br><span class="hljs-comment">    规定Session3秒之后超时</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">life3</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>        <span class="hljs-comment">//先获取session</span><br>        HttpSession session=req.getSession();<br>        <span class="hljs-comment">//设置当前session3秒之后消失</span><br>        session.setMaxInactiveInterval(<span class="hljs-number">3</span>);<br>        resp.getWriter().write(<span class="hljs-string">&quot;当前Session已经被设置3秒之后超时&quot;</span>);<br><br>    &#125;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">让当前Session立即超时</span><br><span class="hljs-comment"> */</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">deleteNow</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>        <span class="hljs-comment">//先获取session</span><br>        HttpSession session=req.getSession();<br>        <span class="hljs-comment">//设置当前session3秒之后消失</span><br>        session.invalidate();<br>        resp.getWriter().write(<span class="hljs-string">&quot;当前Session已经被设置为无效&quot;</span>);<br>    &#125;<br></code></pre></td></tr></table></figure>

<p>在Session.html中</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;http://localhost:8079/cookie/SessionServlet?action=defaultLife&quot;</span> <span class="hljs-attr">target</span>=<span class="hljs-string">&quot;target&quot;</span>&gt;</span>Session的默认超时及配置<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;http://localhost:8079/cookie/SessionServlet?action=life3&quot;</span> <span class="hljs-attr">target</span>=<span class="hljs-string">&quot;target&quot;</span>&gt;</span>Session3秒超时销毁<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;http://localhost:8079/cookie/SessionServlet?action=deleteNow&quot;</span> <span class="hljs-attr">target</span>=<span class="hljs-string">&quot;target&quot;</span>&gt;</span>Session马上销毁<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h2 id="浏览器合Session之间关联的内幕"><a href="#浏览器合Session之间关联的内幕" class="headerlink" title="浏览器合Session之间关联的内幕"></a>浏览器合Session之间关联的内幕</h2><p>Session 技术，底层其实是基于 Cookie 技术来实现的。</p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210090841083.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20221009084103182"></p>
<h1 id="书城项目第六阶段"><a href="#书城项目第六阶段" class="headerlink" title="书城项目第六阶段"></a>书城项目第六阶段</h1><h2 id="显示登陆的用户名"><a href="#显示登陆的用户名" class="headerlink" title="显示登陆的用户名"></a>显示登陆的用户名</h2><p>UserServlet    中在sesseion中保存了用户信息</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-regexp">//</span>如果用户名和密码正确<br><span class="hljs-keyword">else</span><br>&#123;<br>    <span class="hljs-regexp">//</span>保存用户的登录信息<br>    <span class="hljs-regexp">//</span>因为每一个登陆成功页面都会显示名字，所以不能用request，request只有在一次请求中有效，再请求别的页面就无效了<br>    <span class="hljs-regexp">//</span>所以用Session<br>    req.getSession().setAttribute(<span class="hljs-string">&quot;user&quot;</span>,loginUser);<br>    req.getRequestDispatcher(<span class="hljs-string">&quot;/pages/user/login_success.jsp&quot;</span>).forward(req,resp);<br>&#125;<br></code></pre></td></tr></table></figure>



<p>在login_success_menu页面显示，出我登陆之后的用户名</p>
<figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs dust"><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>欢迎<span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;um_span&quot;</span>&gt;</span>$</span><span class="hljs-template-variable">&#123;sessionScope.user.username&#125;</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>光临尚硅谷书城<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;pages/order/order.jsp&quot;</span>&gt;</span>我的订单<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;index.jsp&quot;</span>&gt;</span>注销<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-symbol">&amp;nbsp;</span><span class="hljs-symbol">&amp;nbsp;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;index.jsp&quot;</span>&gt;</span>返回<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br></code></pre></td></tr></table></figure>



<p>client下的index.jsp，分为登录和没登陆两种显示</p>
<figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs dust"><span class="language-xml"></span><br><span class="language-xml"></span><br><span class="language-xml"> <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">       &lt;%--如果用户没有注册--%&gt;</span><br><span class="language-xml">       <span class="hljs-tag">&lt;<span class="hljs-name">c:if</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;$</span></span></span><span class="hljs-template-variable">&#123;empty sessionScope.user&#125;</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span>&gt;</span></span><br><span class="language-xml">           <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;pages/user/login.jsp&quot;</span>&gt;</span>登录<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span> |</span><br><span class="language-xml">           <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;pages/user/regist.jsp&quot;</span>&gt;</span>注册<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml"></span><br><span class="language-xml"></span><br><span class="language-xml">       <span class="hljs-tag">&lt;/<span class="hljs-name">c:if</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml"><span class="hljs-symbol">&amp;nbsp;</span><span class="hljs-symbol">&amp;nbsp;</span></span><br><span class="language-xml">           <span class="hljs-tag">&lt;<span class="hljs-name">c:if</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;$</span></span></span><span class="hljs-template-variable">&#123;not empty sessionScope.user&#125;</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml">               <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>欢迎<span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;um_span&quot;</span>&gt;</span>$</span><span class="hljs-template-variable">&#123;sessionScope.user.username&#125;</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>光临尚硅谷书城<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="language-xml">               <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;pages/order/order.jsp&quot;</span>&gt;</span>我的订单<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></span><br><span class="language-xml">               <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;index.jsp&quot;</span>&gt;</span>注销<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-symbol">&amp;nbsp;</span><span class="hljs-symbol">&amp;nbsp;</span></span><br><span class="language-xml">           <span class="hljs-tag">&lt;/<span class="hljs-name">c:if</span>&gt;</span></span><br><span class="language-xml">       <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;pages/cart/cart.jsp&quot;</span>&gt;</span>购物车<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></span><br><span class="language-xml">       <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;pages/manager/manager.jsp&quot;</span>&gt;</span>后台管理<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml">   <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml"></span><br></code></pre></td></tr></table></figure>

<h2 id="注销登录"><a href="#注销登录" class="headerlink" title="注销登录"></a>注销登录</h2><p>1、销毁 Session 中用户登录的信息（或者销毁 Session）</p>
<p>2、重定向到首页（或登录页面）。</p>
<p>在UserServlet中添加方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">logout</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>    <span class="hljs-comment">//销毁session中的用户登录信息（或者销毁session）</span><br>    req.getSession().invalidate();<br>    <span class="hljs-comment">//重定向到首页</span><br>   resp.sendRedirect(req.getContextPath());<br>&#125;<br></code></pre></td></tr></table></figure>

<p>将client的index.jsp和login_success_menu.jsp的注销都换成</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;UserServlet?action=logout&quot;</span>&gt;</span>注销<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-symbol">&amp;nbsp;</span><br></code></pre></td></tr></table></figure>

<h2 id="表单重复提交之验证码"><a href="#表单重复提交之验证码" class="headerlink" title="表单重复提交之验证码"></a>表单重复提交之验证码</h2><p>表单重复提交有三种常见的情况： ‘</p>
<p>一：提交完表单。服务器使用请求转来进行页面跳转。这个时候，用户按下功能键 F5，就会发起最后一次的请求。 造成表单重复提交问题。          解决方法：使用重定向来进行跳转 </p>
<p>二：用户正常提交服务器，但是由于网络延迟等原因，迟迟未收到服务器的响应，这个时候，用户以为提交失败， 就会着急，然后多点了几次提交操作，也会造成表单重复提交。 </p>
<p>三：用户正常提交服务器。服务器也没有延迟，但是提交完成后，用户回退浏览器。重新提交。也会造成表单重复 提交</p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210090958948.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20221009095834306"></p>
<p>RegistServlet中1.是获取Session中验证码，并删除Session的验证码</p>
<p>就是第一次访问regist.jsp的时候，服务器给一个验证码，保存到session域中，然后用户提交表单之后，保存Session中验证码之后，将Session域中验证码删除，然后将它和用户提交的验证码进行比较，第一次如果相同则运许，重复提交则会阻止</p>
<h2 id="谷歌验证码的使用"><a href="#谷歌验证码的使用" class="headerlink" title="谷歌验证码的使用"></a>谷歌验证码的使用</h2><p>谷歌验证码 kaptcha 使用步骤如下： </p>
<p>1、导入谷歌验证码的 jar 包 </p>
<p>​            kaptcha-2.3.2.jar</p>
<p>2、在 web.xml 中去配置用于生成验证码的 Servlet 程序</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">servlet</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>KaptchaServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-class</span>&gt;</span>com.google.code.kaptcha.servlet.KaptchaServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-class</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">servlet</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>KaptchaServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/kaptcha.jpg<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>3、在表单中使用 img 标签去显示验证码图片并使用</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;http://localhost:8080/tmp/registServlet&quot;</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;get&quot;</span>&gt;</span><br>  用户名：<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;username&quot;</span> &gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>  验证码：<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;width: 60px;&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;code&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;http://localhost:8080/tmp/kaptcha.jpg&quot;</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">&quot;&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;width: 100px; height: 28px;&quot;</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;登录&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>4、在服务器获取谷歌生成的验证码和客户端发送过来的验证码比较使用</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.servlet;<br><br><span class="hljs-keyword">import</span> javax.servlet.ServletException;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServlet;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequest;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletResponse;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><br><span class="hljs-keyword">import</span> <span class="hljs-keyword">static</span> com.google.code.kaptcha.Constants.KAPTCHA_SESSION_KEY;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RegistServlet</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">HttpServlet</span>&#123;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doGet</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>        <span class="hljs-comment">// 获取Session中的验证码</span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">token</span> <span class="hljs-operator">=</span> (String) req.getSession().getAttribute(KAPTCHA_SESSION_KEY);<br>        <span class="hljs-comment">// 删除 Session中的验证码</span><br>        req.getSession().removeAttribute(KAPTCHA_SESSION_KEY);<br><br><br>        <span class="hljs-type">String</span> <span class="hljs-variable">code</span> <span class="hljs-operator">=</span> req.getParameter(<span class="hljs-string">&quot;code&quot;</span>);<br>        <span class="hljs-comment">// 获取用户名</span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">username</span> <span class="hljs-operator">=</span> req.getParameter(<span class="hljs-string">&quot;username&quot;</span>);<br><br>        <span class="hljs-keyword">if</span> (token != <span class="hljs-literal">null</span> &amp;&amp; token.equalsIgnoreCase(code)) &#123;<br>            System.out.println(<span class="hljs-string">&quot;保存到数据库：&quot;</span> + username);<br>            resp.sendRedirect(req.getContextPath() + <span class="hljs-string">&quot;/ok.jsp&quot;</span>);<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            System.out.println(<span class="hljs-string">&quot;请不要重复提交表单&quot;</span>);<br>        &#125;<br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="在书城中用验证码"><a href="#在书城中用验证码" class="headerlink" title="在书城中用验证码"></a>在书城中用验证码</h2><p>1、导入谷歌验证码的 jar 包 </p>
<p>​            kaptcha-2.3.2.jar</p>
<p>2、在 web.xml 中去配置用于生成验证码的 Servlet 程序</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">servlet</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>KaptchaServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-class</span>&gt;</span>com.google.code.kaptcha.servlet.KaptchaServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-class</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">servlet</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>KaptchaServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/kaptcha.jpg<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>3、在表单中使用 img 标签去显示验证码图片并使用</p>
<figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs abnf">&lt;label&gt;验证码：&lt;/label&gt;<br>&lt;input class<span class="hljs-operator">=</span><span class="hljs-string">&quot;itxt&quot;</span> type<span class="hljs-operator">=</span><span class="hljs-string">&quot;text&quot;</span> name<span class="hljs-operator">=</span><span class="hljs-string">&quot;code&quot;</span> style<span class="hljs-operator">=</span><span class="hljs-string">&quot;width: 100px;&quot;</span> id<span class="hljs-operator">=</span><span class="hljs-string">&quot;code&quot;</span>/&gt;<br>&lt;img alt<span class="hljs-operator">=</span><span class="hljs-string">&quot;&quot;</span> src<span class="hljs-operator">=</span><span class="hljs-string">&quot;kaptcha.jpg&quot;</span> style<span class="hljs-operator">=</span><span class="hljs-string">&quot;float: right; margin-right: 40px;width:100px;height:28px &quot;</span>&gt;<br></code></pre></td></tr></table></figure>

<p>4.在服务器获取谷歌生成的验证码和客户端发送过来的验证码比较使用</p>
<p>修改的UserServlet中的regist方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">regist</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br><br>    <span class="hljs-comment">// 获取Session中的验证码</span><br>    <span class="hljs-type">String</span> <span class="hljs-variable">token</span> <span class="hljs-operator">=</span> (String) req.getSession().getAttribute(KAPTCHA_SESSION_KEY);<br>    <span class="hljs-comment">// 删除 Session中的验证码</span><br>    req.getSession().removeAttribute(KAPTCHA_SESSION_KEY);<br><br>    <span class="hljs-comment">//1.获取请求的参数</span><br>    <span class="hljs-comment">//这个getParameter方法是通过那个属性的name得到的</span><br>    String username=req.getParameter(<span class="hljs-string">&quot;username&quot;</span>);<br>    String password=req.getParameter(<span class="hljs-string">&quot;password&quot;</span>);<br>    String email=req.getParameter(<span class="hljs-string">&quot;email&quot;</span>);<br>    String code=req.getParameter(<span class="hljs-string">&quot;code&quot;</span>);<br>    <span class="hljs-comment">//2.检查 验证码是否正确,先把验证码写死，要求为abcde</span><br>    <span class="hljs-keyword">if</span>(token.equalsIgnoreCase(code)&amp;&amp;token!=<span class="hljs-literal">null</span>)&#123;<br>        <span class="hljs-comment">//验证码正确</span><br>        <span class="hljs-comment">//检查用户名是否可用</span><br>        <span class="hljs-keyword">if</span>(userService.existsUsername(username))&#123;<br>            System.out.println(<span class="hljs-string">&quot;用户名&quot;</span>+username+<span class="hljs-string">&quot;已存在&quot;</span>);<br><br>            req.setAttribute(<span class="hljs-string">&quot;msg&quot;</span>,<span class="hljs-string">&quot;用户名已存在&quot;</span>);<br>            req.setAttribute(<span class="hljs-string">&quot;username&quot;</span>,username);<br>            req.setAttribute(<span class="hljs-string">&quot;email&quot;</span>,email);<br>            <span class="hljs-comment">//跳回到注册页面</span><br>            req.getRequestDispatcher(<span class="hljs-string">&quot;/pages/user/regist.jsp&quot;</span>).forward(req,resp);<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            <span class="hljs-comment">//可用</span><br>            <span class="hljs-comment">//调用Sercice保存到数据库</span><br>          Map map=req.getParameterMap();<br>          User user= WebUtils.copyParamToBean(map,<span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>());<br><br>            userService.registerUser(user);<br>            <span class="hljs-comment">//注册成功后，跳转到注册成功页面</span><br>            req.getRequestDispatcher(<span class="hljs-string">&quot;/pages/user/regist_success.jsp&quot;</span>).forward(req,resp);<br>        &#125;<br>    &#125;<span class="hljs-keyword">else</span>&#123;<br>        <span class="hljs-comment">//把回显信息保存到request域中</span><br>        req.setAttribute(<span class="hljs-string">&quot;msg&quot;</span>,<span class="hljs-string">&quot;用户验证码错误&quot;</span>);<br>        req.setAttribute(<span class="hljs-string">&quot;username&quot;</span>,username);<br>        req.setAttribute(<span class="hljs-string">&quot;email&quot;</span>,email);<br><br>        System.out.println(<span class="hljs-string">&quot;验证码&quot;</span>+code+<span class="hljs-string">&quot;错误&quot;</span>);<br>        <span class="hljs-comment">//验证码不正确</span><br>        <span class="hljs-comment">//跳回注册页面，因为还是申请服务器中文件所以/还是工程目录下的</span><br>        req.getRequestDispatcher(<span class="hljs-string">&quot;/pages/user/regist.jsp&quot;</span>).forward(req,resp);<br><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="验证码的切换"><a href="#验证码的切换" class="headerlink" title="验证码的切换"></a>验证码的切换</h2><p>切换指的是点击验证码，会切换一个图片</p>
<p>给图片添加一个单击事件，这种方法在ie和火狐浏览器只能重新生成一个</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java">$(function()&#123;<br>   <span class="hljs-comment">/*</span><br><span class="hljs-comment">   给验证码的图片绑定单击事件</span><br><span class="hljs-comment">    */</span><br>   $(<span class="hljs-string">&quot;#codeimg&quot;</span>).click(function()&#123;<br>      <span class="hljs-comment">//在事件响应的function函数中有一个this对象，是当前正在响应事件的dom对象</span><br>      <span class="hljs-comment">//src属性表示验证码img标签的  图片路径，它可读，它可写</span><br>      <span class="hljs-comment">//下面给它赋值之后，就会自动再生成一个图片</span><br>      <span class="hljs-built_in">this</span>.src=<span class="hljs-string">&quot;$&#123;basePath&#125;&quot;</span>+<span class="hljs-string">&quot;/kaptcha.jpg&quot;</span>;<br><br>   &#125;);<br></code></pre></td></tr></table></figure>



<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210091116183.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20221009111638892"></p>
<p>在重新生成验证码的路径后面加一个get传参，然后这个参数每次都不一样，所以拿时间戳作为参数是最好的选择</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js">$(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br>   <span class="hljs-comment">/*</span><br><span class="hljs-comment">   给验证码的图片绑定单击事件</span><br><span class="hljs-comment">    */</span><br>   $(<span class="hljs-string">&quot;#codeimg&quot;</span>).<span class="hljs-title function_">click</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br>      <span class="hljs-comment">//在事件响应的function函数中有一个this对象，是当前正在响应事件的dom对象</span><br>      <span class="hljs-comment">//src属性表示验证码img标签的  图片路径，它可读，它可写</span><br>      <span class="hljs-comment">//下面给它赋值之后，就会自动再生成一个图片</span><br>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">src</span>=<span class="hljs-string">&quot;$&#123;basePath&#125;kaptcha.jpg?d=&quot;</span>+<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>();<br><br>   &#125;);<br></code></pre></td></tr></table></figure>

<h2 id="购物车模块"><a href="#购物车模块" class="headerlink" title="购物车模块"></a>购物车模块</h2><p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210091450789.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20221009145003269"></p>
<p>点击添加至购物车时（带着图书的id），就是先调用CartServlet中的方法（将图书转换为商品项），然后CartServlt中的方法调用Cart对象中的功能方法，然后再把Cart购物车展示</p>
<p>购物车商品项</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.pojo;<br><br><span class="hljs-keyword">import</span> java.math.BigDecimal;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">购物车的商品项</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CartItem</span> &#123;<br>    <span class="hljs-keyword">private</span> Integer id;<br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-keyword">private</span> Integer count;<br><br>    <span class="hljs-keyword">public</span> Integer <span class="hljs-title function_">getId</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> id;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;CartItem&#123;&quot;</span> +<br>                <span class="hljs-string">&quot;id=&quot;</span> + id +<br>                <span class="hljs-string">&quot;, name=&#x27;&quot;</span> + name + <span class="hljs-string">&#x27;\&#x27;&#x27;</span> +<br>                <span class="hljs-string">&quot;, count=&quot;</span> + count +<br>                <span class="hljs-string">&quot;, price=&quot;</span> + price +<br>                <span class="hljs-string">&quot;, totalPrice=&quot;</span> + totalPrice +<br>                <span class="hljs-string">&#x27;&#125;&#x27;</span>;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setId</span><span class="hljs-params">(Integer id)</span> &#123;<br>        <span class="hljs-built_in">this</span>.id = id;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> name;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setName</span><span class="hljs-params">(String name)</span> &#123;<br>        <span class="hljs-built_in">this</span>.name = name;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> Integer <span class="hljs-title function_">getCount</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> count;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setCount</span><span class="hljs-params">(Integer count)</span> &#123;<br>        <span class="hljs-built_in">this</span>.count = count;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> BigDecimal <span class="hljs-title function_">getPrice</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> price;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setPrice</span><span class="hljs-params">(BigDecimal price)</span> &#123;<br>        <span class="hljs-built_in">this</span>.price = price;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> BigDecimal <span class="hljs-title function_">getTotalPrice</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> totalPrice;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setTotalPrice</span><span class="hljs-params">(BigDecimal totalPrice)</span> &#123;<br>        <span class="hljs-built_in">this</span>.totalPrice = totalPrice;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">CartItem</span><span class="hljs-params">(Integer id, String name, Integer count, BigDecimal price, BigDecimal totalPrice)</span> &#123;<br>        <span class="hljs-built_in">this</span>.id = id;<br>        <span class="hljs-built_in">this</span>.name = name;<br>        <span class="hljs-built_in">this</span>.count = count;<br>        <span class="hljs-built_in">this</span>.price = price;<br>        <span class="hljs-built_in">this</span>.totalPrice = totalPrice;<br>    &#125;<br><br>    <span class="hljs-keyword">private</span> BigDecimal price;<br>    <span class="hljs-keyword">private</span> BigDecimal totalPrice;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">CartItem</span><span class="hljs-params">()</span> &#123;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>购物车对象</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.pojo;<br><br><span class="hljs-keyword">import</span> java.math.BigDecimal;<br><span class="hljs-keyword">import</span> java.util.ArrayList;<br><span class="hljs-keyword">import</span> java.util.List;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Cart</span> &#123;<br><br>    <span class="hljs-keyword">public</span> Integer <span class="hljs-title function_">getTotalCount</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> totalCount;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Cart&#123;&quot;</span> +<br>                <span class="hljs-string">&quot;totalCount=&quot;</span> + totalCount +<br>                <span class="hljs-string">&quot;, totalPrice=&quot;</span> + totalPrice +<br>                <span class="hljs-string">&quot;, items=&quot;</span> + items +<br>                <span class="hljs-string">&#x27;&#125;&#x27;</span>;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setTotalCount</span><span class="hljs-params">(Integer totalCount)</span> &#123;<br>        <span class="hljs-built_in">this</span>.totalCount = totalCount;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> BigDecimal <span class="hljs-title function_">getTotalPrice</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> totalPrice;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setTotalPrice</span><span class="hljs-params">(BigDecimal totalPrice)</span> &#123;<br>        <span class="hljs-built_in">this</span>.totalPrice = totalPrice;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> List&lt;CartItem&gt; <span class="hljs-title function_">getItems</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> items;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setItems</span><span class="hljs-params">(List&lt;CartItem&gt; items)</span> &#123;<br>        <span class="hljs-built_in">this</span>.items = items;<br>    &#125;<br><br>    <span class="hljs-keyword">private</span> Integer totalCount;<br>    <span class="hljs-keyword">private</span> BigDecimal totalPrice;<br>    <span class="hljs-keyword">private</span> List&lt;CartItem&gt; items=<span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;CartItem&gt;();<br>    <br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="购物车的功能方法"><a href="#购物车的功能方法" class="headerlink" title="购物车的功能方法"></a>购物车的功能方法</h2><p>Cart</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.pojo;<br><br><span class="hljs-keyword">import</span> com.sun.javafx.collections.MappingChange;<br><br><span class="hljs-keyword">import</span> java.math.BigDecimal;<br><span class="hljs-keyword">import</span> java.util.ArrayList;<br><span class="hljs-keyword">import</span> java.util.LinkedHashMap;<br><span class="hljs-keyword">import</span> java.util.List;<br><span class="hljs-keyword">import</span> java.util.Map;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Cart</span> &#123;<br><br>    <span class="hljs-keyword">private</span> Integer totalCount;<br>    <span class="hljs-keyword">private</span> BigDecimal totalPrice;<br>    <span class="hljs-keyword">public</span> Integer <span class="hljs-title function_">getTotalCount</span><span class="hljs-params">()</span> &#123;<br>        totalCount=<span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(Map.Entry&lt;Integer,CartItem&gt; entry : items.entrySet())&#123;<br>            totalCount+=entry.getValue().getCount();<br>        &#125;<br>        <span class="hljs-keyword">return</span> totalCount;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Cart&#123;&quot;</span> +<br>                <span class="hljs-string">&quot;totalCount=&quot;</span> + getTotalCount() +<br>                <span class="hljs-string">&quot;, totalPrice=&quot;</span> + getTotalPrice() +<br>                <span class="hljs-string">&quot;, items=&quot;</span> + items +<br>                <span class="hljs-string">&#x27;&#125;&#x27;</span>;<br>    &#125;<br><br><br>    <span class="hljs-keyword">public</span> BigDecimal <span class="hljs-title function_">getTotalPrice</span><span class="hljs-params">()</span> &#123;<br>        totalPrice=<span class="hljs-keyword">new</span> <span class="hljs-title class_">BigDecimal</span>(<span class="hljs-number">0</span>);<br>        <span class="hljs-keyword">for</span>(Map.Entry&lt;Integer,CartItem&gt; entry : items.entrySet())&#123;<br>            totalPrice=totalPrice.add(entry.getValue().getTotalPrice());<br>        &#125;<br>        <span class="hljs-keyword">return</span> totalPrice;<br>    &#125;<br><br><br><br>    <span class="hljs-keyword">public</span> Map&lt;Integer, CartItem&gt; <span class="hljs-title function_">getItems</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> items;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setItems</span><span class="hljs-params">(Map&lt;Integer, CartItem&gt; items)</span> &#123;<br>        <span class="hljs-built_in">this</span>.items = items;<br>    &#125;<br>    <span class="hljs-comment">/*</span><br><span class="hljs-comment">    Map类型，key是商品编号，value是商品信息</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">private</span> Map&lt;Integer,CartItem&gt; items=<span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedHashMap</span>&lt;Integer,CartItem&gt;();<br><br><br>    <span class="hljs-comment">/*</span><br><span class="hljs-comment">    添加商品项</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addItem</span><span class="hljs-params">(CartItem carItem)</span>&#123;<br>        <span class="hljs-comment">//先看商品中是否已经添加过此商品，如果已经添加，则数量累加，总金额更新，如果没有添加过，直接放到集合中即可</span><br>        <span class="hljs-type">CartItem</span> <span class="hljs-variable">item</span> <span class="hljs-operator">=</span> items.get(carItem.getId());<br>         <span class="hljs-keyword">if</span>(item==<span class="hljs-literal">null</span>)&#123;<br>             <span class="hljs-comment">//如果之前没有添加过,则直接添加</span><br>             items.put(carItem.getId(),carItem);<br>         &#125;<br>         <span class="hljs-keyword">else</span><br>         &#123;<br>             <span class="hljs-comment">//之前添加过</span><br>             <span class="hljs-comment">//数量累加</span><br>             item.setCount(item.getCount()+<span class="hljs-number">1</span>);<br>             <span class="hljs-comment">//两个BigDecimal之间才能相乘，所以把count改为BigDecimal类型的</span><br>             item.setTotalPrice(item.getPrice().multiply(<span class="hljs-keyword">new</span> <span class="hljs-title class_">BigDecimal</span>(item.getCount())));<br><br>         &#125;<br><br>    &#125;<br>    <span class="hljs-comment">/*</span><br><span class="hljs-comment">    删除商品项</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">deleteItem</span><span class="hljs-params">(Integer id)</span>&#123;<br>          items.remove(id);<br>    &#125;<br>    <span class="hljs-comment">/*</span><br><span class="hljs-comment">    清空购物车</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">clear</span><span class="hljs-params">()</span>&#123;<br>items.clear();<br>    &#125;<br>    <span class="hljs-comment">/*</span><br><span class="hljs-comment">    修改商品数量</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">updateCount</span><span class="hljs-params">(Integer id,Integer count)</span>&#123;<br>    <span class="hljs-comment">//先查看购物车中是否有此商品，如果有，就修改商品数量，更新总金额</span><br>        CartItem item=items.get(id);<br>        <span class="hljs-keyword">if</span>(item!=<span class="hljs-literal">null</span>)&#123;<br>            item.setCount(count);<br>            item.setTotalPrice(item.getPrice().multiply(<span class="hljs-keyword">new</span> <span class="hljs-title class_">BigDecimal</span>(item.getCount())));<br>        &#125;<br>    &#125;<br><br><br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="添加商品到购物车"><a href="#添加商品到购物车" class="headerlink" title="添加商品到购物车"></a>添加商品到购物车</h2><p>使用请求转发是在request域中存储东西的时候用的</p>
<p>CartServlet中加一个方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">private</span> BookService bookService=<span class="hljs-keyword">new</span> <span class="hljs-title class_">BookServiceImpl</span>();<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">加入购物车</span><br><span class="hljs-comment"> */</span><br><br><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addItem</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>    <span class="hljs-comment">//获取请求的参数，商品编号</span><br>    <span class="hljs-type">int</span> id= WebUtils.parseInt(req.getParameter(<span class="hljs-string">&quot;id&quot;</span>),<span class="hljs-number">0</span>);<br>    <span class="hljs-comment">//调用bookService.queryBookById(id):得到Book的信息</span><br>    <span class="hljs-type">Book</span> <span class="hljs-variable">book</span> <span class="hljs-operator">=</span> bookService.queryBookById(id);<br>    <span class="hljs-comment">//把图书信息转化成为CartItem商品项</span><br>    CartItem cartItem=<span class="hljs-keyword">new</span> <span class="hljs-title class_">CartItem</span>(book.getId(),book.getName(),<span class="hljs-number">1</span>,book.getPrice(),book.getPrice());<br><br><br>    <span class="hljs-comment">/*</span><br><span class="hljs-comment">    用session存储cart信息</span><br><span class="hljs-comment">     */</span><br><br>    <span class="hljs-type">Cart</span> <span class="hljs-variable">cart</span> <span class="hljs-operator">=</span> (Cart) req.getSession().getAttribute(<span class="hljs-string">&quot;cart&quot;</span>);<br>    <span class="hljs-keyword">if</span>(cart==<span class="hljs-literal">null</span>)&#123;<br>        cart=<span class="hljs-keyword">new</span> <span class="hljs-title class_">Cart</span>();<br>        req.getSession().setAttribute(<span class="hljs-string">&quot;cart&quot;</span>,cart);<br>    &#125;<br>    <span class="hljs-comment">//调用Cart.addItem(CartItem)添加商品项</span><br>    cart.addItem(cartItem);<br>    System.out.println(cart);<br>    <span class="hljs-comment">//重定向回商品列表页面</span><br>    <span class="hljs-comment">/*</span><br><span class="hljs-comment">    req.getHeader(&quot;Referer&quot;)获取请求服务器的地址，然后下面再跳回到这个地址</span><br><span class="hljs-comment">     */</span><br>    resp.sendRedirect(req.getHeader(<span class="hljs-string">&quot;Referer&quot;</span>));<br>&#125;<br></code></pre></td></tr></table></figure>

<p>client中的index.jsp</p>
<figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs dust"><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">bookId</span>=<span class="hljs-string">$</span></span></span><span class="hljs-template-variable">&#123;book.id&#125;</span><span class="language-xml"><span class="hljs-tag"> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;addToCart&quot;</span>&gt;</span>加入购物车<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br></code></pre></td></tr></table></figure>



<p>给加入购物车加一个bookId属性，用来保存要加入购物车的书的id</p>
<p>那加入购物车的点击的事件</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;script type=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;<br>   $(function()&#123;<br>       $(<span class="hljs-string">&quot;button.addToCart&quot;</span>).click(function()&#123;<br><br>           <span class="hljs-comment">/**</span><br><span class="hljs-comment">            * 在事件响应的function函数中有一个this对象，就是是当前正在响应事件的dom对象，就是那个标签的dom对象，</span><br><span class="hljs-comment">            * <span class="hljs-doctag">@type</span> &#123;*|jQuery&#125;</span><br><span class="hljs-comment">            */</span><br>           <span class="hljs-comment">/*</span><br><span class="hljs-comment">           先把this改为jQery对象然后获取属性值</span><br><span class="hljs-comment">            */</span><br>           <span class="hljs-keyword">var</span> bookId=$(<span class="hljs-built_in">this</span>).attr(<span class="hljs-string">&quot;bookId&quot;</span>);<br>           <span class="hljs-comment">//跳转到</span><br>          location.href=<span class="hljs-string">&quot;http://localhost:8087/book2/CartServlet?action=addItem&amp;id=&quot;</span>+bookId;<br>       &#125;);<br><br><br>   &#125;);<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>



<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210091644544.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20221009164438915"></p>
<p>这个图意思就是点击加入购物车的时候，返回的地址是不一样的</p>
<p>但是可以通过Referer获取请求发起时，浏览器地址栏中的地址发给服务器，然后获取这个地址之后，再跳转回去</p>
<figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs reasonml">req.get<span class="hljs-constructor">Header(<span class="hljs-string">&quot;Referer&quot;</span>)</span><br></code></pre></td></tr></table></figure>

<h2 id="购物车展示"><a href="#购物车展示" class="headerlink" title="购物车展示"></a>购物车展示</h2><p>cart.jsp是购物车界面</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%@ taglib prefix=<span class="hljs-string">&quot;c&quot;</span> uri=<span class="hljs-string">&quot;http://java.sun.com/jsp/jstl/core&quot;</span> %&gt;<br>&lt;%@ page contentType=<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="hljs-string">&quot;java&quot;</span> %&gt;<br>&lt;!DOCTYPE html&gt;<br>&lt;html&gt;<br>&lt;head&gt;<br>&lt;meta charset=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;<br>&lt;title&gt;购物车&lt;/title&gt;<br>	&lt;!--使用静态包含引入css样式jQuery和base标签--&gt;<br>	&lt;%@ include file=<span class="hljs-string">&quot;/pages/common/head.jsp&quot;</span>%&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>	<br>	&lt;div id=<span class="hljs-string">&quot;header&quot;</span>&gt;<br>			&lt;img class=<span class="hljs-string">&quot;logo_img&quot;</span> alt=<span class="hljs-string">&quot;&quot;</span> src=<span class="hljs-string">&quot;static/img/logo.gif&quot;</span> &gt;<br>			&lt;span class=<span class="hljs-string">&quot;wel_word&quot;</span>&gt;购物车&lt;/span&gt;<br>		&lt;!--静态包含jsp文件--&gt;<br>		&lt;%@ include file=<span class="hljs-string">&quot;/pages/common/login_success_menu.jsp&quot;</span>%&gt;<br>	&lt;/div&gt;<br>	<br>	&lt;div id=<span class="hljs-string">&quot;main&quot;</span>&gt;<br>	<br>		&lt;table&gt;<br>			&lt;tr&gt;<br>				&lt;td&gt;商品名称&lt;/td&gt;<br>				&lt;td&gt;数量&lt;/td&gt;<br>				&lt;td&gt;单价&lt;/td&gt;<br>				&lt;td&gt;金额&lt;/td&gt;<br>				&lt;td&gt;操作&lt;/td&gt;<br>			&lt;/tr&gt;<br>			&lt;%--空的时候输出--%&gt;<br>			&lt;c:<span class="hljs-keyword">if</span> test=<span class="hljs-string">&quot;$&#123;empty sessionScope.cart.items&#125;&quot;</span>&gt;<br>				&lt;tr&gt;<br>					&lt;td colspan=<span class="hljs-string">&quot;5&quot;</span>&gt;&lt;a href=<span class="hljs-string">&quot;index.jsp&quot;</span>&gt;亲，当前购物车为空快去浏览商品吧&lt;/a&gt;&lt;/td&gt;<br><br>				&lt;/tr&gt;<br>			&lt;/c:<span class="hljs-keyword">if</span>&gt;<br><br><br>			&lt;%--非空的时候输出--%&gt;<br>			&lt;c:<span class="hljs-keyword">if</span> test=<span class="hljs-string">&quot;$&#123;not empty sessionScope.cart.items&#125;&quot;</span>&gt;<br>				&lt;c:forEach items=<span class="hljs-string">&quot;$&#123;sessionScope.cart.items&#125;&quot;</span> <span class="hljs-keyword">var</span>=<span class="hljs-string">&quot;entry&quot;</span>&gt;<br>					&lt;tr&gt;<br>						&lt;td&gt;$&#123;entry.value.name&#125;&lt;/td&gt;<br>						&lt;td&gt;$&#123;entry.value.count&#125;&lt;/td&gt;<br>						&lt;td&gt;$&#123;entry.value.price&#125;&lt;/td&gt;<br>						&lt;td&gt;$&#123;entry.value.totalPrice&#125;&lt;/td&gt;<br>						&lt;td&gt;&lt;a href=<span class="hljs-string">&quot;#&quot;</span>&gt;删除&lt;/a&gt;&lt;/td&gt;<br>					&lt;/tr&gt;<br>				&lt;/c:forEach&gt;<br><br>			&lt;/c:<span class="hljs-keyword">if</span>&gt;<br><br>		&lt;/table&gt;<br><br>		&lt;%--如果购物车是非空才输出下面的内容--%&gt;<br>		&lt;c:<span class="hljs-keyword">if</span> test=<span class="hljs-string">&quot;$&#123;not empty sessionScope.cart.items&#125;&quot;</span>&gt;<br>			&lt;div class=<span class="hljs-string">&quot;cart_info&quot;</span>&gt;<br>				&lt;span class=<span class="hljs-string">&quot;cart_span&quot;</span>&gt;购物车中共有&lt;span class=<span class="hljs-string">&quot;b_count&quot;</span>&gt;$&#123;sessionScope.cart.totalCount&#125;&lt;/span&gt;件商品&lt;/span&gt;<br>				&lt;span class=<span class="hljs-string">&quot;cart_span&quot;</span>&gt;总金额&lt;span class=<span class="hljs-string">&quot;b_price&quot;</span>&gt;$&#123;sessionScope.cart.totalPrice&#125;&lt;/span&gt;元&lt;/span&gt;<br>				&lt;span class=<span class="hljs-string">&quot;cart_span&quot;</span>&gt;&lt;a href=<span class="hljs-string">&quot;#&quot;</span>&gt;清空购物车&lt;/a&gt;&lt;/span&gt;<br>				&lt;span class=<span class="hljs-string">&quot;cart_span&quot;</span>&gt;&lt;a href=<span class="hljs-string">&quot;pages/cart/checkout.jsp&quot;</span>&gt;去结账&lt;/a&gt;&lt;/span&gt;<br>			&lt;/div&gt;<br>		&lt;/c:<span class="hljs-keyword">if</span>&gt;<br><br>	<br>	&lt;/div&gt;<br><br>	&lt;!--静态包含页脚的代码--&gt;<br>	&lt;%<span class="hljs-meta">@include</span> file=<span class="hljs-string">&quot;/pages/common/footer.jsp&quot;</span> %&gt;<br>&lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>

<figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs fortran">$&#123;<span class="hljs-built_in">entry</span>.<span class="hljs-keyword">value</span>.<span class="hljs-keyword">name</span>&#125;<br></code></pre></td></tr></table></figure>

<p>这个entry应该是Map.Entry对象，所以可以用entry.value取得value的值</p>
<h2 id="删除购物车中的商品"><a href="#删除购物车中的商品" class="headerlink" title="删除购物车中的商品"></a>删除购物车中的商品</h2><p>改删除的这个链接</p>
<figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs dust"><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;CartServlet?action=deleteItem&amp;id=$</span></span></span><span class="hljs-template-variable">&#123;entry.value.id&#125;</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span>&gt;</span>删除<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><br></code></pre></td></tr></table></figure>

<p>给链接加一个单击事件</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;script type=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;<br>   $(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br>      <span class="hljs-comment">//给删除绑定一个单击事件</span><br>      $(<span class="hljs-string">&quot;a.deleteItem&quot;</span>).<span class="hljs-title function_">click</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br><br>         <span class="hljs-comment">//返回true是单击事件发生，返回false是单击事件不发生</span><br>         <span class="hljs-keyword">return</span> <span class="hljs-title function_">confirm</span>(<span class="hljs-string">&quot;你确定要删除&quot;</span>+$(<span class="hljs-variable language_">this</span>).<span class="hljs-title function_">parent</span>().<span class="hljs-title function_">parent</span>().<span class="hljs-title function_">find</span>(<span class="hljs-string">&quot;td:first&quot;</span>).<span class="hljs-title function_">text</span>()+<span class="hljs-string">&quot;】吗&quot;</span>);<br>      &#125;);<br><br>   &#125;);<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<p>给a标签绑定单击事件，如果返回false就不会跳转了</p>
<p>confirm是崩出一个确认的弹框，有true和false两个选项，点true就返回true，点false就返回false</p>
<p>在js中return false的作用一般是用来取消默认动作的。比如你单击一个链接除了触发你（指定的）的onclick事件以外还要触发一个默认事件就是执行页面的跳转。所以如果你想取消对象的默认动作就可以return false。</p>
<p>比如表单的提交，如果有一个单击事件返回false，那么会阻止表单提交</p>
<p>CartServlet中添加一个方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">deleteItem</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br><br>    <span class="hljs-comment">//获取请求的参数，商品编号</span><br>    <span class="hljs-type">int</span> id= WebUtils.parseInt(req.getParameter(<span class="hljs-string">&quot;id&quot;</span>),<span class="hljs-number">0</span>);<br>    <span class="hljs-type">Cart</span> <span class="hljs-variable">cart</span> <span class="hljs-operator">=</span> (Cart) req.getSession().getAttribute(<span class="hljs-string">&quot;cart&quot;</span>);<br>    <span class="hljs-keyword">if</span>(cart!=<span class="hljs-literal">null</span>)&#123;<br>        <span class="hljs-comment">//删除 了购物车商品项</span><br>        cart.deleteItem(id);<br>    &#125;<br>    <span class="hljs-comment">//重定向到请求的那个地址</span><br>    resp.sendRedirect(req.getHeader(<span class="hljs-string">&quot;Referer&quot;</span>));<br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="清空购物车的实现"><a href="#清空购物车的实现" class="headerlink" title="清空购物车的实现"></a>清空购物车的实现</h2><p>CartServlet中加一个clear()方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">clear</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>    <span class="hljs-comment">//1.获取购物车对象</span><br>    <span class="hljs-type">Cart</span> <span class="hljs-variable">cart</span> <span class="hljs-operator">=</span> (Cart)req.getSession().getAttribute(<span class="hljs-string">&quot;cart&quot;</span>);<br>    <span class="hljs-keyword">if</span>(cart!=<span class="hljs-literal">null</span>)&#123;<br>        cart.clear();<br>        <span class="hljs-comment">//重定向会原来购物车展示的页面</span><br>        resp.sendRedirect(req.getHeader(<span class="hljs-string">&quot;Referer&quot;</span>));<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>



<p>清空购物车选项改一下链接</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;cart_span&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;deleteAll&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;CartServlet?action=clear&quot;</span>&gt;</span>清空购物车<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br></code></pre></td></tr></table></figure>



<p>给清空购物车定义一个单击事件，用来确认是否全部删除</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;script type=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;<br>   $(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br>      <span class="hljs-comment">//给删除绑定一个单击事件</span><br>      $(<span class="hljs-string">&quot;a.deleteItem&quot;</span>).<span class="hljs-title function_">click</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br><br>         <span class="hljs-comment">//返回true是单击事件发生，返回false是单击事件不发生</span><br>         <span class="hljs-keyword">return</span> <span class="hljs-title function_">confirm</span>(<span class="hljs-string">&quot;你确定要删除&quot;</span>+$(<span class="hljs-variable language_">this</span>).<span class="hljs-title function_">parent</span>().<span class="hljs-title function_">parent</span>().<span class="hljs-title function_">find</span>(<span class="hljs-string">&quot;td:first&quot;</span>).<span class="hljs-title function_">text</span>()+<span class="hljs-string">&quot;】吗&quot;</span>);<br>      &#125;);<br><br>              <span class="hljs-comment">//给清空购物车邦单击事件</span><br>      $(<span class="hljs-string">&quot;a.deleteAll&quot;</span>).<span class="hljs-title function_">click</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br>         <span class="hljs-keyword">return</span> <span class="hljs-title function_">confirm</span>(<span class="hljs-string">&quot;你确定要删除全部的图书么&quot;</span>);<br>      &#125;);<br>   &#125;);<br><br><br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<h2 id="修改购物车商品数量"><a href="#修改购物车商品数量" class="headerlink" title="修改购物车商品数量"></a>修改购物车商品数量</h2><p>CartServlet中添加一个方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">updateCount</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>    <span class="hljs-comment">//获取请求的参数，商品编号，商品数量</span><br>    <span class="hljs-type">int</span> id=WebUtils.parseInt(req.getParameter(<span class="hljs-string">&quot;id&quot;</span>),<span class="hljs-number">0</span>);<br>    <span class="hljs-type">int</span> count=WebUtils.parseInt(req.getParameter(<span class="hljs-string">&quot;count&quot;</span>),<span class="hljs-number">1</span>);<br>    <span class="hljs-comment">//获取购物车对象</span><br>    Cart cart=(Cart)req.getSession().getAttribute(<span class="hljs-string">&quot;cart&quot;</span>);<br>    <span class="hljs-comment">//修改商品数量</span><br>    <span class="hljs-keyword">if</span>(cart!=<span class="hljs-literal">null</span>) &#123;<br>        cart.updateCount(id, count);<br>        <span class="hljs-comment">//重定向会原来购物车展示的页面</span><br>        resp.sendRedirect(req.getHeader(<span class="hljs-string">&quot;Referer&quot;</span>));<br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure>





<p>cart.jsp中给输入框加一个内容改变事件</p>
<p>获得count是图书数量要改变成得值，num是书的名字，id是那本书的id，然后带着count和id访问CartServlet</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs js">$(<span class="hljs-string">&quot;.updateCount&quot;</span>).<span class="hljs-title function_">change</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br>	<span class="hljs-keyword">var</span> num=$(<span class="hljs-variable language_">this</span>).<span class="hljs-title function_">parent</span>().<span class="hljs-title function_">parent</span>().<span class="hljs-title function_">find</span>(<span class="hljs-string">&quot;td:first&quot;</span>).<span class="hljs-title function_">text</span>();<br>	<span class="hljs-keyword">var</span> count=<span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span>;<br>	<span class="hljs-keyword">var</span> id=$(<span class="hljs-variable language_">this</span>).<span class="hljs-title function_">attr</span>(<span class="hljs-string">&#x27;bookId&#x27;</span>);<br>	<span class="hljs-keyword">if</span>( <span class="hljs-title function_">confirm</span>(<span class="hljs-string">&quot;你确定要将这本【&quot;</span>+num+<span class="hljs-string">&quot;】的数量改编为【&quot;</span>+count+<span class="hljs-string">&quot;】&quot;</span>))&#123;<br>		<span class="hljs-comment">//发起请求给服务器保存修改</span><br>		location.<span class="hljs-property">href</span>=<span class="hljs-string">&quot;http://localhost:8087/book2/CartServlet?               action=updateCount&amp;count=&quot;</span>+count+<span class="hljs-string">&quot;&amp;id=&quot;</span>+id;<br>	&#125;<br>	<span class="hljs-keyword">else</span><br>	&#123;<br>		<span class="hljs-comment">//this.defaultValue它是表单项dom对象的属性，它表示默认的value属性值</span><br>		<span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span>=<span class="hljs-variable language_">this</span>.<span class="hljs-property">defaultValue</span>;<br>	&#125;<br>&#125;);<br></code></pre></td></tr></table></figure>





<p>把书的数量那里变一个输入框</p>
<p>bookId记录要改得书的id，value是书的数量要改成的值</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;c:forEach items=<span class="hljs-string">&quot;$&#123;sessionScope.cart.items&#125;&quot;</span> <span class="hljs-keyword">var</span>=<span class="hljs-string">&quot;entry&quot;</span>&gt;<br>   &lt;tr&gt;<br>      &lt;td&gt;$&#123;entry.value.name&#125;&lt;/td&gt;<br>      &lt;td&gt;<br>         &lt;input class=<span class="hljs-string">&quot;updateCount&quot;</span> style=<span class="hljs-string">&quot;width: 80px;&quot;</span><br>               bookId=<span class="hljs-string">&quot;$&#123;entry.value.id&#125;&quot;</span><br>               type=<span class="hljs-string">&quot;text&quot;</span> value=<span class="hljs-string">&quot;$&#123;entry.value.count&#125;&quot;</span>&gt;<br>      &lt;/td&gt;<br>      &lt;td&gt;$&#123;entry.value.price&#125;&lt;/td&gt;<br>      &lt;td&gt;$&#123;entry.value.totalPrice&#125;&lt;/td&gt;<br>      &lt;td&gt;&lt;a class=<span class="hljs-string">&quot;deleteItem&quot;</span> href=<span class="hljs-string">&quot;CartServlet?action=deleteItem&amp;id=$&#123;entry.value.id&#125;&quot;</span>&gt;删除&lt;/a&gt;&lt;/td&gt;<br>   &lt;/tr&gt;<br>&lt;/c:forEach&gt;<br></code></pre></td></tr></table></figure>

<h2 id="首页购物车数据展示"><a href="#首页购物车数据展示" class="headerlink" title="首页购物车数据展示"></a>首页购物车数据展示</h2><p>再CartServlet中的addItem方法添加这一行，来存储最新的加入购物车书的名称</p>
<figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs reasonml">req.get<span class="hljs-constructor">Session()</span>.set<span class="hljs-constructor">Attribute(<span class="hljs-string">&quot;lastName&quot;</span>,<span class="hljs-params">cartItem</span>.<span class="hljs-params">getName</span>()</span>);<br></code></pre></td></tr></table></figure>



<p>分为购物车为空和购物车不为空</p>
<figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs dust"><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">c:if</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;$</span></span></span><span class="hljs-template-variable">&#123;empty sessionScope.cart.items&#125;</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span>&gt;</span></span><br><span class="language-xml">    &lt;%--购物车为空的输出--%&gt;</span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;color: red&quot;</span>&gt;</span>当前购物车为空<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">c:if</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">c:if</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;$</span></span></span><span class="hljs-template-variable">&#123;not empty sessionScope.cart.items&#125;</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml">    &lt;%--购物车不为空的输出--%&gt;</span><br><span class="language-xml"> </span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>您的购物车中有$</span><span class="hljs-template-variable">&#123;sessionScope.cart.totalCount&#125;</span><span class="language-xml">件商品<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">   &lt;%--这是用来获取session中存储的最后添加的书的名字--%&gt;</span><br><span class="language-xml">        您刚刚将<span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;color: red&quot;</span>&gt;</span>$</span><span class="hljs-template-variable">&#123;sessionScope.lastName&#125;</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>加入到了购物车中</span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">c:if</span>&gt;</span></span><br></code></pre></td></tr></table></figure>

<h1 id="书城项目第七阶段"><a href="#书城项目第七阶段" class="headerlink" title="书城项目第七阶段"></a>书城项目第七阶段</h1><h2 id="订单模块的分析"><a href="#订单模块的分析" class="headerlink" title="订单模块的分析"></a>订单模块的分析</h2><p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210101439819.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20221010143914019"></p>
<p>订单项是订单的物品的详细信息，一个购物车属于是一个订单</p>
<h2 id="创建数据库表"><a href="#创建数据库表" class="headerlink" title="创建数据库表"></a>创建数据库表</h2><figure class="highlight autohotkey"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs autohotkey"> use book<span class="hljs-comment">;</span><br>    create table t_order(<br>`order_id` varchar(<span class="hljs-number">50</span>) primary key,<br>`create_time` datetime,<br>            `price` decimal(<span class="hljs-number">11</span>,<span class="hljs-number">2</span>),<br>`status` int,<br>            `user_id` int,<br>    foreign key(`user_id`) references t_user(`id`)<br>            )<span class="hljs-comment">;</span><br>    create table t_order_item(<br>`id` int primary key auto_increment,<br>`name` varchar(<span class="hljs-number">100</span>),<br>`count` int,<br>            `price` decimal(<span class="hljs-number">11</span>,<span class="hljs-number">2</span>),<br>`total_price` decimal(<span class="hljs-number">11</span>,<span class="hljs-number">2</span>),<br>`order_id` varchar(<span class="hljs-number">50</span>),<br>    foreign key(`order_id`) references t_order(`order_id`)<br>            )<span class="hljs-comment">;</span><br></code></pre></td></tr></table></figure>

<p>  foreign key(<code>order_id</code>) references t_order(<code>order_id</code>)建立外键</p>
<h2 id="编写订单两个模块的数据模型"><a href="#编写订单两个模块的数据模型" class="headerlink" title="编写订单两个模块的数据模型"></a>编写订单两个模块的数据模型</h2><p>Order</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><code class="hljs typescript">package com.<span class="hljs-property">atguigu</span>.<span class="hljs-property">pojo</span>;<br><br><span class="hljs-keyword">import</span> java.<span class="hljs-property">math</span>.<span class="hljs-property">BigDecimal</span>;<br><span class="hljs-keyword">import</span> java.<span class="hljs-property">util</span>.<span class="hljs-property">Date</span>;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Order</span> &#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-title class_">String</span> orderId;<br>    <span class="hljs-keyword">private</span> <span class="hljs-title class_">Date</span> createTime;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title class_">String</span> <span class="hljs-title function_">getOrderId</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-keyword">return</span> orderId;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">setOrderId</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> orderId</span>) &#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">orderId</span> = orderId;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-title class_">String</span> <span class="hljs-title function_">toString</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Order&#123;&quot;</span> +<br>                <span class="hljs-string">&quot;orderId=&#x27;&quot;</span> + orderId + <span class="hljs-string">&#x27;\&#x27;&#x27;</span> +<br>                <span class="hljs-string">&quot;, createTime=&quot;</span> + createTime +<br>                <span class="hljs-string">&quot;, price=&quot;</span> + price +<br>                <span class="hljs-string">&quot;, status=&quot;</span> + status +<br>                <span class="hljs-string">&quot;, userId=&quot;</span> + userId +<br>                <span class="hljs-string">&#x27;&#125;&#x27;</span>;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title class_">Order</span>() &#123;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title class_">Date</span> <span class="hljs-title function_">getCreateTime</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-keyword">return</span> createTime;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">setCreateTime</span>(<span class="hljs-params"><span class="hljs-built_in">Date</span> createTime</span>) &#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">createTime</span> = createTime;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title class_">BigDecimal</span> <span class="hljs-title function_">getPrice</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-keyword">return</span> price;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">setPrice</span>(<span class="hljs-params">BigDecimal price</span>) &#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">price</span> = price;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title class_">Integer</span> <span class="hljs-title function_">getStatus</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-keyword">return</span> status;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">setStatus</span>(<span class="hljs-params">Integer status</span>) &#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">status</span> = status;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title class_">Integer</span> <span class="hljs-title function_">getUserId</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-keyword">return</span> userId;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">setUserId</span>(<span class="hljs-params">Integer userId</span>) &#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">userId</span> = userId;<br>    &#125;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-title class_">BigDecimal</span> price;<br>    <span class="hljs-comment">//0未发货，1已发货，2表示以签收</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-title class_">Integer</span> status=<span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">private</span> <span class="hljs-title class_">Integer</span> userId;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>OrderItem</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.pojo;<br><br><span class="hljs-keyword">import</span> java.math.BigDecimal;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderItem</span> &#123;<br><span class="hljs-keyword">private</span> Integer id;<br><span class="hljs-keyword">private</span> String name;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">OrderItem</span><span class="hljs-params">()</span> &#123;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> Integer <span class="hljs-title function_">getId</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> id;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setId</span><span class="hljs-params">(Integer id)</span> &#123;<br>        <span class="hljs-built_in">this</span>.id = id;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> name;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setName</span><span class="hljs-params">(String name)</span> &#123;<br>        <span class="hljs-built_in">this</span>.name = name;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> Integer <span class="hljs-title function_">getCount</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> count;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setCount</span><span class="hljs-params">(Integer count)</span> &#123;<br>        <span class="hljs-built_in">this</span>.count = count;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> BigDecimal <span class="hljs-title function_">getPrice</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> price;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setPrice</span><span class="hljs-params">(BigDecimal price)</span> &#123;<br>        <span class="hljs-built_in">this</span>.price = price;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getOrderId</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> orderId;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setOrderId</span><span class="hljs-params">(String orderId)</span> &#123;<br>        <span class="hljs-built_in">this</span>.orderId = orderId;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;OrderItem&#123;&quot;</span> +<br>                <span class="hljs-string">&quot;id=&quot;</span> + id +<br>                <span class="hljs-string">&quot;, name=&#x27;&quot;</span> + name + <span class="hljs-string">&#x27;\&#x27;&#x27;</span> +<br>                <span class="hljs-string">&quot;, count=&quot;</span> + count +<br>                <span class="hljs-string">&quot;, price=&quot;</span> + price +<br>                <span class="hljs-string">&quot;, orderId=&#x27;&quot;</span> + orderId + <span class="hljs-string">&#x27;\&#x27;&#x27;</span> +<br>                <span class="hljs-string">&#x27;&#125;&#x27;</span>;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">OrderItem</span><span class="hljs-params">(Integer id, String name, Integer count, BigDecimal price, String orderId)</span> &#123;<br>        <span class="hljs-built_in">this</span>.id = id;<br>        <span class="hljs-built_in">this</span>.name = name;<br>        <span class="hljs-built_in">this</span>.count = count;<br>        <span class="hljs-built_in">this</span>.price = price;<br>        <span class="hljs-built_in">this</span>.orderId = orderId;<br>    &#125;<br><br>    <span class="hljs-keyword">private</span> Integer count;<br><span class="hljs-keyword">private</span> BigDecimal price;<br><span class="hljs-keyword">private</span> String orderId;<br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="编写Dao"><a href="#编写Dao" class="headerlink" title="编写Dao"></a>编写Dao</h2><p>OrderDao</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.dao;<br><br><span class="hljs-keyword">import</span> com.atguigu.pojo.Order;<br><br><span class="hljs-keyword">import</span> java.util.List;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">OrderDao</span> &#123;<br>    <span class="hljs-comment">//保存订单</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">saveOrder</span><span class="hljs-params">(Order order)</span>;<br>    <span class="hljs-comment">//查询全部订单</span><br>    <span class="hljs-keyword">public</span> List&lt;Order&gt; <span class="hljs-title function_">queryOrders</span><span class="hljs-params">()</span>;<br>      <span class="hljs-comment">//改变订单状态</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">changeStatus</span><span class="hljs-params">(<span class="hljs-type">int</span> orderId, <span class="hljs-type">int</span> status)</span>;<br>    <span class="hljs-comment">//根据用户id查找订单</span><br>    <span class="hljs-keyword">public</span> List&lt;Order&gt; <span class="hljs-title function_">queryOrdersByUserId</span><span class="hljs-params">(<span class="hljs-type">int</span> userId)</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>OrderDaoImpl</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.dao.impl;<br><br><span class="hljs-keyword">import</span> com.atguigu.dao.OrderDao;<br><span class="hljs-keyword">import</span> com.atguigu.pojo.Order;<br><br><span class="hljs-keyword">import</span> java.util.List;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderDaoImpl</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">BaseDao</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">OrderDao</span> &#123;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">saveOrder</span><span class="hljs-params">(Order order)</span> &#123;<br>        String sql=<span class="hljs-string">&quot;insert into t_order(order_id,create_time,price,status,user_id) values(?,?,?,?,?)&quot;</span>;<br>       <span class="hljs-keyword">return</span> update(sql,order.getOrderId(),order.getCreateTime(),order.getPrice(),order.getStatus(),order.getUserId());<br><br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> List&lt;Order&gt; <span class="hljs-title function_">queryOrders</span><span class="hljs-params">()</span> &#123;<br>        String sql=<span class="hljs-string">&quot;select order_id orderId,create_time createTime,price,status,user_Id userId  from t_order&quot;</span>;<br>       <span class="hljs-keyword">return</span> queryForList(Order.class,sql);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">changeStatus</span><span class="hljs-params">(<span class="hljs-type">int</span> orderId, <span class="hljs-type">int</span> status)</span> &#123;<br>        String sql=<span class="hljs-string">&quot;update t_order set status=? where order_id=?&quot;</span>;<br>        <span class="hljs-keyword">return</span> update(sql,status,orderId);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> List&lt;Order&gt; <span class="hljs-title function_">queryOrdersByUserId</span><span class="hljs-params">(<span class="hljs-type">int</span> userId)</span> &#123;<br>        String sql=<span class="hljs-string">&quot;select order_id orderId,create_time createTime,price,status,user_id userId from t_order where user_id=?&quot;</span>;<br>        <span class="hljs-keyword">return</span> queryForList(Order.class,sql,userId);<br><br>    &#125;<br><br><br>&#125;<br></code></pre></td></tr></table></figure>

<p>在使用queryForList和queryForOne来获得javaBean对象的时候，这个javaBean类中属性的名字必须和select后面的列名相同，或者是起名让他相同</p>
<p>sql的update语句完全可以只改变一两个属性</p>
<p>OrderItemDao</p>
<figure class="highlight aspectj"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs aspectj"><span class="hljs-keyword">package</span> com.atguigu.dao;<br><br><span class="hljs-keyword">import</span> com.atguigu.pojo.OrderItem;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">OrderItemDao</span> </span>&#123;<br>    <span class="hljs-comment">/*</span><br><span class="hljs-comment">    保存订单项</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">saveOrderItem</span><span class="hljs-params">(OrderItem orderItem)</span></span>;<br>    <span class="hljs-comment">/*</span><br><span class="hljs-comment">    根据订单号查询订单明细</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-function">OrderItem <span class="hljs-title">queryOrderItemsByOrderId</span><span class="hljs-params">(<span class="hljs-keyword">int</span> orderId)</span></span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>OrderItemDaoImpl</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.dao.impl;<br><br><span class="hljs-keyword">import</span> com.atguigu.dao.OrderItemDao;<br><span class="hljs-keyword">import</span> com.atguigu.pojo.OrderItem;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderItemDaoImpl</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">BaseDao</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">OrderItemDao</span> &#123;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">saveOrderItem</span><span class="hljs-params">(OrderItem orderItem)</span> &#123;<br>        String sql=<span class="hljs-string">&quot;insert into t_order_item(name,count,price,total_price,order_id) values(?,?,?,?,?)&quot;</span>;<br>        <span class="hljs-keyword">return</span> update(sql,orderItem.getName(),orderItem.getCount(),orderItem.getPrice(),orderItem.getTotalPrice(),orderItem.getOrderId());<br><br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> OrderItem <span class="hljs-title function_">queryOrderItemsByOrderId</span><span class="hljs-params">(<span class="hljs-type">int</span> orderId)</span> &#123;<br>        String sql=<span class="hljs-string">&quot;select id,name,count,price,total_price totalPrice,order_id orderId from t_order_item where order_id=?&quot;</span>;<br>        <span class="hljs-keyword">return</span>  queryForOne(OrderItem.class,sql,orderId);<br>    &#125;<br><br><br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="Service的编写"><a href="#Service的编写" class="headerlink" title="Service的编写"></a>Service的编写</h2><p>OrderService</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.service;<br><br><span class="hljs-keyword">import</span> com.atguigu.pojo.Cart;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">OrderService</span> &#123;<br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">createOrder</span><span class="hljs-params">(Cart cart, <span class="hljs-type">int</span> userId)</span>;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">showAllOrders</span><span class="hljs-params">()</span>;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">sendOrder</span><span class="hljs-params">(<span class="hljs-type">int</span> orderId)</span>;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">showOrderDetail</span><span class="hljs-params">(<span class="hljs-type">int</span> orderId)</span>;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">showMyOrders</span><span class="hljs-params">(<span class="hljs-type">int</span> userId)</span>;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">receiveOrder</span><span class="hljs-params">(<span class="hljs-type">int</span> orderId)</span>;<br>&#125;<br></code></pre></td></tr></table></figure>





<p>OrderServiceImpl</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.service.impl;<br><br><span class="hljs-keyword">import</span> com.atguigu.dao.impl.OrderDaoImpl;<br><span class="hljs-keyword">import</span> com.atguigu.dao.impl.OrderItemDaoImpl;<br><span class="hljs-keyword">import</span> com.atguigu.pojo.Cart;<br><span class="hljs-keyword">import</span> com.atguigu.pojo.CartItem;<br><span class="hljs-keyword">import</span> com.atguigu.pojo.Order;<br><span class="hljs-keyword">import</span> com.atguigu.pojo.OrderItem;<br><span class="hljs-keyword">import</span> com.atguigu.service.OrderService;<br><br><span class="hljs-keyword">import</span> java.util.List;<br><span class="hljs-keyword">import</span> java.util.Map;<br><br><span class="hljs-keyword">import</span> java.util.Date;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">OrderService</span> &#123;<br>         <span class="hljs-keyword">private</span> OrderDaoImpl orderDao=<span class="hljs-keyword">new</span> <span class="hljs-title class_">OrderDaoImpl</span>();<br>         <span class="hljs-keyword">private</span> OrderItemDaoImpl orderItemDao=<span class="hljs-keyword">new</span> <span class="hljs-title class_">OrderItemDaoImpl</span>();<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">createOrder</span><span class="hljs-params">(Cart cart, <span class="hljs-type">int</span> userId)</span> &#123;<br>        <span class="hljs-comment">//订单号，唯一性  用时间戳加userId保证唯一性</span><br>        String orderId=System.currentTimeMillis()+<span class="hljs-string">&quot;&quot;</span>+userId;<br>        <span class="hljs-comment">//创建一个订单对象</span><br>        Order order=<span class="hljs-keyword">new</span> <span class="hljs-title class_">Order</span>(orderId,<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(),cart.getTotalPrice(),<span class="hljs-number">0</span>,userId);<br>        <span class="hljs-comment">//保存订单</span><br>        orderDao.saveOrder(order);<br><br>        <span class="hljs-comment">//遍历购物车中每一个商品转换成为订单项保存到数据库</span><br>        <span class="hljs-keyword">for</span>(Map.Entry&lt;Integer, CartItem&gt;entry:cart.getItems().entrySet())&#123;<br>            <span class="hljs-comment">//获取每一个购物车中的商品项</span><br>            CartItem cartItem=entry.getValue();<br>           <span class="hljs-comment">//然后转化为每一个订单项</span><br>            OrderItem orderItem=<span class="hljs-keyword">new</span> <span class="hljs-title class_">OrderItem</span>(<span class="hljs-literal">null</span>,cartItem.getName(),cartItem.getTotalPrice(),cart.getTotalCount(),cartItem.getPrice(),orderId);<br>            <span class="hljs-comment">//保存到数据库</span><br>            orderItemDao.saveOrderItem(orderItem);<br>        &#125;<br>        <span class="hljs-comment">//清空购物车</span><br>        cart.clear();<br>        <span class="hljs-keyword">return</span> orderId;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">showAllOrders</span><span class="hljs-params">()</span> &#123;<br>        List&lt;Order&gt; orders = orderDao.queryOrders();<br>        <span class="hljs-keyword">for</span> (Order order : orders) &#123;<br>            System.out.println(order);<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">sendOrder</span><span class="hljs-params">(<span class="hljs-type">int</span> orderId)</span> &#123;<br>orderDao.changeStatus(orderId,<span class="hljs-number">1</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">showOrderDetail</span><span class="hljs-params">(<span class="hljs-type">int</span> orderId)</span> &#123;<br>        <span class="hljs-type">OrderItem</span> <span class="hljs-variable">orderItem</span> <span class="hljs-operator">=</span> orderItemDao.queryOrderItemsByOrderId(orderId);<br>    System.out.println(orderItem);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">showMyOrders</span><span class="hljs-params">(<span class="hljs-type">int</span> userId)</span> &#123;<br>        List&lt;Order&gt; orders = orderDao.queryOrdersByUserId(userId);<br>        <span class="hljs-keyword">for</span> (Order order : orders) &#123;<br>            System.out.println(order);<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">receiveOrder</span><span class="hljs-params">(<span class="hljs-type">int</span> orderId)</span> &#123;<br>orderDao.changeStatus(orderId,<span class="hljs-number">2</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="结账功能实现"><a href="#结账功能实现" class="headerlink" title="结账功能实现"></a>结账功能实现</h2><p>改一下Service中的createOrder方法</p>
<p>实现结账后同时更新库存和销量</p>
<figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs reasonml">@Override<br>public String create<span class="hljs-constructor">Order(Cart <span class="hljs-params">cart</span>, <span class="hljs-params">int</span> <span class="hljs-params">userId</span>)</span> &#123;<br>    <span class="hljs-comment">//订单号，唯一性  用时间戳加userId保证唯一性</span><br>    String orderId=<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>current<span class="hljs-constructor">TimeMillis()</span>+<span class="hljs-string">&quot;&quot;</span>+userId;<br>    <span class="hljs-comment">//创建一个订单对象</span><br>    Order order=<span class="hljs-keyword">new</span> <span class="hljs-constructor">Order(<span class="hljs-params">orderId</span>,<span class="hljs-params">new</span> Date()</span>,cart.get<span class="hljs-constructor">TotalPrice()</span>,<span class="hljs-number">0</span>,userId);<br>    <span class="hljs-comment">//保存订单</span><br>    orderDao.save<span class="hljs-constructor">Order(<span class="hljs-params">order</span>)</span>;<br><br>    <span class="hljs-comment">//遍历购物车中每一个商品转换成为订单项保存到数据库</span><br>    <span class="hljs-keyword">for</span>(Map.Entry&lt;Integer, CartItem&gt;entry:cart.get<span class="hljs-constructor">Items()</span>.entry<span class="hljs-constructor">Set()</span>)&#123;<br>        <span class="hljs-comment">//获取每一个购物车中的商品项</span><br>        CartItem cartItem=entry.get<span class="hljs-constructor">Value()</span>;<br>       <span class="hljs-comment">//然后转化为每一个订单项</span><br>        OrderItem orderItem=<span class="hljs-keyword">new</span> <span class="hljs-constructor">OrderItem(<span class="hljs-params">null</span>,<span class="hljs-params">cartItem</span>.<span class="hljs-params">getName</span>()</span>,cartItem.get<span class="hljs-constructor">TotalPrice()</span>,cart.get<span class="hljs-constructor">TotalCount()</span>,cartItem.get<span class="hljs-constructor">Price()</span>,orderId);<br>        <span class="hljs-comment">//保存到数据库</span><br>        orderItemDao.save<span class="hljs-constructor">OrderItem(<span class="hljs-params">orderItem</span>)</span>;<br><br>        <span class="hljs-comment">//更新库存和销量</span><br>        Book book=bookDao.query<span class="hljs-constructor">BookById(<span class="hljs-params">cartItem</span>.<span class="hljs-params">getId</span>()</span>);<br>        book.set<span class="hljs-constructor">Sales(<span class="hljs-params">book</span>.<span class="hljs-params">getSales</span>()</span>+cartItem.get<span class="hljs-constructor">Count()</span>);<br>        book.set<span class="hljs-constructor">Stock(<span class="hljs-params">book</span>.<span class="hljs-params">getStock</span>()</span>-cartItem.get<span class="hljs-constructor">Count()</span>);<br>    &#125;<br>    <span class="hljs-comment">//清空购物车</span><br>    cart.clear<span class="hljs-literal">()</span>;<br>    return orderId;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>OrderServlet</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.web;<br><br><span class="hljs-keyword">import</span> com.atguigu.pojo.Cart;<br><span class="hljs-keyword">import</span> com.atguigu.pojo.User;<br><span class="hljs-keyword">import</span> com.atguigu.service.OrderService;<br><span class="hljs-keyword">import</span> com.atguigu.service.impl.OrderServiceImpl;<br><br><span class="hljs-keyword">import</span> javax.servlet.ServletException;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequest;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletResponse;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderServlet</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">BaseServlet</span>&#123;<br>    <span class="hljs-keyword">private</span> OrderService orderService=<span class="hljs-keyword">new</span> <span class="hljs-title class_">OrderServiceImpl</span>();<br>    <span class="hljs-comment">/*</span><br><span class="hljs-comment">    生成订单</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">createOrder</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>            <span class="hljs-comment">//先获取Cart购物车对象</span><br>             Cart cart=(Cart)req.getSession().getAttribute(<span class="hljs-string">&quot;cart&quot;</span>);<br>        <span class="hljs-comment">//获取Userid</span><br>        User loginUser=(User)req.getSession().getAttribute(<span class="hljs-string">&quot;user&quot;</span>);<br>        <span class="hljs-comment">//如果没有注册就去注册一下</span><br>        <span class="hljs-keyword">if</span>(loginUser==<span class="hljs-literal">null</span>)&#123;<br>            req.getRequestDispatcher(<span class="hljs-string">&quot;/pages/user/login.jsp&quot;</span>).forward(req,resp);<br>        &#125;<br>        Integer userId=loginUser.getId();<br><br>        <span class="hljs-comment">//调用orderService.createOrder(Cart,Userid)</span><br>         <span class="hljs-comment">//得到获得的订单号</span><br>         String orderId=orderService.createOrder(cart,userId);<br>         <span class="hljs-comment">//将订单号保存在session域中</span><br>         req.getSession().setAttribute(<span class="hljs-string">&quot;orderId&quot;</span>,orderId);<br>         <span class="hljs-comment">//请求转发</span><br>          resp.sendRedirect(req.getContextPath()+<span class="hljs-string">&quot;/pages/cart/checkout.jsp&quot;</span>);<br>         <span class="hljs-keyword">return</span>;<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure>



<p>checkout.jsp</p>
<p>显示订单的号</p>
<figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs dust"><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>你的订单已结算，订单号为$</span><span class="hljs-template-variable">&#123;sessionScope.orderId&#125;</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br></code></pre></td></tr></table></figure>

<p>cart.jsp</p>
<p>改去结账的链接</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs angelscript">&lt;span <span class="hljs-keyword">class</span>=&quot;<span class="hljs-symbol">cart_span</span>&quot;&gt;&lt;<span class="hljs-symbol">a</span> <span class="hljs-symbol">href</span>=&quot;<span class="hljs-symbol">OrderServlet</span>?<span class="hljs-symbol">action</span>=<span class="hljs-symbol">createOrder</span>&quot;&gt;去结账&lt;/<span class="hljs-symbol">a</span>&gt;&lt;/<span class="hljs-symbol">span</span>&gt;<br></code></pre></td></tr></table></figure>



<p>一开始一直不行，经过我的不断测试发现其实userId是空的，然后看到UserServlet中的保存user的时候，保存的是没有id的</p>
<p>于是对这个保存id的操作修改，用userDao从数据库中找到了有id的user，保存到session域中</p>
<figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs dockerfile">//用Dao找到那个有id的<span class="hljs-keyword">User</span>而不是用loginUser这个没id的<span class="hljs-keyword">User</span><br>            <span class="hljs-keyword">User</span> <span class="hljs-keyword">user</span>=userDao.queryByUsername(username);<br></code></pre></td></tr></table></figure>

<p>UserServlet</p>
<figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs reasonml"> <span class="hljs-keyword">private</span> UserService userService=<span class="hljs-keyword">new</span> <span class="hljs-constructor">UserServiceImpl()</span>;<br>    <span class="hljs-keyword">private</span> UserDao userDao=<span class="hljs-keyword">new</span> <span class="hljs-constructor">UserDaoImpl()</span>;<br>    protected void login(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException &#123;<br><span class="hljs-comment">//获取用户名和密码参数</span><br>        String username=req.get<span class="hljs-constructor">Parameter(<span class="hljs-string">&quot;username&quot;</span>)</span>;<br>        String password=req.get<span class="hljs-constructor">Parameter(<span class="hljs-string">&quot;password&quot;</span>)</span>;<br>        User loginUser=<span class="hljs-keyword">new</span> <span class="hljs-constructor">User(<span class="hljs-params">null</span>,<span class="hljs-params">username</span>,<span class="hljs-params">password</span>,<span class="hljs-params">null</span>)</span>;<br>        <span class="hljs-comment">//如果用户名或密码错误</span><br>        <span class="hljs-keyword">if</span>(userService.login(loginUser)==null)&#123;<br>            <span class="hljs-comment">//把错误信息，和回显的表单项信息，保存到request域中</span><br>            req.set<span class="hljs-constructor">Attribute(<span class="hljs-string">&quot;msg&quot;</span>,<span class="hljs-string">&quot;用户名或者密码错误&quot;</span>)</span>;<br>            req.set<span class="hljs-constructor">Attribute(<span class="hljs-string">&quot;username&quot;</span>,<span class="hljs-params">username</span>)</span>;<br>            req.get<span class="hljs-constructor">RequestDispatcher(<span class="hljs-string">&quot;/pages/user/login.jsp&quot;</span>)</span>.forward(req,resp);<br>        &#125;<br>        <span class="hljs-comment">//如果用户名和密码正确</span><br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            <span class="hljs-comment">//用Dao找到那个有id的User而不是用loginUser这个没id的User</span><br>            User user=userDao.query<span class="hljs-constructor">ByUsername(<span class="hljs-params">username</span>)</span>;<br>            <span class="hljs-comment">//保存用户的登录信息</span><br>            <span class="hljs-comment">//因为每一个登陆成功页面都会显示名字，所以不能用request，request只有在一次请求中有效，再请求别的页面就无效了</span><br>            <span class="hljs-comment">//所以用Session</span><br>            req.get<span class="hljs-constructor">Session()</span>.set<span class="hljs-constructor">Attribute(<span class="hljs-string">&quot;user&quot;</span>,<span class="hljs-params">user</span>)</span>;<br>            req.get<span class="hljs-constructor">RequestDispatcher(<span class="hljs-string">&quot;/pages/user/login_success.jsp&quot;</span>)</span>.forward(req,resp);<br>        &#125;<br>    &#125;<br></code></pre></td></tr></table></figure>







<h1 id="Filter过滤器"><a href="#Filter过滤器" class="headerlink" title="Filter过滤器"></a>Filter过滤器</h1><p>1、Filter 过滤器它是 JavaWeb 的三大组件之一。三大组件分别是：Servlet 程序、Listener 监听器、Filter 过滤器 </p>
<p>2、Filter 过滤器它是 JavaEE 的规范。也就是接口 </p>
<p>3、Filter 过滤器它的作用是：拦截请求，过滤响应。</p>
<p>拦截请求常见的应用场景有： 1、权限检查 2、日记操作 3、事务管理 ……等等</p>
<h2 id="Filter初体验"><a href="#Filter初体验" class="headerlink" title="Filter初体验"></a>Filter初体验</h2><p>要求：在你的 web 工程下，有一个 admin 目录。这个 admin 目录下的所有资源（html 页面、jpg 图片、jsp 文件、等等）都必 须是用户登录之后才允许访问。</p>
<p>思考：根据之前我们学过内容。我们知道，用户登录之后都会把用户登录的信息保存到 Session 域中。所以要检查用户是否 登录，可以判断 Session 中否包含有用户登录的信息即可！！！</p>
<p>实现一</p>
<p>如果用户没有用户名，也就是没登录，跳转到登录页面</p>
<p>局限：只有jsp文件才有</p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">&lt;%<br>    <span class="hljs-keyword">Object</span> <span class="hljs-keyword">user</span>=<span class="hljs-keyword">session</span>.getAttribute(&quot;user&quot;);<br>    //如果等于<span class="hljs-keyword">null</span>，说明还没有登陆<br>    <span class="hljs-keyword">if</span>(<span class="hljs-keyword">user</span>==<span class="hljs-keyword">null</span>)&#123;<br>        request.getRequestDispatcher(&quot;/login.jsp&quot;).forward(request,response);<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>%&gt;<br></code></pre></td></tr></table></figure>

<p>用Filter实现这个功能</p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210102222785.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20221010222228487"></p>
<p>AdminFilter实现Filter</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.filter;<br><br><br><span class="hljs-keyword">import</span> javax.servlet.*;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequest;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpSession;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AdminFilter</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Filter</span> &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">init</span><span class="hljs-params">(FilterConfig filterConfig)</span> <span class="hljs-keyword">throws</span> ServletException &#123;<br><br>    &#125;<br><br>    <span class="hljs-comment">/*</span><br><span class="hljs-comment">    doFilter方法，专门用于拦截请求，可以做权限检查</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doFilter</span><span class="hljs-params">(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)</span> <span class="hljs-keyword">throws</span> IOException, ServletException &#123;<br>       System.out.println(<span class="hljs-string">&quot;foFilter&quot;</span>);<br>        <span class="hljs-comment">//获取Session</span><br>        HttpServletRequest httpServletRequest=(HttpServletRequest) servletRequest;<br>       HttpSession session=httpServletRequest.getSession();<br>        Object user=session.getAttribute(<span class="hljs-string">&quot;user&quot;</span>);<br>        <span class="hljs-comment">//如果等于null，说明还没有登陆</span><br>        <span class="hljs-keyword">if</span>(user==<span class="hljs-literal">null</span>)&#123;<br>            servletRequest.getRequestDispatcher(<span class="hljs-string">&quot;/login.jsp&quot;</span>).forward(servletRequest,servletResponse);<br>            <span class="hljs-keyword">return</span>;<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            <span class="hljs-comment">//让程序继续往下访问用户的目标资源</span><br>            filterChain.doFilter(servletRequest,servletResponse);<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">destroy</span><span class="hljs-params">()</span> &#123;<br><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>web.xml</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs xml"> <span class="hljs-comment">&lt;!--filter标签用于配置一个Filter过滤器--&gt;</span><br> <span class="hljs-tag">&lt;<span class="hljs-name">filter</span>&gt;</span><br>     <span class="hljs-comment">&lt;!--给filter起一个别名--&gt;</span><br>     <span class="hljs-tag">&lt;<span class="hljs-name">filter-name</span>&gt;</span><br>         AdminFilter<br>     <span class="hljs-tag">&lt;/<span class="hljs-name">filter-name</span>&gt;</span><br>     <span class="hljs-comment">&lt;!--配置filter全类名--&gt;</span><br>     <span class="hljs-tag">&lt;<span class="hljs-name">filter-class</span>&gt;</span><br>         com.atguigu.filter.AdminFilter<br>     <span class="hljs-tag">&lt;/<span class="hljs-name">filter-class</span>&gt;</span><br><br><br> <span class="hljs-tag">&lt;/<span class="hljs-name">filter</span>&gt;</span><br> <span class="hljs-comment">&lt;!--filter-mapping配置Filter过滤器的拦截路径--&gt;</span><br> <span class="hljs-tag">&lt;<span class="hljs-name">filter-mapping</span>&gt;</span><br>     <span class="hljs-comment">&lt;!--filter-name表示当前的拦截路径给哪个filter使用--&gt;</span><br>     <span class="hljs-tag">&lt;<span class="hljs-name">filter-name</span>&gt;</span><br>AdminFilter<br>     <span class="hljs-tag">&lt;/<span class="hljs-name">filter-name</span>&gt;</span><br>     <span class="hljs-comment">&lt;!--url-pattern配置拦截路径  /admin/*  表示请求地址为web目录下admin下的全部 --&gt;</span><br>     <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span><br>         /admin/*<br>     <span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br> <span class="hljs-tag">&lt;/<span class="hljs-name">filter-mapping</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>a.sjp</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%--<br>  Created by IntelliJ IDEA.<br>  User: #赵梓皓&amp;<br>  Date: <span class="hljs-number">2022</span>/<span class="hljs-number">10</span>/<span class="hljs-number">10</span><br>  Time: <span class="hljs-number">19</span>:<span class="hljs-number">58</span><br>  To change <span class="hljs-built_in">this</span> template use File | Settings | File Templates.<br>--%&gt;<br>&lt;%@ page contentType=<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="hljs-string">&quot;java&quot;</span> %&gt;<br>&lt;html&gt;<br>&lt;head&gt;<br>    &lt;title&gt;Title&lt;/title&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>&lt;%<br>    System.out.println(<span class="hljs-string">&quot;a.jsp页面执行了&quot;</span>);<br>    Object user=session.getAttribute(<span class="hljs-string">&quot;user&quot;</span>);<br>    <span class="hljs-comment">//如果等于null，说明还没有登陆</span><br>    <span class="hljs-keyword">if</span>(user==<span class="hljs-literal">null</span>)&#123;<br>        request.getRequestDispatcher(<span class="hljs-string">&quot;/login.jsp&quot;</span>).forward(request,response);<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>%&gt;<br>&lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>

<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs awk">[Title](http:<span class="hljs-regexp">//</span>localhost:<span class="hljs-number">8080</span><span class="hljs-regexp">/Filter/</span>admin/a.jsp)<br>访问这个的时候会访问不到，被Filter拦截，跳到login.jsp<br></code></pre></td></tr></table></figure>

<h2 id="完整的用户登录和权限检查"><a href="#完整的用户登录和权限检查" class="headerlink" title="完整的用户登录和权限检查"></a>完整的用户登录和权限检查</h2><p>Filter 过滤器的使用步骤： </p>
<p>1、编写一个类去实现 Filter 接口 </p>
<p>2、实现过滤方法 doFilter() </p>
<p>3、到 web.xml 中去配置 Filter 的拦截路径</p>
<p>login.jsp</p>
<figure class="highlight mojolicious"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs mojolicious"><span class="language-xml">&lt;%</span><span class="language-perl">--</span><br><span class="language-perl">  Created by IntelliJ IDEA.</span><br><span class="language-perl">  User: <span class="hljs-comment">#赵梓皓&amp;</span></span><br><span class="language-perl">  Date: <span class="hljs-number">2022</span>/<span class="hljs-number">10</span>/<span class="hljs-number">10</span></span><br><span class="language-perl">  Time: <span class="hljs-number">20</span>:08</span><br><span class="language-perl">  To change this template <span class="hljs-keyword">use</span> File | Settings | File Templates.</span><br><span class="language-perl">--</span><span class="language-xml">%&gt;</span><br><span class="language-xml">&lt;%</span><span class="language-perl">@ page contentType=<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="hljs-string">&quot;java&quot;</span> </span><span class="language-xml">%&gt;</span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;http://localhost:8080/Filter/loginServlet&quot;</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;get&quot;</span>&gt;</span></span><br><span class="language-xml">    用户名 <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;username&quot;</span>/&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span></span><br><span class="language-xml">    密码  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">tyep</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;password&quot;</span>/&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span>/&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></span><br></code></pre></td></tr></table></figure>

<p>LoginServlet</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.servlet;<br><br><span class="hljs-keyword">import</span> javax.servlet.ServletException;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServlet;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequest;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletResponse;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LoginServlet</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">HttpServlet</span> &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doGet</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>        <span class="hljs-comment">//解决相应乱码问题</span><br>        resp.setContentType(<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span>);<br>        String username=req.getParameter(<span class="hljs-string">&quot;username&quot;</span>);<br>        String password=req.getParameter(<span class="hljs-string">&quot;password&quot;</span>);<br><br>        <span class="hljs-keyword">if</span>(<span class="hljs-string">&quot;wzg168&quot;</span>.equals(username)&amp;&amp;<span class="hljs-string">&quot;123456&quot;</span>.equals(password))&#123;<br>            req.getSession().setAttribute(<span class="hljs-string">&quot;user&quot;</span>,username);<br>              resp.getWriter().write(<span class="hljs-string">&quot;登陆成功&quot;</span>);<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            req.getRequestDispatcher(<span class="hljs-string">&quot;/login.jsp&quot;</span>).forward(req,resp);<br>        &#125;<br><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>登录之后就可以访问admin下面的内容了</p>
<h2 id="Filter的生命周期"><a href="#Filter的生命周期" class="headerlink" title="Filter的生命周期"></a>Filter的生命周期</h2><p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210111119042.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20221011111954101"></p>
<h2 id="FilterConfig类"><a href="#FilterConfig类" class="headerlink" title="FilterConfig类"></a>FilterConfig类</h2><p>FilterConfig 类见名知义，它是 Filter 过滤器的配置文件类。 </p>
<p>Tomcat 每次创建 Filter 的时候，也会同时创建一个 FilterConfig 类，这里包含了 Filter 配置文件的配置信息</p>
<p>FilterConfig 类的作用是获取 filter 过滤器的配置内容</p>
<p> 1、获取 Filter 的名称 filter-name 的内容 </p>
<p>2、获取在 Filter 中配置的 init-param 初始化参数 </p>
<p>3、获取 ServletContext 对象</p>
<p>测试FilterConfig类</p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"> @Override<br>    <span class="hljs-built_in">public</span> <span class="hljs-type">void</span> init(FilterConfig filterConfig) throws ServletException &#123;<br>       // <span class="hljs-number">1</span>、获取 <span class="hljs-keyword">Filter</span> 的名称 <span class="hljs-keyword">filter</span>-<span class="hljs-type">name</span> 的内容<br><span class="hljs-keyword">System</span>.<span class="hljs-keyword">out</span>.println(&quot;2.Filter的init(FilterConfig filterConfig)初始化&quot;);<br><span class="hljs-keyword">System</span>.<span class="hljs-keyword">out</span>.println(&quot;filter-name的值&quot;+filterConfig.getFilterName());<br>        //<span class="hljs-number">2</span>、获取在 web,<span class="hljs-type">xml</span>  <span class="hljs-keyword">Filter</span> 中配置的 init-param 初始化参数<br><span class="hljs-keyword">System</span>.<span class="hljs-keyword">out</span>.println(&quot;初始化参数username的值&quot;+filterConfig.getInitParameter(&quot;username&quot;));<br><span class="hljs-keyword">System</span>.<span class="hljs-keyword">out</span>.println(&quot;初始化参数url的值&quot;+filterConfig.getInitParameter(&quot;url&quot;));<br>        //<span class="hljs-number">3</span>、获取 ServletContext 对象<br>       <span class="hljs-keyword">System</span>.<span class="hljs-keyword">out</span>.println(filterConfig.getServletContext());<br>    &#125;<br></code></pre></td></tr></table></figure>

<p>web.xml文件中加上init-param参数</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs xml"> <span class="hljs-comment">&lt;!--filter标签用于配置一个Filter过滤器--&gt;</span><br> <span class="hljs-tag">&lt;<span class="hljs-name">filter</span>&gt;</span><br>     <span class="hljs-comment">&lt;!--给filter起一个别名--&gt;</span><br>     <span class="hljs-tag">&lt;<span class="hljs-name">filter-name</span>&gt;</span><br>         AdminFilter<br>     <span class="hljs-tag">&lt;/<span class="hljs-name">filter-name</span>&gt;</span><br>     <span class="hljs-comment">&lt;!--配置filter全类名--&gt;</span><br>     <span class="hljs-tag">&lt;<span class="hljs-name">filter-class</span>&gt;</span><br>         com.atguigu.filter.AdminFilter<br>     <span class="hljs-tag">&lt;/<span class="hljs-name">filter-class</span>&gt;</span><br><br>     <span class="hljs-tag">&lt;<span class="hljs-name">init-param</span>&gt;</span><br>         <span class="hljs-tag">&lt;<span class="hljs-name">param-name</span>&gt;</span>username<span class="hljs-tag">&lt;/<span class="hljs-name">param-name</span>&gt;</span><br>         <span class="hljs-tag">&lt;<span class="hljs-name">param-value</span>&gt;</span>root<span class="hljs-tag">&lt;/<span class="hljs-name">param-value</span>&gt;</span><br>     <span class="hljs-tag">&lt;/<span class="hljs-name">init-param</span>&gt;</span><br>     <span class="hljs-tag">&lt;<span class="hljs-name">init-param</span>&gt;</span><br>         <span class="hljs-tag">&lt;<span class="hljs-name">param-name</span>&gt;</span>url<span class="hljs-tag">&lt;/<span class="hljs-name">param-name</span>&gt;</span><br>         <span class="hljs-tag">&lt;<span class="hljs-name">param-value</span>&gt;</span>jdbc:mysql:localhost3306/test<span class="hljs-tag">&lt;/<span class="hljs-name">param-value</span>&gt;</span><br>     <span class="hljs-tag">&lt;/<span class="hljs-name">init-param</span>&gt;</span><br><br> <span class="hljs-tag">&lt;/<span class="hljs-name">filter</span>&gt;</span><br> <span class="hljs-comment">&lt;!--filter-mapping配置Filter过滤器的拦截路径--&gt;</span><br> <span class="hljs-tag">&lt;<span class="hljs-name">filter-mapping</span>&gt;</span><br>     <span class="hljs-comment">&lt;!--filter-name表示当前的拦截路径给哪个filter使用--&gt;</span><br>     <span class="hljs-tag">&lt;<span class="hljs-name">filter-name</span>&gt;</span><br>AdminFilter<br>     <span class="hljs-tag">&lt;/<span class="hljs-name">filter-name</span>&gt;</span><br>     <span class="hljs-comment">&lt;!--url-pattern配置拦截路径  /admin/*  表示请求地址为web目录下admin下的全部 --&gt;</span><br>     <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span><br>         /admin/*<br>     <span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br> <span class="hljs-tag">&lt;/<span class="hljs-name">filter-mapping</span>&gt;</span><br> <br> <span class="hljs-tag">&lt;<span class="hljs-name">servlet</span>&gt;</span><br>     <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span><br>         LoginServlet<br>     <span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>     <span class="hljs-tag">&lt;<span class="hljs-name">servlet-class</span>&gt;</span><br>         com.atguigu.servlet.LoginServlet<br>     <span class="hljs-tag">&lt;/<span class="hljs-name">servlet-class</span>&gt;</span><br> <span class="hljs-tag">&lt;/<span class="hljs-name">servlet</span>&gt;</span><br> <span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span><br>     <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>LoginServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>     <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/loginServlet<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br> <span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h2 id="FilterChain过滤链"><a href="#FilterChain过滤链" class="headerlink" title="FilterChain过滤链"></a>FilterChain过滤链</h2><p>是doFilter方法的第三个参数FilterChain filterChain</p>
<p>前两个参数是request和response</p>
<p>Filter 过滤器 </p>
<p>Chain 链，链</p>
<p>条 FilterChain 就是过滤器链（多个过滤器如何一起工作）</p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210111403411.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20221011140336097"></p>
<p>如果通过了两个doFilter方法的guolv</p>
<p>代码执行就是</p>
<p>Filter1前置代码    Filter2前置代码   目标资源被访问啦  Filter2后置代码  Filter1后置代码</p>
<p>如果Filter2过滤不通过</p>
<p>代码执行是</p>
<p>FilTer1前置代码 Filter2 前置代码  Filter1后置代码</p>
<p>如果Filter2过滤不通过</p>
<p>Filter1前置代码</p>
<p>Thread.getCurrentThread().getName()得到当前线程的名字</p>
<h2 id="Filter过滤器的三种拦截路径"><a href="#Filter过滤器的三种拦截路径" class="headerlink" title="Filter过滤器的三种拦截路径"></a>Filter过滤器的三种拦截路径</h2><p>路径后面加参数都是可以匹配的</p>
<p>—精确匹配</p>
<figure class="highlight aspectj"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs aspectj">/<span class="hljs-keyword">target</span>.jsp<br></code></pre></td></tr></table></figure>

<p>以上配置的路径，表示请求地址必须为：<a href="http://ip:port/工程路径/target.jsp">http://ip:port/工程路径/target.jsp</a></p>
<p>后面可以加参数都是无所谓的</p>
<p>–目录匹配</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-regexp">/admin/</span>*<br></code></pre></td></tr></table></figure>

<p>以上配置的路径，表示请求地址必须为：<a href="http://ip:port/工程路径/admin/">http://ip:port/工程路径/admin/</a>*</p>
<p>–后缀名匹配</p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210111423656.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20221011142351490"></p>
<h1 id="书城项目第八阶段"><a href="#书城项目第八阶段" class="headerlink" title="书城项目第八阶段"></a>书城项目第八阶段</h1><p><strong>1.使用 Filter 过滤器拦截&#x2F;pages&#x2F;manager&#x2F;所有内容，实 现权限检查</strong></p>
<p>加一个过滤器</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.filter;<br><br><span class="hljs-keyword">import</span> javax.servlet.*;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequest;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpSession;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ManagerFilter</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Filter</span> &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">init</span><span class="hljs-params">(FilterConfig filterConfig)</span> <span class="hljs-keyword">throws</span> ServletException &#123;<br><br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doFilter</span><span class="hljs-params">(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)</span> <span class="hljs-keyword">throws</span> IOException, ServletException &#123;<br>  <span class="hljs-comment">//获得session</span><br>        <span class="hljs-type">HttpServletRequest</span> <span class="hljs-variable">servletRequest1</span> <span class="hljs-operator">=</span> (HttpServletRequest) servletRequest;<br>        <span class="hljs-type">HttpSession</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> servletRequest1.getSession();<br>        <span class="hljs-type">Object</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> session.getAttribute(<span class="hljs-string">&quot;user&quot;</span>);<br>        <span class="hljs-keyword">if</span>(user==<span class="hljs-literal">null</span>)&#123;<br>            servletRequest1.getRequestDispatcher(<span class="hljs-string">&quot;/pages/user/login.jsp&quot;</span>).forward(servletRequest,servletResponse);<br>        &#125;<span class="hljs-keyword">else</span><br>        &#123;<br>            filterChain.doFilter(servletRequest,servletResponse);<br>        &#125;<br><br><br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">destroy</span><span class="hljs-params">()</span> &#123;<br><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>在web.xml中加上一个filter的过滤器</p>
<p>两个路径，因为通过&#x2F;manager&#x2F;BookServlet?action&#x3D;page也可以访问后台，所以两个都要过滤掉</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">filter</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">filter-name</span>&gt;</span>ManagetFilter<span class="hljs-tag">&lt;/<span class="hljs-name">filter-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">filter-class</span>&gt;</span>com.atguigu.filter.ManagerFilter<span class="hljs-tag">&lt;/<span class="hljs-name">filter-class</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">filter</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">filter-mapping</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">filter-name</span>&gt;</span>ManagetFilter<span class="hljs-tag">&lt;/<span class="hljs-name">filter-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/pages/manager/*<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/manager/BookServlet<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">filter-mapping</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h2 id="ThreadLocal使用介绍"><a href="#ThreadLocal使用介绍" class="headerlink" title="ThreadLocal使用介绍"></a>ThreadLocal使用介绍</h2><p>ThreadLocal 的作用，它可以解决多线程的数据安全问题。</p>
<p>ThreadLocal 它可以给当前线程关联一个数据（可以是普通变量，可以是对象，也可以是数组，集合）</p>
<p>ThreadLocal 的特点： </p>
<p>1、ThreadLocal 可以为当前线程关联一个数据。（它可以像 Map 一样存取数据，key 为当前线程） </p>
<p>2、每一个 ThreadLocal 对象，只能为当前线程关联一个数据，如果要为当前线程关联多个数据，就需要使用多个 ThreadLocal 对象实例。 </p>
<p>3、每个 ThreadLocal 对象实例定义的时候，一般都是 static 类型 </p>
<p>4、ThreadLocal 中保存数据，在线程销毁后。会由 JVM 虚拟自动释放</p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">package com.atguigu.test;<br><br><span class="hljs-keyword">import</span> java.util.Random;<br><br><span class="hljs-keyword">class</span> OrderService &#123;<br>    <span class="hljs-built_in">public</span> <span class="hljs-type">void</span> createOrder()&#123;<br>        String <span class="hljs-type">name</span> = Thread.currentThread().getName();<br>        <span class="hljs-keyword">System</span>.<span class="hljs-keyword">out</span>.println(&quot;OrderService 当前线程[&quot; + <span class="hljs-type">name</span> + &quot;]中保存的数据是：&quot; +<br>                ThreadLocalTest.threadLocal.<span class="hljs-keyword">get</span>());<br>        <span class="hljs-built_in">new</span> OrderDao().saveOrder();<br>    &#125;<br>&#125;<br> <span class="hljs-keyword">class</span> OrderDao &#123;<br>    <span class="hljs-built_in">public</span> <span class="hljs-type">void</span> saveOrder()&#123;<br>        String <span class="hljs-type">name</span> = Thread.currentThread().getName();<br>        <span class="hljs-keyword">System</span>.<span class="hljs-keyword">out</span>.println(&quot;OrderDao 当前线程[&quot; + <span class="hljs-type">name</span> + &quot;]中保存的数据是：&quot; +<br>                ThreadLocalTest.threadLocal.<span class="hljs-keyword">get</span>());<br>    &#125;<br>&#125;<br><span class="hljs-built_in">public</span> <span class="hljs-keyword">class</span> ThreadLocalTest &#123;<br>    // <span class="hljs-built_in">public</span> static Map&lt;String,<span class="hljs-keyword">Object</span>&gt; data = <span class="hljs-built_in">new</span> Hashtable&lt;String,<span class="hljs-keyword">Object</span>&gt;();<br>    <span class="hljs-built_in">public</span> static ThreadLocal&lt;<span class="hljs-keyword">Object</span>&gt; threadLocal = <span class="hljs-built_in">new</span> ThreadLocal&lt;<span class="hljs-keyword">Object</span>&gt;();<br>    private static Random random = <span class="hljs-built_in">new</span> Random();<br>    <span class="hljs-built_in">public</span> static <span class="hljs-keyword">class</span> Task implements Runnable &#123;<br>        @Override<br>        <span class="hljs-built_in">public</span> <span class="hljs-type">void</span> run() &#123;<br>// 在 Run 方法中，随机生成一个变量（线程要关联的数据），然后以当前线程名为 key 保存到 map 中<br>            <span class="hljs-type">Integer</span> i = random.nextInt(<span class="hljs-number">1000</span>);<br>// 获取当前线程名<br>            String <span class="hljs-type">name</span> = Thread.currentThread().getName();<br>            <span class="hljs-keyword">System</span>.<span class="hljs-keyword">out</span>.println(&quot;线程[&quot;+<span class="hljs-type">name</span>+&quot;]生成的随机数是：&quot; + i);<br>// data.put(<span class="hljs-type">name</span>,i);<br>            threadLocal.<span class="hljs-keyword">set</span>(i);<br>            try &#123;<br>                Thread.sleep(<span class="hljs-number">3000</span>);<br>            &#125; catch (InterruptedException e) &#123;<br>                e.printStackTrace();<br>            &#125;<br>            //这个也是为验证取出的同一线程相关联的数都是相同的<br>            <span class="hljs-built_in">new</span> OrderService().createOrder();<br>// 在 Run 方法结束之前，以当前线程名获取出数据并打印。查看是否可以取出操作<br>// <span class="hljs-keyword">Object</span> o = data.<span class="hljs-keyword">get</span>(<span class="hljs-type">name</span>);<br>            <span class="hljs-keyword">Object</span> o = threadLocal.<span class="hljs-keyword">get</span>();<br>            <span class="hljs-keyword">System</span>.<span class="hljs-keyword">out</span>.println(&quot;在线程[&quot;+<span class="hljs-type">name</span>+&quot;]快结束时取出关联的数据是：&quot; + o);<br>        &#125;<br>    &#125;<br>    <span class="hljs-built_in">public</span> static <span class="hljs-type">void</span> main(String[] args) &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; i++)&#123;<br>            <span class="hljs-built_in">new</span> Thread(<span class="hljs-built_in">new</span> Task()).<span class="hljs-keyword">start</span>();<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="使用-Filter-和-ThreadLocal-组合管理事务"><a href="#使用-Filter-和-ThreadLocal-组合管理事务" class="headerlink" title="使用 Filter 和 ThreadLocal 组合管理事务"></a>使用 Filter 和 ThreadLocal 组合管理事务</h2><p><strong>查询时不需要提交事务的</strong></p>
<p>保存订单和保存订单项还有更新销量要么都成功，要么都失败</p>
<p><strong>可以用到事务</strong></p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210111614323.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20221011161446635"></p>
<p>JDBCUtils</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.utils;<br><br><span class="hljs-keyword">import</span> com.alibaba.druid.pool.DruidDataSource;<br><span class="hljs-keyword">import</span> com.alibaba.druid.pool.DruidDataSourceFactory;<br><br><span class="hljs-keyword">import</span> java.io.FileInputStream;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><span class="hljs-keyword">import</span> java.io.InputStream;<br><span class="hljs-keyword">import</span> java.sql.Connection;<br><span class="hljs-keyword">import</span> java.sql.SQLException;<br><span class="hljs-keyword">import</span> java.util.Properties;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">JdbcUtils</span> &#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> DruidDataSource dataSource;<br>    <span class="hljs-comment">//用ThreadLocal保存conn链接</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> ThreadLocal&lt;Connection&gt; conns=<span class="hljs-keyword">new</span> <span class="hljs-title class_">ThreadLocal</span>&lt;Connection&gt;();<br><span class="hljs-keyword">static</span> &#123;<br>    <span class="hljs-keyword">try</span>&#123;<br>      Properties properties=<span class="hljs-keyword">new</span> <span class="hljs-title class_">Properties</span>();<br>      InputStream inputStream=JdbcUtils.class.getClassLoader().getResourceAsStream(<span class="hljs-string">&quot;druid.properties&quot;</span>);<br><br>      properties.load(inputStream);<br>      dataSource= (DruidDataSource) DruidDataSourceFactory.createDataSource(properties);<br>    &#125;<br>    <span class="hljs-keyword">catch</span>(Exception e)&#123;<br>        e.printStackTrace();<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">//获取数据库连接池中的连接，如果返回null就是获取失败，有值就是获取成功</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Connection <span class="hljs-title function_">getConnection</span><span class="hljs-params">()</span>&#123;<br>Connection conn=conns.get();<br><span class="hljs-keyword">if</span>(conn==<span class="hljs-literal">null</span>)&#123;<br>    <span class="hljs-keyword">try</span> &#123;<br>        conn=dataSource.getConnection();<span class="hljs-comment">//从数据库连接池中获取链接</span><br>        conns.set(conn);<span class="hljs-comment">//保存到ThreadLocal对象中，供后面的jdbc操作使用</span><br>        conn.setAutoCommit(<span class="hljs-literal">false</span>);<span class="hljs-comment">//设置为手动管理事务</span><br>    &#125; <span class="hljs-keyword">catch</span> (SQLException e) &#123;<br>        e.printStackTrace();<br>    &#125;<br>&#125;<br><span class="hljs-keyword">return</span> conn;<br>&#125;<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">提交事务，并释放连接</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">commitAndColose</span><span class="hljs-params">()</span>  &#123;<br>    <span class="hljs-type">Connection</span> <span class="hljs-variable">connection</span> <span class="hljs-operator">=</span> conns.get();<br>    <span class="hljs-keyword">if</span>(connection!=<span class="hljs-literal">null</span>)&#123;<br>        <span class="hljs-comment">//如果不等于null，说明之前使用过链接操作过数据库</span><br>        <span class="hljs-keyword">try</span> &#123;<br>            connection.commit();<span class="hljs-comment">//提交事务</span><br>        &#125;<br><br>           <span class="hljs-keyword">catch</span> (SQLException e) &#123;<br>        e.printStackTrace();<br>        &#125;<br>        <span class="hljs-keyword">finally</span>&#123;<br>            <span class="hljs-comment">//关闭链接</span><br>            <span class="hljs-keyword">try</span> &#123;<br>                connection.close();<br>            &#125; <span class="hljs-keyword">catch</span> (SQLException e) &#123;<br>                e.printStackTrace();<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-comment">//一定要执行remove操作，否则就会出错，因为Tomcat服务器底层用了线程池技术</span><br>    conns.remove();<br>&#125;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">回滚事务，关闭连接</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">rollbackAndColose</span><span class="hljs-params">()</span>  &#123;<br>    <span class="hljs-type">Connection</span> <span class="hljs-variable">connection</span> <span class="hljs-operator">=</span> conns.get();<br>    <span class="hljs-keyword">if</span>(connection!=<span class="hljs-literal">null</span>)&#123;<br>        <span class="hljs-comment">//如果不等于null，说明之前使用过链接操作过数据库</span><br>        <span class="hljs-keyword">try</span> &#123;<br>            connection.rollback();<span class="hljs-comment">//提交事务</span><br>        &#125;<br><br>        <span class="hljs-keyword">catch</span> (SQLException e) &#123;<br>            e.printStackTrace();<br>        &#125;<br>        <span class="hljs-keyword">finally</span>&#123;<br>            <span class="hljs-comment">//关闭链接</span><br>            <span class="hljs-keyword">try</span> &#123;<br>                connection.close();<br>            &#125; <span class="hljs-keyword">catch</span> (SQLException e) &#123;<br>                e.printStackTrace();<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-comment">//一定要执行remove操作，否则就会出错，因为Tomcat服务器底层用了线程池技术</span><br>    conns.remove();<br>&#125;<br><br><span class="hljs-comment">//关闭连接</span><br>    <span class="hljs-comment">/*public static void close(Connection conn)&#123;</span><br><span class="hljs-comment">    if(conn!=null)&#123;</span><br><span class="hljs-comment">        try&#123;</span><br><span class="hljs-comment">            conn.close();</span><br><span class="hljs-comment">        &#125;</span><br><span class="hljs-comment">        catch(Exception e)&#123;</span><br><span class="hljs-comment">            e.printStackTrace();</span><br><span class="hljs-comment">        &#125;</span><br><span class="hljs-comment">    &#125;</span><br><span class="hljs-comment">    &#125;*/</span><br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br><br>    &#125;<br><br><br>&#125;<br></code></pre></td></tr></table></figure>

<p>BaseDao</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.dao.impl;<br><br><span class="hljs-keyword">import</span> com.atguigu.utils.JdbcUtils;<br><span class="hljs-keyword">import</span> org.apache.commons.dbutils.QueryRunner;<br><span class="hljs-keyword">import</span> org.apache.commons.dbutils.handlers.BeanHandler;<br><span class="hljs-keyword">import</span> org.apache.commons.dbutils.handlers.BeanListHandler;<br><span class="hljs-keyword">import</span> org.apache.commons.dbutils.handlers.ScalarHandler;<br><br><span class="hljs-keyword">import</span> java.sql.Connection;<br><span class="hljs-keyword">import</span> java.sql.SQLException;<br><span class="hljs-keyword">import</span> java.util.List;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BaseDao</span> &#123;<br>    <span class="hljs-comment">//使用DbUtils操作数据库</span><br><span class="hljs-keyword">private</span> QueryRunner queryRunner=<span class="hljs-keyword">new</span> <span class="hljs-title class_">QueryRunner</span>();<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">update()方法用来执行：insert  update  delete语句</span><br><span class="hljs-comment">如果返回-1说明执行失败，  否则返回其他表示影响的行数</span><br><span class="hljs-comment"> */</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">update</span><span class="hljs-params">(String sql,Object...args)</span>&#123;<br>        Connection conn= JdbcUtils.getConnection();<br>        <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-keyword">return</span> queryRunner.update(conn, sql, args);<br>        &#125;<br>        <span class="hljs-keyword">catch</span>(Exception e)&#123;<br>            e.printStackTrace();<br>            <span class="hljs-comment">//将异常都抛出去</span><br>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(e);<br>        &#125;<br><br>    &#125;<br><br>    <span class="hljs-comment">/*</span><br><span class="hljs-comment">    查询返回一个javaBean的sql语句   type为返回对象类型，args是sql对应的参数值，sql是执行的sql语句  &lt;T&gt;返回的类型和泛型</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">public</span> &lt;T&gt; T <span class="hljs-title function_">queryForOne</span><span class="hljs-params">(Class&lt;T&gt; type,String sql,Object...args)</span> &#123;<br>        Connection con=JdbcUtils.getConnection();<br>        <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-keyword">return</span> queryRunner.query(con,sql,<span class="hljs-keyword">new</span> <span class="hljs-title class_">BeanHandler</span>&lt;T&gt;(type),args);<br>        &#125;<span class="hljs-keyword">catch</span>(SQLException e)&#123;<br>            e.printStackTrace();<br>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(e);<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-comment">/*</span><br><span class="hljs-comment">    查询返回多个javaBean的sql语句</span><br><span class="hljs-comment">     */</span><br><br>    <span class="hljs-keyword">public</span> &lt;T&gt; List&lt;T&gt; <span class="hljs-title function_">queryForList</span><span class="hljs-params">(Class&lt;T&gt; type,String sql,Object...args)</span>&#123;<br>        Connection con=JdbcUtils.getConnection();<br>        <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-keyword">return</span> queryRunner.query(con,sql,<span class="hljs-keyword">new</span> <span class="hljs-title class_">BeanListHandler</span>&lt;T&gt;(type),args);<br>        &#125;<span class="hljs-keyword">catch</span>(SQLException e)&#123;<br>            e.printStackTrace();<br>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(e);<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-comment">/*</span><br><span class="hljs-comment">    执行返回一个单元格的sql</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">queryForSingleValue</span><span class="hljs-params">(String sql,Object...args)</span>&#123;<br>        Connection conn=JdbcUtils.getConnection();<br>        <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-keyword">return</span> queryRunner.query(conn, sql,<span class="hljs-keyword">new</span> <span class="hljs-title class_">ScalarHandler</span>(), args);<br>        &#125;<br>        <span class="hljs-keyword">catch</span>(SQLException e)&#123;<br>            e.printStackTrace();<br>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(e);<br>        &#125;<br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure>

<p>OrderServlet</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">try</span> &#123;<br>    orderId = orderService.createOrder(cart, userId);<br>   JdbcUtils.commitAndColose();<span class="hljs-comment">//提交事务</span><br>&#125;<br><span class="hljs-keyword">catch</span>(Exception e)&#123;<br>    JdbcUtils.rollbackAndColose();<span class="hljs-comment">//回滚事务</span><br>    e.printStackTrace();<br>&#125;<br></code></pre></td></tr></table></figure>

<p>一开始一直不成功，将表的引擎改为Innodb就可以了，以及把mysql默认引擎改为innodb</p>
<p>mylsam引擎是不支持事务操作的</p>
<p>右键表的设计表选项</p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210122049601.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20221012204953374"></p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210122050761.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20221012205027761"></p>
<h2 id="使用Filter统一给所有的Service方法都加上try-catch"><a href="#使用Filter统一给所有的Service方法都加上try-catch" class="headerlink" title="使用Filter统一给所有的Service方法都加上try-catch"></a>使用Filter统一给所有的Service方法都加上try-catch</h2><p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210122116980.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20221012211622836"></p>
<p>就是doFilter有除了filterChain.doFilter()方法之外还有前置代码和后置代码，只要给这个工程的所有访问路径加上这个过滤器，然后再在</p>
<p>filterChain.foFilter后面加上提交事务，和catch 回滚事务，这样访问资源回来之后，可以执行后置代码，这个后置代码就是提交事务，或者捕捉错误之后回滚事务</p>
<p><strong>TranscationFilter类的代码</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.filter;<br><br><span class="hljs-keyword">import</span> com.atguigu.utils.JdbcUtils;<br><br><span class="hljs-keyword">import</span> javax.servlet.*;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TranscationServlet</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Filter</span> &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">init</span><span class="hljs-params">(FilterConfig filterConfig)</span> <span class="hljs-keyword">throws</span> ServletException &#123;<br><br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doFilter</span><span class="hljs-params">(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)</span> <span class="hljs-keyword">throws</span> IOException, ServletException &#123;<br>        <span class="hljs-keyword">try</span> &#123;<br>            filterChain.doFilter(servletRequest, servletResponse);<br>            <span class="hljs-comment">//提交事务</span><br>            JdbcUtils.commitAndColose();<br>        &#125;<br>      <span class="hljs-keyword">catch</span>(Exception e)<br><br>        &#123;<span class="hljs-comment">//回滚事务</span><br>            JdbcUtils.rollbackAndColose();<br>            e.printStackTrace();<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">destroy</span><span class="hljs-params">()</span> &#123;<br><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>



<p>web.xml</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;filter&gt;<br>    &lt;filter-name&gt;TranscationServlet&lt;/filter-name&gt;<br>    &lt;filter-class&gt;com.atguigu.filter.TranscationServlet&lt;/filter-class&gt;<br>&lt;/filter&gt;<br>&lt;filter-mapping&gt;<br>    &lt;filter-name&gt;TranscationServlet&lt;/filter-name&gt;<br>    &lt;!--表示当前工程下的所有请求--&gt;<br>    &lt;url-pattern&gt;<span class="hljs-comment">/*&lt;/url-pattern&gt;</span><br><span class="hljs-comment">&lt;/filter-mapping&gt;</span><br></code></pre></td></tr></table></figure>



<p>BaseServlet</p>
<p>把BaseServlet中的异常抛出</p>
<p><strong>就是过程中的异常都应该抛出，如果异常没被Filter捕获就不能回滚事务了</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.web;<br><br><span class="hljs-keyword">import</span> javax.servlet.ServletException;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServlet;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequest;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletResponse;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><span class="hljs-keyword">import</span> java.lang.reflect.Method;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BaseServlet</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">HttpServlet</span> &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doGet</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>        doPost(req,resp);<br>    &#125;<br><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doPost</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>        resp.setContentType(<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span>);<br>        String parameter=req.getParameter(<span class="hljs-string">&quot;action&quot;</span>);<br>        <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-comment">//通过反射获取对应的方法，因为设定获取的action的参数值和调用方法的名字相同</span><br>            <span class="hljs-comment">//this是指调用该post方法的对象</span><br>            <span class="hljs-type">Method</span> <span class="hljs-variable">parameter1</span> <span class="hljs-operator">=</span> <span class="hljs-built_in">this</span>.getClass().getDeclaredMethod(parameter,HttpServletRequest.class,HttpServletResponse.class);<br>            <span class="hljs-comment">//执行目标业务方法</span><br>            parameter1.invoke(<span class="hljs-built_in">this</span>,req,resp);<br><br>        &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;<br>            e.printStackTrace();<br>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>();<span class="hljs-comment">//把异常抛给Filter过滤器</span><br>        &#125;<br><br><br>    &#125;<br><br><br>&#125;<br></code></pre></td></tr></table></figure>



<h2 id="使用Tomcat统一管理，展示友好的错误页面"><a href="#使用Tomcat统一管理，展示友好的错误页面" class="headerlink" title="使用Tomcat统一管理，展示友好的错误页面"></a>使用Tomcat统一管理，展示友好的错误页面</h2><p>在 web.xml 中我们可以通过错误页面配置来进行管理</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--error-page 标签配置，服务器出错之后，自动跳转的页面--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">error-page</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--error-code 是错误类型--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">error-code</span>&gt;</span>500<span class="hljs-tag">&lt;/<span class="hljs-name">error-code</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--location 标签表示。要跳转去的页面路径--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">location</span>&gt;</span>/pages/error/error500.jsp<span class="hljs-tag">&lt;/<span class="hljs-name">location</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">error-page</span>&gt;</span><br><span class="hljs-comment">&lt;!--error-page 标签配置，服务器出错之后，自动跳转的页面--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">error-page</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--error-code 是错误类型--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">error-code</span>&gt;</span>404<span class="hljs-tag">&lt;/<span class="hljs-name">error-code</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--location 标签表示。要跳转去的页面路径--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">location</span>&gt;</span>/pages/error/error404.jsp<span class="hljs-tag">&lt;/<span class="hljs-name">location</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">error-page</span>&gt;</span><br></code></pre></td></tr></table></figure>



<p>error500.jsp</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%--<br>  Created by IntelliJ IDEA.<br>  User: #赵梓皓&amp;<br>  Date: <span class="hljs-number">2022</span>/<span class="hljs-number">10</span>/<span class="hljs-number">13</span><br>  Time: <span class="hljs-number">15</span>:<span class="hljs-number">18</span><br>  To change <span class="hljs-built_in">this</span> template use File | Settings | File Templates.<br>--%&gt;<br>&lt;%@ page contentType=<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="hljs-string">&quot;java&quot;</span> %&gt;<br>&lt;html&gt;<br>&lt;head&gt;<br>    &lt;title&gt;Title&lt;/title&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>这是错误页面<br>&lt;a href=<span class="hljs-string">&quot;index.jsp&quot;</span>&gt;返回首页&lt;/a&gt;<br>&lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>





<p>TranscationServlet</p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs scss">  <span class="hljs-built_in">catch</span>(Exception e)<br><br>    &#123;<span class="hljs-comment">//回滚事务</span><br>        JdbcUtils<span class="hljs-selector-class">.rollbackAndColose</span>();<br>        e<span class="hljs-selector-class">.printStackTrace</span>();<br>        throw new <span class="hljs-built_in">RuntimeException</span>();<span class="hljs-comment">//继续抛异常，让tomcat服务器收到异常</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>



<p>回滚事务之后还是抛出异常，让tomcat服务器接收异常</p>
<h1 id="Json和Ajax"><a href="#Json和Ajax" class="headerlink" title="Json和Ajax"></a>Json和Ajax</h1><h2 id="Json"><a href="#Json" class="headerlink" title="Json"></a>Json</h2><p>JSON (JavaScript Object Notation) 是一种轻量级的数据交换格式。易于人阅读和编写。同时也易于机器解析和生成。JSON 采用完全独立于语言的文本格式，而且很多语言都提供了对 json 的支持（包括 C, C++, C#, Java, JavaScript, Perl, Python 等）。 这样就使得 JSON 成为理想的数据交换格式</p>
<p>json 是一种轻量级的数据交换格式。</p>
<p>轻量级指的是跟 xml 做比较</p>
<p>数据交换指的是客户端和服务器之间业务数据的传递格式</p>
<h2 id="Json在javascript的使用"><a href="#Json在javascript的使用" class="headerlink" title="Json在javascript的使用"></a>Json在javascript的使用</h2><p><strong>json定义</strong></p>
<p>json 是由键值对组成，并且由花括号（大括号）包围。每个键由引号引起来，键和值之间使用冒号进行分隔， 多组键值对之间进行逗号进行分隔。</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs actionscript"><span class="hljs-comment">// json的定义</span><br><span class="hljs-comment">//vlaue可以使字符串，数组，布尔，数字，json对象，有json对象的数组</span><br><span class="hljs-keyword">var</span> jsonobj=&#123;<br>    <span class="hljs-string">&quot;key1&quot;</span>:<span class="hljs-number">12</span>, <br>   <span class="hljs-string">&quot;key2&quot;</span>:<span class="hljs-string">&quot;abc&quot;</span>,<br>   <span class="hljs-string">&quot;key3&quot;</span>:<span class="hljs-literal">true</span>,<br>   <span class="hljs-string">&quot;key4&quot;</span>:[<span class="hljs-number">11</span>,<span class="hljs-string">&quot;arr&quot;</span>,<span class="hljs-literal">false</span>],<br>   <span class="hljs-string">&quot;key5&quot;</span>:&#123;<br>       <span class="hljs-string">&quot;key5_1&quot;</span>:<span class="hljs-number">12</span>,<br>      <span class="hljs-string">&quot;key5_2&quot;</span>:<span class="hljs-string">&quot;value&quot;</span><br>   &#125;,<br>   <span class="hljs-string">&quot;key6&quot;</span>:[&#123;<span class="hljs-string">&quot;key1&quot;</span>:<span class="hljs-string">&quot;12&quot;</span>&#125;,&#123;<span class="hljs-string">&quot;key1&quot;</span>:<span class="hljs-number">123</span>&#125;]<br>   <br>&#125;;<br></code></pre></td></tr></table></figure>

<p><strong>json的访问</strong></p>
<p>json 本身是一个对象。 </p>
<p>json 中的 key 我们可以理解为是对象中的一个属性。 </p>
<p>json 中的 key 访问就跟访问对象的属性一样： json</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// json的定义</span><br><span class="hljs-comment">//vlaue可以使字符串，数组，布尔，数字，json对象，有json对象的数组</span><br><span class="hljs-keyword">var</span> jsonobj=&#123;<br>    <span class="hljs-string">&quot;key1&quot;</span>:<span class="hljs-number">12</span>,<br>   <span class="hljs-string">&quot;key2&quot;</span>:<span class="hljs-string">&quot;abc&quot;</span>,<br>   <span class="hljs-string">&quot;key3&quot;</span>:<span class="hljs-literal">true</span>,<br>   <span class="hljs-string">&quot;key4&quot;</span>:[<span class="hljs-number">11</span>,<span class="hljs-string">&quot;arr&quot;</span>,<span class="hljs-literal">false</span>],<br>   <span class="hljs-string">&quot;key5&quot;</span>:&#123;<br>       <span class="hljs-string">&quot;key5_1&quot;</span>:<span class="hljs-number">12</span>,<br>      <span class="hljs-string">&quot;key5_2&quot;</span>:<span class="hljs-string">&quot;value&quot;</span><br>   &#125;,<br>   <span class="hljs-string">&quot;key6&quot;</span>:[&#123;<span class="hljs-string">&quot;key1&quot;</span>:<span class="hljs-string">&quot;12&quot;</span>&#125;,&#123;<span class="hljs-string">&quot;key1&quot;</span>:<span class="hljs-number">123</span>&#125;]<br><br>&#125;;<br><span class="hljs-comment">//json就是一个对象</span><br>alert(typeof(jsonobj))<br><span class="hljs-comment">// json的访问</span><br>         alert(jsonobj.key1);<br>alert(jsonobj.key2);<br>alert(jsonobj.key3);<br><span class="hljs-comment">//数组遍历</span><br><span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>;i&lt;jsonobj.key4.length;i++)&#123;<br>   alert(jsonobj.key4[i]);<br>&#125;<br>alert(jsonobj.key5.key5_1);<br>alert(jsonobj.key5.key5_2);<br>alert(jsonobj.key6);<br><span class="hljs-comment">//key6存储的就是json对象的数组，所以变量json被赋了个json对象</span><br><span class="hljs-keyword">var</span> json=jsonobj.key6[<span class="hljs-number">0</span>];<br></code></pre></td></tr></table></figure>

<p><strong>json两个常用方法</strong></p>
<p>json 的存在有两种形式。</p>
<p> 一种是：对象的形式存在，我们叫它 json 对象。 </p>
<p>一种是：字符串的形式存在，我们叫它 json 字符串。 </p>
<p>一般我们要操作 json 中的数据的时候，需要 json 对象的格式。 </p>
<p>一般我们要在客户端和服务器之间进行数据交换的时候，使用 json 字符串。</p>
<figure class="highlight qml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs qml"><span class="hljs-comment">// json对象转字符串</span><br><span class="hljs-keyword">var</span> jsonstring=<span class="hljs-built_in">JSON</span>.stringify(jsonobj);<span class="hljs-comment">//特别象java中对象的toString方法</span><br>alert(jsonstring)<br><span class="hljs-comment">// json字符串转json对象</span><br><span class="hljs-keyword">var</span> json2=<span class="hljs-built_in">JSON</span>.parse(jsonstring);<br>alert(<span class="hljs-keyword">typeof</span>(json2));<br></code></pre></td></tr></table></figure>

<h2 id="json在java中使用"><a href="#json在java中使用" class="headerlink" title="json在java中使用"></a>json在java中使用</h2><p><strong>json和javaBean的互转</strong></p>
<figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs reasonml">    <span class="hljs-comment">//javaBean和json互相转化</span><br>    @Test<br>    public void test1<span class="hljs-literal">()</span>&#123;<br>Person person=<span class="hljs-keyword">new</span> <span class="hljs-constructor">Person(1,<span class="hljs-string">&quot;好帅&quot;</span>)</span>;<br><span class="hljs-comment">//创建Gson对象实例</span><br>Gson gson=<span class="hljs-keyword">new</span> <span class="hljs-constructor">Gson()</span>;<br><span class="hljs-comment">///toJson方法可以把java对象转换成为json字符串</span><br>        String personJsonString = gson.<span class="hljs-keyword">to</span><span class="hljs-constructor">Json(<span class="hljs-params">person</span>)</span>;<br>        <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>out.println(personJsonString);<br><br>        <span class="hljs-comment">//fromJson把json字符串转换为java对象</span><br>        <span class="hljs-comment">//第一个参数是json字符串，第二个参数是转换回去的java对象类型</span><br>        <span class="hljs-comment">//看好是哪个方法选择第一个参数是字符串的fromJson方法</span><br>        Person person1 = gson.from<span class="hljs-constructor">Json(<span class="hljs-params">personJsonString</span>, Person.<span class="hljs-params">class</span>)</span>;<br>        <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>out.println(person1);<br>    &#125;<br></code></pre></td></tr></table></figure>

<p>List 和 json互转</p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">//list集合和<span class="hljs-type">json</span>转换<br>@Test<br><span class="hljs-built_in">public</span> <span class="hljs-type">void</span> test2()&#123;<br>    ArrayList&lt;Person&gt; personList = <span class="hljs-built_in">new</span> ArrayList&lt;&gt;();<br>    personList.<span class="hljs-keyword">add</span>(<span class="hljs-built_in">new</span> Person(<span class="hljs-number">1</span>,&quot;哥&quot;));<br>    personList.<span class="hljs-keyword">add</span>(<span class="hljs-built_in">new</span> Person(<span class="hljs-number">2</span>,&quot;第&quot;));<br>    Gson gson=<span class="hljs-built_in">new</span> Gson();<br>    //把List转换为<span class="hljs-type">Json</span>字符串<br>    String personListJsonString = gson.toJson(personList);<br>    <span class="hljs-keyword">System</span>.<span class="hljs-keyword">out</span>.println(personListJsonString);//[&#123;&quot;id&quot;:<span class="hljs-number">1</span>,&quot;name&quot;:&quot;哥&quot;&#125;,&#123;&quot;id&quot;:<span class="hljs-number">2</span>,&quot;name&quot;:&quot;第&quot;&#125;]<br><br>    //第二个参数不能是personList.getClass(),这样得到的集合里面存储的是map对象不能转换为Person对象，所以用这个方法<br>    ArrayList&lt;Person&gt; arrayList = gson.fromJson(personListJsonString, <span class="hljs-built_in">new</span> PersonListType().getType());<br>    Person person = arrayList.<span class="hljs-keyword">get</span>(<span class="hljs-number">0</span>);<br>    <span class="hljs-keyword">System</span>.<span class="hljs-keyword">out</span>.println(person);<br><br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs scala"><span class="hljs-keyword">package</span> com.atguigu.json;<br><br><span class="hljs-keyword">import</span> com.atguigu.pojo.<span class="hljs-type">Person</span>;<br><span class="hljs-keyword">import</span> com.google.gson.reflect.<span class="hljs-type">TypeToken</span>;<br><br><span class="hljs-keyword">import</span> java.util.<span class="hljs-type">ArrayList</span>;<br><br>public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PersonListType</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">TypeToken&lt;ArrayList&lt;Person&gt;&gt;</span> </span>&#123;<br><br>&#125;<br></code></pre></td></tr></table></figure>

<p>json和Map集合相互转换</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//map和json的互转</span><br><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test3</span><span class="hljs-params">()</span>&#123;<br>    Map&lt;Integer,Person&gt;  personMap=<span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();<br>    personMap.put(<span class="hljs-number">1</span>,<span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-number">1</span>,<span class="hljs-string">&quot;国歌&quot;</span>));<br>    personMap.put(<span class="hljs-number">2</span>,<span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-number">2</span>,<span class="hljs-string">&quot;康师傅&quot;</span>));<br>    Gson gson=<span class="hljs-keyword">new</span> <span class="hljs-title class_">Gson</span>();<br>    <span class="hljs-type">String</span> <span class="hljs-variable">personMapJsonString</span> <span class="hljs-operator">=</span> gson.toJson(personMap);<br>    System.out.println(personMapJsonString);<span class="hljs-comment">//&#123;&quot;1&quot;:&#123;&quot;id&quot;:1,&quot;name&quot;:&quot;国歌&quot;&#125;,&quot;2&quot;:&#123;&quot;id&quot;:2,&quot;name&quot;:&quot;康师傅&quot;&#125;&#125;</span><br><br>    Map&lt;Integer,Person&gt; personMap1 = gson.fromJson(personMapJsonString, <span class="hljs-keyword">new</span><br>            <span class="hljs-title class_">PersonMapType</span>().getType());<br>    <span class="hljs-comment">//使用匿名内部类的方式，这样就不用多创建java的class   TypeToken泛型中是你要返回的类型</span><br>  <span class="hljs-comment">//  Map&lt;Integer,Person&gt; personMap1 = gson.fromJson(personMapJsonString, new TypeToken&lt;HashMap&lt;Integer,Person&gt;&gt;()&#123;&#125;.getType());</span><br>    System.out.println(personMap1);<br>   Person p=personMap1.get(<span class="hljs-number">1</span>);<br>   System.out.println(p);<br>&#125;<br></code></pre></td></tr></table></figure>

<p>如果Map的value存储的是一个实体类对象，那么json对象.key取出的也就是一个json对象</p>
<p>​                                             如果是一个正常的12，字符串或者布尔，可以直接取出，</p>
<p>Map的key就是json对象的key</p>
<h2 id="Ajax"><a href="#Ajax" class="headerlink" title="Ajax"></a>Ajax</h2><p>ajax是单线程异步的</p>
<p>AJAX 即“Asynchronous Javascript And XML”（异步 JavaScript 和 XML），是指一种创建交互式网页应用的网页开发 技术。</p>
<p>ajax 是一种浏览器通过 js 异步发起请求，局部更新页面的技术（地址栏不发生变化，页面局部更新，其他地方不变）</p>
<p>同步是指你调了一个什么方法，这个线程就一直在这等着，这个方法调用完往下走，异步是指接着往下走先调用下面的代码，等那个方法服务器返回再执行</p>
<p>异步就是等服务器回应的时候，接着执行下面的代码</p>
<p><strong>Ajax 请求的局部更新，浏览器地址栏不会发生变化</strong> </p>
<p>局部更新不会舍弃原来页面的内容</p>
<h2 id="原生Ajax请求实例"><a href="#原生Ajax请求实例" class="headerlink" title="原生Ajax请求实例"></a>原生Ajax请求实例</h2><p>BaseServlet</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs scala"><span class="hljs-keyword">package</span> com.atguigu.web;<br><br><span class="hljs-keyword">import</span> javax.servlet.<span class="hljs-type">ServletException</span>;<br><span class="hljs-keyword">import</span> javax.servlet.http.<span class="hljs-type">HttpServlet</span>;<br><span class="hljs-keyword">import</span> javax.servlet.http.<span class="hljs-type">HttpServletRequest</span>;<br><span class="hljs-keyword">import</span> javax.servlet.http.<span class="hljs-type">HttpServletResponse</span>;<br><span class="hljs-keyword">import</span> java.io.<span class="hljs-type">IOException</span>;<br><span class="hljs-keyword">import</span> java.lang.reflect.<span class="hljs-type">Method</span>;<br><br>public <span class="hljs-keyword">abstract</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BaseServlet</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">HttpServlet</span> </span>&#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> void doGet(<span class="hljs-type">HttpServletRequest</span> req, <span class="hljs-type">HttpServletResponse</span> resp) <span class="hljs-keyword">throws</span> <span class="hljs-type">ServletException</span>, <span class="hljs-type">IOException</span> &#123;<br>        doPost(req,resp);<br>    &#125;<br><br>    <span class="hljs-keyword">protected</span> void doPost(<span class="hljs-type">HttpServletRequest</span> req, <span class="hljs-type">HttpServletResponse</span> resp) <span class="hljs-keyword">throws</span> <span class="hljs-type">ServletException</span>, <span class="hljs-type">IOException</span> &#123;<br>    <span class="hljs-comment">//解决返回中文时的乱码问题</span><br>        resp.setContentType(<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span>);<br>        <span class="hljs-type">String</span> parameter=req.getParameter(<span class="hljs-string">&quot;action&quot;</span>);<br>        <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-comment">//通过反射获取对应的方法，因为设定获取的action的参数值和调用方法的名字相同</span><br>            <span class="hljs-comment">//this是指调用该post方法的对象</span><br>            <span class="hljs-type">Method</span> parameter1 = <span class="hljs-keyword">this</span>.getClass().getDeclaredMethod(parameter,<span class="hljs-type">HttpServletRequest</span>.<span class="hljs-keyword">class</span>,<span class="hljs-type">HttpServletResponse</span>.<span class="hljs-keyword">class</span>);<br>            <span class="hljs-comment">//执行目标业务方法</span><br>            parameter1.invoke(<span class="hljs-keyword">this</span>,req,resp);<br><br>        &#125; <span class="hljs-keyword">catch</span> (<span class="hljs-type">Exception</span> e) &#123;<br>            e.printStackTrace();<br>        &#125;<br><br><br>    &#125;<br><br><br>&#125;<br></code></pre></td></tr></table></figure>



<p>AjaxServlet</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.atguigu.servlet;<br><br><span class="hljs-keyword">import</span> com.atguigu.pojo.Person;<br><span class="hljs-keyword">import</span> com.google.gson.Gson;<br><br><span class="hljs-keyword">import</span> javax.servlet.ServletException;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequest;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletResponse;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AjaxServlet</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">BaseServlet</span>&#123;<br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">javascriptAjax</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>      System.out.println(<span class="hljs-string">&quot;Ajax请求过来啦&quot;</span>);<br>      Person person=<span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-number">1</span>,<span class="hljs-string">&quot;国歌&quot;</span>);<br>      <span class="hljs-comment">//json格式的字符串</span><br>        Gson gson=<span class="hljs-keyword">new</span> <span class="hljs-title class_">Gson</span>();<br>        <span class="hljs-comment">//服务器响应一个person对象，用json字符串传送</span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">personJsonString</span> <span class="hljs-operator">=</span> gson.toJson(person);<br>        resp.getWriter().write(personJsonString);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>





<p>ajax.html</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span> <span class="hljs-keyword">PUBLIC</span> <span class="hljs-string">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span> <span class="hljs-string">&quot;http://www.w3.org/TR/html4/loose.dtd&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;pragma&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;no-cache&quot;</span> /&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;cache-control&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;no-cache&quot;</span> /&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;Expires&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;0&quot;</span> /&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;Content-Type&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;text/html; charset=UTF-8&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Insert title here<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">         <span class="hljs-comment">//在这里使用javascript语言发起Ajax请求，访问服务器AjaxServlet中javascriptAjax</span></span><br><span class="language-javascript">         <span class="hljs-keyword">function</span> <span class="hljs-title function_">ajaxRequest</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript"><span class="hljs-comment">//              1、我们首先要创建XMLHttpRequest </span></span><br><span class="language-javascript">                    <span class="hljs-keyword">var</span> xmlhttpreqest =<span class="hljs-keyword">new</span> <span class="hljs-title class_">XMLHttpRequest</span>();</span><br><span class="language-javascript"><span class="hljs-comment">//              2、调用open方法设置请求参数</span></span><br><span class="language-javascript">             <span class="hljs-comment">//第一个参数是请求的方法，第二个参数是请求的地址，第三个参数是请求是否是异步</span></span><br><span class="language-javascript">                    xmlhttpreqest.<span class="hljs-title function_">open</span>(<span class="hljs-string">&quot;GET&quot;</span>,<span class="hljs-string">&quot;http://localhost:8080/jsonajax/AjaxServlet?action=javascriptAjax&quot;</span>,<span class="hljs-literal">true</span>);</span><br><span class="language-javascript"><span class="hljs-comment">//              3、调用send方法发送请求</span></span><br><span class="language-javascript">             xmlhttpreqest.<span class="hljs-title function_">send</span>();</span><br><span class="language-javascript"><span class="hljs-comment">//              4、在send方法前绑定onreadystatechange事件，处理请求完成后的操作。</span></span><br><span class="language-javascript">            <span class="hljs-comment">//这个事件是响应值做好被处理准备之后调用</span></span><br><span class="language-javascript">            xmlhttpreqest.<span class="hljs-property">onreadystatechange</span>=<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">               <span class="hljs-comment">//满足这两个条件，才能用responseText</span></span><br><span class="language-javascript">               <span class="hljs-keyword">if</span>(xmlhttpreqest.<span class="hljs-property">readyState</span>==<span class="hljs-number">4</span>&amp;&amp;xmlhttpreqest.<span class="hljs-property">status</span>==<span class="hljs-number">200</span>)&#123;</span><br><span class="language-javascript">                   <span class="hljs-comment">//转成json对象</span></span><br><span class="language-javascript">                  <span class="hljs-keyword">var</span> jsonobj = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(xmlhttpreqest.<span class="hljs-property">responseText</span>);</span><br><span class="language-javascript">                  <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;div01&quot;</span>).<span class="hljs-property">innerHTML</span>=<span class="hljs-string">&quot;编号&quot;</span>+jsonobj.<span class="hljs-property">id</span>+<span class="hljs-string">&quot;，姓名&quot;</span>+jsonobj.<span class="hljs-property">name</span>;</span><br><span class="language-javascript"></span><br><span class="language-javascript">               &#125;</span><br><span class="language-javascript">            &#125;</span><br><span class="language-javascript">         &#125;</span><br><span class="language-javascript">      </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span> <br>      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;ajaxRequest()&quot;</span>&gt;</span>ajax request<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;div01&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h2 id="Ajax请求的特点说明"><a href="#Ajax请求的特点说明" class="headerlink" title="Ajax请求的特点说明"></a>Ajax请求的特点说明</h2><h2 id="jQuery中的ajax方法"><a href="#jQuery中的ajax方法" class="headerlink" title="jQuery中的ajax方法"></a>jQuery中的ajax方法</h2><p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210121705320.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20221012170550006"></p>
<p><strong>回调函数的参数获取服务器返回的数据</strong>  </p>
<p>这是$.ajax演示</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// ajax请求</span><br>$(<span class="hljs-string">&quot;#ajaxBtn&quot;</span>).<span class="hljs-title function_">click</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br>   <br>   $.<span class="hljs-title function_">ajax</span>(&#123;<br>      <span class="hljs-attr">url</span>:<span class="hljs-string">&quot;http://localhost:8080/jsonajax/AjaxServlet&quot;</span>,<br>      <span class="hljs-attr">data</span>:&#123;<span class="hljs-attr">action</span>:<span class="hljs-string">&quot;jQueryAjax&quot;</span>&#125;,<br>      <span class="hljs-comment">//data:&quot;action=jQueryAjax&quot;,</span><br>      <span class="hljs-attr">type</span>:<span class="hljs-string">&quot;Get&quot;</span>,<br>      <span class="hljs-attr">success</span>:<span class="hljs-keyword">function</span>(<span class="hljs-params">msg</span>)&#123;<span class="hljs-comment">//参数获取服务器返回的数据</span><br>         <span class="hljs-comment">//先转成json对象</span><br>         <span class="hljs-keyword">var</span> jsonobj=<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(msg);<br>         $(<span class="hljs-string">&quot;#msg&quot;</span>).<span class="hljs-title function_">html</span>(<span class="hljs-string">&quot;编号&quot;</span>+jsonobj.<span class="hljs-property">id</span>+<span class="hljs-string">&quot;，姓名&quot;</span>+jsonobj.<span class="hljs-property">name</span>);<br>      &#125;,<br>      <span class="hljs-attr">dataType</span>:<span class="hljs-string">&quot;text&quot;</span><br>   &#125;);<br><br>&#125;);<br></code></pre></td></tr></table></figure>

<p>在AjaxServlet中加方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">jQueryAjax</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>    System.out.println(<span class="hljs-string">&quot;jQueryAjax===方法调用了&quot;</span>);<br>    Person person=<span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-number">1</span>,<span class="hljs-string">&quot;国歌&quot;</span>);<br>    <span class="hljs-comment">//json格式的字符串</span><br>    Gson gson=<span class="hljs-keyword">new</span> <span class="hljs-title class_">Gson</span>();<br>    <span class="hljs-comment">//服务器响应一个person对象，用json字符串传送</span><br>    <span class="hljs-type">String</span> <span class="hljs-variable">personJsonString</span> <span class="hljs-operator">=</span> gson.toJson(person);<br>    <span class="hljs-comment">//往客户端返回Json字符串</span><br>    resp.getWriter().write(personJsonString);<br><br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="jQuery中的get和post方法"><a href="#jQuery中的get和post方法" class="headerlink" title="jQuery中的get和post方法"></a>jQuery中的get和post方法</h2><p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210121728950.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20221012172836113"></p>
<figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs arcade"><span class="hljs-comment">// ajax--get请求</span><br>$(<span class="hljs-string">&quot;#getBtn&quot;</span>).click(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br><br>   $.get(<span class="hljs-string">&quot;http://localhost:8080/jsonajax/AjaxServlet&quot;</span>,<span class="hljs-string">&quot;action=jQueryGet&quot;</span>,<span class="hljs-keyword">function</span>(<span class="hljs-params">data</span>)&#123;<span class="hljs-comment">//参数获取服务器返回的数据</span><br>      <span class="hljs-comment">//这里不用把data转为json对象，是因为服务器返回数据本来就设置为json对象</span><br>      $(<span class="hljs-string">&quot;#msg&quot;</span>).html(<span class="hljs-string">&quot;get编号&quot;</span>+data.id+<span class="hljs-string">&quot;,姓名&quot;</span>+data.name);<br>   &#125;,<span class="hljs-string">&quot;json&quot;</span>);<br>   <br>&#125;);<br><br><span class="hljs-comment">// ajax--post请求</span><br>$(<span class="hljs-string">&quot;#postBtn&quot;</span>).click(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br>   $.post(<span class="hljs-string">&quot;http://localhost:8080/jsonajax/AjaxServlet&quot;</span>,<span class="hljs-string">&quot;action=jQueryPost&quot;</span>,<span class="hljs-keyword">function</span>(<span class="hljs-params">data</span>)&#123;<br>      $(<span class="hljs-string">&quot;#msg&quot;</span>).html(<span class="hljs-string">&quot;post编号&quot;</span>+data.id+<span class="hljs-string">&quot;,姓名&quot;</span>+data.name);<br>   &#125;,<span class="hljs-string">&quot;json&quot;</span>);<br>   <br>&#125;);<br></code></pre></td></tr></table></figure>

<p>Servlet中加的方法</p>
<figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs reasonml">protected void j<span class="hljs-constructor">QueryGet(HttpServletRequest <span class="hljs-params">req</span>, HttpServletResponse <span class="hljs-params">resp</span>)</span> throws ServletException, IOException &#123;<br>    <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>out.println(<span class="hljs-string">&quot;jQueryget===方法调用了&quot;</span>);<br>    Person person = <span class="hljs-keyword">new</span> <span class="hljs-constructor">Person(1, <span class="hljs-string">&quot;国歌&quot;</span>)</span>;<br>    <span class="hljs-comment">//json格式的字符串</span><br>    Gson gson = <span class="hljs-keyword">new</span> <span class="hljs-constructor">Gson()</span>;<br>    <span class="hljs-comment">//服务器响应一个person对象，用json字符串传送</span><br>    String personJsonString = gson.<span class="hljs-keyword">to</span><span class="hljs-constructor">Json(<span class="hljs-params">person</span>)</span>;<br>    resp.get<span class="hljs-constructor">Writer()</span>.write(personJsonString);<br>&#125;<br><br>protected void j<span class="hljs-constructor">QueryPost(HttpServletRequest <span class="hljs-params">req</span>, HttpServletResponse <span class="hljs-params">resp</span>)</span> throws ServletException, IOException &#123;<br>    <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>out.println(<span class="hljs-string">&quot;jQuerypost===方法调用了&quot;</span>);<br>    Person person = <span class="hljs-keyword">new</span> <span class="hljs-constructor">Person(1, <span class="hljs-string">&quot;国歌&quot;</span>)</span>;<br>    <span class="hljs-comment">//json格式的字符串</span><br>    Gson gson = <span class="hljs-keyword">new</span> <span class="hljs-constructor">Gson()</span>;<br>    <span class="hljs-comment">//服务器响应一个person对象，用json字符串传送</span><br>    String personJsonString = gson.<span class="hljs-keyword">to</span><span class="hljs-constructor">Json(<span class="hljs-params">person</span>)</span>;<br>    resp.get<span class="hljs-constructor">Writer()</span>.write(personJsonString);<br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="jQuery的getJson方法"><a href="#jQuery的getJson方法" class="headerlink" title="jQuery的getJson方法"></a>jQuery的getJson方法</h2><p>$.getJSON 方法 </p>
<p>getJSON的返回值都是json对象</p>
<p>url                             请求的 url 地址 </p>
<p>data                         发送给服务器的数据 </p>
<p>callback                   成功的回调函数</p>
<figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs arcade"><span class="hljs-comment">// ajax--getJson请求</span><br>$(<span class="hljs-string">&quot;#getJSONBtn&quot;</span>).click(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br>$.getJSON(<span class="hljs-string">&quot;http://localhost:8080/jsonajax/AjaxServlet&quot;</span>,<span class="hljs-string">&quot;action=jQueryGetJson&quot;</span>,<span class="hljs-keyword">function</span>(<span class="hljs-params">data</span>)&#123;<br>   $(<span class="hljs-string">&quot;#msg&quot;</span>).html(<span class="hljs-string">&quot;getJson编号&quot;</span>+data.id+<span class="hljs-string">&quot;,姓名&quot;</span>+data.name);<br>&#125;);<br><br>&#125;);<br></code></pre></td></tr></table></figure>

<p>Servlet中增加的方法</p>
<figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs reasonml">protected void j<span class="hljs-constructor">QueryGetJson(HttpServletRequest <span class="hljs-params">req</span>, HttpServletResponse <span class="hljs-params">resp</span>)</span> throws ServletException, IOException &#123;<br>    <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>out.println(<span class="hljs-string">&quot;jQuerygetJson===方法调用了&quot;</span>);<br>    Person person = <span class="hljs-keyword">new</span> <span class="hljs-constructor">Person(1, <span class="hljs-string">&quot;国歌&quot;</span>)</span>;<br>    <span class="hljs-comment">//json格式的字符串</span><br>    Gson gson = <span class="hljs-keyword">new</span> <span class="hljs-constructor">Gson()</span>;<br>    <span class="hljs-comment">//服务器响应一个person对象，用json字符串传送</span><br>    String personJsonString = gson.<span class="hljs-keyword">to</span><span class="hljs-constructor">Json(<span class="hljs-params">person</span>)</span>;<br>    resp.get<span class="hljs-constructor">Writer()</span>.write(personJsonString);<br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="jQuery中的serialize-方法"><a href="#jQuery中的serialize-方法" class="headerlink" title="jQuery中的serialize()方法"></a>jQuery中的serialize()方法</h2><p>serialize()可以把表单中所有表单项的内容都获取到，并以 name&#x3D;value&amp;name&#x3D;value</p>
<p>“action&#x3D;jQuerySerialize&amp;”+$(“#form01”).serialize()         获取表单的所有项再和自己传的参数拼接</p>
<figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs arcade"><span class="hljs-comment">// ajax请求</span><br>$(<span class="hljs-string">&quot;#submit&quot;</span>).click(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br>   $.getJSON(<span class="hljs-string">&quot;http://localhost:8080/jsonajax/AjaxServlet&quot;</span>,<span class="hljs-string">&quot;action=jQuerySerialize&amp;&quot;</span>+$(<span class="hljs-string">&quot;#form01&quot;</span>).serialize(),<span class="hljs-keyword">function</span>(<span class="hljs-params">data</span>)&#123;<br>      $(<span class="hljs-string">&quot;#msg&quot;</span>).html(<span class="hljs-string">&quot;getJson编号&quot;</span>+data.id+<span class="hljs-string">&quot;,姓名&quot;</span>+data.name);<br>   &#125;);<br>&#125;);<br></code></pre></td></tr></table></figure>

<p>Servlet中加方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">jQuerySerialize</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>    System.out.println(<span class="hljs-string">&quot;jQuerySeialize===方法调用了&quot;</span>);<br>    <span class="hljs-comment">//获取serialize从表单中得到的用户名</span><br>    System.out.println(<span class="hljs-string">&quot;用户名&quot;</span>+req.getParameter(<span class="hljs-string">&quot;username&quot;</span>));<br>    <span class="hljs-comment">//获取serialize从表单中或得到的密码</span><br>    System.out.println(<span class="hljs-string">&quot;密码&quot;</span>+req.getParameter(<span class="hljs-string">&quot;password&quot;</span>));<br>    <span class="hljs-type">Person</span> <span class="hljs-variable">person</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-number">1</span>, <span class="hljs-string">&quot;国歌&quot;</span>);<br>    <span class="hljs-comment">//json格式的字符串</span><br>    <span class="hljs-type">Gson</span> <span class="hljs-variable">gson</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Gson</span>();<br>    <span class="hljs-comment">//服务器响应一个person对象，用json字符串传送</span><br>    <span class="hljs-type">String</span> <span class="hljs-variable">personJsonString</span> <span class="hljs-operator">=</span> gson.toJson(person);<br>    resp.getWriter().write(personJsonString);<br>&#125;<br></code></pre></td></tr></table></figure>



<h1 id="书城项目第九阶段"><a href="#书城项目第九阶段" class="headerlink" title="书城项目第九阶段"></a>书城项目第九阶段</h1><h2 id="使用-AJAX请求验证用户名是否可用"><a href="#使用-AJAX请求验证用户名是否可用" class="headerlink" title="使用 AJAX请求验证用户名是否可用"></a>使用 AJAX请求验证用户名是否可用</h2><p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210121915291.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20221012191515996"></p>
<figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs arcade">$(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br><br>   <span class="hljs-comment">//给用户名绑定失去焦点事件</span><br>   $(<span class="hljs-string">&quot;#username&quot;</span>).blur(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br>      <span class="hljs-comment">//1.获取用户名</span><br>      <span class="hljs-keyword">var</span> username=this.value;<br>      <span class="hljs-comment">//获得JSON，并得到json对象</span><br>      $.getJSON(<span class="hljs-string">&quot;http://localhost:8087/book2/UserServlet&quot;</span>,<span class="hljs-string">&quot;action=ajaxExistUsername&amp;username=&quot;</span>+username,<span class="hljs-keyword">function</span>(<span class="hljs-params">data</span>)&#123;<br>         <span class="hljs-keyword">if</span>(data.existsUsername)&#123;<br>            $(<span class="hljs-string">&quot;span.errorMsg&quot;</span>).<span class="hljs-built_in">text</span>(<span class="hljs-string">&quot;用户名已存在&quot;</span>);<br>         &#125;<br>         <span class="hljs-keyword">else</span><br>         &#123;<br>            $(<span class="hljs-string">&quot;span.errorMsg&quot;</span>).<span class="hljs-built_in">text</span>(<span class="hljs-string">&quot;用户名可用&quot;</span>);<br>         &#125;<br>      &#125;);<br><br>   &#125;);<br></code></pre></td></tr></table></figure>

<p>上面这个是regisr.jsp</p>
<p>这个是UserServlet加了一个方法</p>
<figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs reasonml">protected void ajax<span class="hljs-constructor">ExistUsername(HttpServletRequest <span class="hljs-params">req</span>, HttpServletResponse <span class="hljs-params">resp</span>)</span> throws ServletException, IOException &#123;<br>    <span class="hljs-comment">//获取请求的参数</span><br>    String username=req.get<span class="hljs-constructor">Parameter(<span class="hljs-string">&quot;username&quot;</span>)</span>;<br>    <span class="hljs-comment">//调用userService.exsitsUsername()</span><br>    boolean b = userService.exists<span class="hljs-constructor">Username(<span class="hljs-params">username</span>)</span>;<br>    <span class="hljs-comment">//把返回的结果封装成为Map对象</span><br>    Map&lt;String,Object&gt; resultMap=<span class="hljs-keyword">new</span> HashMap&lt;String,Object&gt;<span class="hljs-literal">()</span>;<br>    resultMap.put(<span class="hljs-string">&quot;existsUsername&quot;</span>,b);<br>    <span class="hljs-comment">//将Map转成json字符串</span><br>    Gson gson=<span class="hljs-keyword">new</span> <span class="hljs-constructor">Gson()</span>;<br>    String s = gson.<span class="hljs-keyword">to</span><span class="hljs-constructor">Json(<span class="hljs-params">resultMap</span>)</span>;<br>    <span class="hljs-comment">//回传给客户端</span><br>resp.get<span class="hljs-constructor">Writer()</span>.write(s);<br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="使用Ajax修改把商品添加到购物车"><a href="#使用Ajax修改把商品添加到购物车" class="headerlink" title="使用Ajax修改把商品添加到购物车"></a>使用Ajax修改把商品添加到购物车</h2><p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202210122000255.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20221012200033931"></p>
<p>index.jsp</p>
<p>把原本的添加到购物车的按钮的点击事件给改了</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">   $(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">       $(<span class="hljs-string">&quot;button.addToCart&quot;</span>).<span class="hljs-title function_">click</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript"></span><br><span class="language-javascript">           <span class="hljs-comment">/**</span></span><br><span class="hljs-comment"><span class="language-javascript">            * 在事件响应的function函数中有一个this对象，就是是当前正在响应事件的dom对象，就是那个标签的dom对象，</span></span><br><span class="hljs-comment"><span class="language-javascript">            * <span class="hljs-doctag">@type</span> &#123;<span class="hljs-type">*|jQuery</span>&#125;</span></span><br><span class="hljs-comment"><span class="language-javascript">            */</span></span><br><span class="language-javascript">           <span class="hljs-comment">/*</span></span><br><span class="hljs-comment"><span class="language-javascript">           先把this改为jQery对象然后获取属性值</span></span><br><span class="hljs-comment"><span class="language-javascript">            */</span></span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> bookId=$(<span class="hljs-variable language_">this</span>).<span class="hljs-title function_">attr</span>(<span class="hljs-string">&quot;bookId&quot;</span>);</span><br><span class="language-javascript">           <span class="hljs-comment">//跳转到</span></span><br><span class="language-javascript">         <span class="hljs-comment">/* location.href=&quot;http://localhost:8087/book2/CartServlet?action=addItem&amp;id=&quot;+bookId;*/</span></span><br><span class="language-javascript">           $.<span class="hljs-title function_">getJSON</span>(<span class="hljs-string">&quot;http://localhost:8087/book2/CartServlet&quot;</span>,<span class="hljs-string">&quot;action=ajaxAddItem&amp;id=&quot;</span>+bookId,<span class="hljs-keyword">function</span>(<span class="hljs-params">data</span>)&#123;</span><br><span class="language-javascript">               <span class="hljs-comment">//法Ajax请求，添加商品到购物车</span></span><br><span class="language-javascript">               $(<span class="hljs-string">&quot;#cartTotalCount&quot;</span>).<span class="hljs-title function_">text</span>(<span class="hljs-string">&quot;您的购物车中有&quot;</span>+data.<span class="hljs-property">totalCount</span>+<span class="hljs-string">&quot;件商品&quot;</span>);</span><br><span class="language-javascript">               $(<span class="hljs-string">&quot;#cartLastName&quot;</span>).<span class="hljs-title function_">text</span>(data.<span class="hljs-property">lastName</span>);</span><br><span class="language-javascript">           &#125;);</span><br><span class="language-javascript">       &#125;);</span><br><span class="language-javascript"></span><br><span class="language-javascript"></span><br><span class="language-javascript"></span><br><span class="language-javascript">   &#125;);</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>CartServlet</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">ajaxAddItem</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException &#123;<br>    <span class="hljs-comment">//获取请求的参数，商品编号</span><br>    <span class="hljs-type">int</span> id= WebUtils.parseInt(req.getParameter(<span class="hljs-string">&quot;id&quot;</span>),<span class="hljs-number">0</span>);<br>    <span class="hljs-comment">//调用bookService.queryBookById(id):得到Book的信息</span><br>    <span class="hljs-type">Book</span> <span class="hljs-variable">book</span> <span class="hljs-operator">=</span> bookService.queryBookById(id);<br>    <span class="hljs-comment">//把图书信息转化成为CartItem商品项</span><br>    CartItem cartItem=<span class="hljs-keyword">new</span> <span class="hljs-title class_">CartItem</span>(book.getId(),book.getName(),<span class="hljs-number">1</span>,book.getPrice(),book.getPrice());<br><br><br>    <span class="hljs-comment">/*</span><br><span class="hljs-comment">    用session存储cart信息</span><br><span class="hljs-comment">     */</span><br><br>    <span class="hljs-type">Cart</span> <span class="hljs-variable">cart</span> <span class="hljs-operator">=</span> (Cart) req.getSession().getAttribute(<span class="hljs-string">&quot;cart&quot;</span>);<br>    <span class="hljs-keyword">if</span>(cart==<span class="hljs-literal">null</span>)&#123;<br>        cart=<span class="hljs-keyword">new</span> <span class="hljs-title class_">Cart</span>();<br>        req.getSession().setAttribute(<span class="hljs-string">&quot;cart&quot;</span>,cart);<br>    &#125;<br>    <span class="hljs-comment">//调用Cart.addItem(CartItem)添加商品项</span><br>    cart.addItem(cartItem);<br>    System.out.println(cart);<br>    <span class="hljs-comment">//重定向回商品列表页面</span><br>    <span class="hljs-comment">/*</span><br><span class="hljs-comment">    req.getHeader(&quot;Referer&quot;)获取请求服务器的地址，然后下面再跳回到这个地址</span><br><span class="hljs-comment">     */</span><br>    req.getSession().setAttribute(<span class="hljs-string">&quot;lastName&quot;</span>,cartItem.getName());<br><br>    <span class="hljs-comment">//返回购物车总的商品数量和最后一个添加的商品</span><br>    HashMap&lt;String, Object&gt; resultMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();<br>    resultMap.put(<span class="hljs-string">&quot;totalCount&quot;</span>,cart.getTotalCount());<br>    resultMap.put(<span class="hljs-string">&quot;lastName&quot;</span>,cartItem.getName());<br><br>    Gson gson=<span class="hljs-keyword">new</span> <span class="hljs-title class_">Gson</span>();<br>    <span class="hljs-type">String</span> <span class="hljs-variable">resultMapJsonString</span> <span class="hljs-operator">=</span> gson.toJson(resultMap);<br>    resp.getWriter().write(resultMapJsonString);<br><br>&#125;<br></code></pre></td></tr></table></figure>

<p>index.jsp中的html代码</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;c:<span class="hljs-keyword">if</span> test=<span class="hljs-string">&quot;$&#123;empty sessionScope.cart.items&#125;&quot;</span>&gt;<br>    &lt;%--购物车为空的输出--%&gt;<br>    &lt;span id=<span class="hljs-string">&quot;cartTotalCount&quot;</span>&gt;&lt;/span&gt;<br>    &lt;div&gt;<br>        &lt;span id=<span class="hljs-string">&quot;cartLastName&quot;</span> style=<span class="hljs-string">&quot;color: red&quot;</span>&gt;当前购物车为空&lt;/span&gt;<br>    &lt;/div&gt;<br>&lt;/c:<span class="hljs-keyword">if</span>&gt;<br>&lt;c:<span class="hljs-keyword">if</span> test=<span class="hljs-string">&quot;$&#123;not empty sessionScope.cart.items&#125;&quot;</span>&gt;<br><br>    &lt;%--购物车为空的输出--%&gt;<br>    &lt;span id=<span class="hljs-string">&quot;cartTotalCount&quot;</span>&gt;您的购物车中有$&#123;sessionScope.cart.totalCount&#125;件商品&lt;/span&gt;<br>    &lt;div&gt;<br><br>        您刚刚将&lt;span id=<span class="hljs-string">&quot;cartLastName&quot;</span> style=<span class="hljs-string">&quot;color: red&quot;</span>&gt;$&#123;sessionScope.lastName&#125;&lt;/span&gt;加入到了购物车中<br>    &lt;/div&gt;<br><br>&lt;/c:<span class="hljs-keyword">if</span>&gt;<br></code></pre></td></tr></table></figure>

<p>给标签加上了id   cartTotalCount   cartLastName</p>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>javaweb</div>
      <div>http://example.com/2022/09/29/javaweb/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>Author</div>
          <div>John Doe</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>Posted on</div>
          <div>September 29, 2022</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>Licensed under</div>
          <div>
            
              
              
                <a target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - Attribution">
                    <i class="iconfont icon-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2022/09/29/mybatis/" title="mybatis">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">mybatis</span>
                        <span class="visible-mobile">Previous</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2022/09/29/java/" title="java">
                        <span class="hidden-mobile">java</span>
                        <span class="visible-mobile">Next</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;Table of Contents</p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">Search</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">Keyword</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    
      <script  src="/js/img-lazyload.js" ></script>
    
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">Blog works best with JavaScript enabled</div>
  </noscript>
<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"model":{"jsonPath":"/live2dw/assets/koharu.model.json"},"display":{"position":"left","width":150,"height":300},"mobile":{"show":true},"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>
</html>
