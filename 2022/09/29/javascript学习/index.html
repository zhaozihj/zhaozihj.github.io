

<!DOCTYPE html>
<html lang="en" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/img/fluid.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="John Doe">
  <meta name="keywords" content="">
  
    <meta name="description" content="javascript学习javascript是一种弱类型脚本语言，其源代码不需经过编译，而是由浏览器解释运行，用于控制网页的行为 前端后端都有所应用 css：绝定网页的表现样式 html：决定网页的结构和内容 ECMAScript它可以理解为是Javascript的一个标准最新版本已经到es6了，但是大部分浏览器还是只停留在es5代码上 具有交互性：就像那个输入密码不符合规范，然后反馈给用户 快速">
<meta property="og:type" content="article">
<meta property="og:title" content="javascript">
<meta property="og:url" content="http://example.com/2022/09/29/javascript%E5%AD%A6%E4%B9%A0/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="javascript学习javascript是一种弱类型脚本语言，其源代码不需经过编译，而是由浏览器解释运行，用于控制网页的行为 前端后端都有所应用 css：绝定网页的表现样式 html：决定网页的结构和内容 ECMAScript它可以理解为是Javascript的一个标准最新版本已经到es6了，但是大部分浏览器还是只停留在es5代码上 具有交互性：就像那个输入密码不符合规范，然后反馈给用户 快速">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/img/miaowazhongzi.jpg">
<meta property="article:published_time" content="2022-09-29T15:31:35.000Z">
<meta property="article:modified_time" content="2023-04-10T12:59:40.293Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://example.com/img/miaowazhongzi.jpg">
  
  
  
  <title>javascript - Hexo</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.9.3","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg","onlypost":true,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 6.3.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>java宝库</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                Home
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                Archives
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                Categories
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                Tags
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                About
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="javascript"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2022-09-29 23:31" pubdate>
          September 29, 2022 pm
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          56k words
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          469 mins
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">javascript</h1>
            
            
              <div class="markdown-body">
                
                <h1 id="javascript学习"><a href="#javascript学习" class="headerlink" title="javascript学习"></a>javascript学习</h1><p>javascript是一种弱类型脚本语言，其源代码不需经过编译，而是由浏览器解释运行，用于控制网页的行为</p>
<p>前端后端都有所应用</p>
<p>css：绝定网页的表现样式</p>
<p>html：决定网页的结构和内容</p>
<p>ECMAScript它可以理解为是Javascript的一个标准最新版本已经到es6了，但是大部分浏览器还是只停留在es5代码上</p>
<p>具有交互性：就像那个输入密码不符合规范，然后反馈给用户</p>
<h3 id="快速入门"><a href="#快速入门" class="headerlink" title="快速入门"></a>快速入门</h3><p>javascript的使用方式  第一种 ，需要在head标签或者body标签中用script标签书写javascript代码</p>
<p>第二种：引入javascript文件</p>
<p>但是一个<script>标签中只能左两者中的任意一个，不能同时都做</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;html lang=<span class="hljs-string">&quot;en&quot;</span>&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">tile</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">tile</span>&gt;</span>&gt;</span><br><span class="language-xml"></span><br><span class="language-xml"></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">​    <span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;hello world&#x27;</span>);<span class="hljs-comment">//跳出一个hello world的弹窗</span></span></span><br><span class="language-javascript"><span class="language-xml">​    </span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-comment">&lt;!--在script标签内写javascript代码--&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml"><span class="hljs-comment">&lt;!--外部引入 --&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;123.com/1.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml"></span><br><span class="language-xml"></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>&gt;</span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></span><br><br><br></code></pre></td></tr></table></figure>

<h3 id="2基本语法入门"><a href="#2基本语法入门" class="headerlink" title="2基本语法入门"></a>2基本语法入门</h3><p>浏览器必备调试须知</p>
<p>点一下代码左侧序号就是增加断点，这时刷新页面程序就会在断点处暂停</p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209291641801.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20220327151946276"></p>
<script>
<!--严格区分大小写 -->
//变量类型只有var
var num = 1; var zzz=2;//一行俩分号也行
var name="zzh";
alert(num);
//条件控制,这块所有的几乎都和c语言一样
if(2>1)
{
    alert("true");
    if(2>1)
    {
        alert("true");
    }
}



<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-section">&lt;/script&gt;</span><br></code></pre></td></tr></table></figure>

### 3.数据类型

javascript中的特殊值

undefined  未定义，所有js变量未赋予初始值的时候，默认值都是undefined

null         空值

NAN   非数字









数值，文本，图形，音频，视频

#### numbe类型r  js不区分小数和整数

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-number">123</span>  <span class="hljs-comment">//整数123</span><br><br><span class="hljs-number">123.1</span> <span class="hljs-comment">//浮点数123.1</span><br><br><span class="hljs-number">1.123e3</span><span class="hljs-comment">//科学计数法</span><br><br>-<span class="hljs-number">99</span>  <span class="hljs-comment">//负数</span><br><br><span class="hljs-title class_">NaN</span>  <span class="hljs-comment">//not a number</span><br><br><span class="hljs-title class_">Infinity</span>  <span class="hljs-comment">//表述无限大，超出javascript正常使用了</span><br></code></pre></td></tr></table></figure>

#### 字符串类型

1用单引号双引号包裹

2注意转义字符   \   转义字符\   后的内容是一个正常的字符串没有特殊含义

​    

<figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs clean">  \n换行，\u4e2d 这个是unicode字符   格式是\u####<br><br>\x41  Ascll字符<br><br><span class="hljs-string">&#x27;abc&#x27;</span>     <span class="hljs-string">&quot;abc&quot;</span><br></code></pre></td></tr></table></figure>

3多行字符串编写（tab键上面的反引号）

<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">  var msg</span>=<span class="hljs-string">`</span><br><span class="hljs-string">asbss</span><br><span class="hljs-string">abslfjsdlf</span><br><span class="hljs-string"></span><br><span class="hljs-string">  `</span>;<br></code></pre></td></tr></table></figure>

原样输出两行

4，模板字符串

  let msg=`你好呀，${a}`;   esc6里面的

5.字符串长度

var student="student";

console.log(student.length);//字符串长度

6.字符串的可变性，不可变

不能用改变数组元素的方法来改变字符串中的内容

7.大小写转换

console.log(student.toUpperCase())

console.log(student.toLowerCase())

![image-20220327165556516](https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209291641802.png)

在控制台里输入这个，后面就会出来一堆方法，类似于java

#### 布尔值

true ，false

#### 逻辑运算

在javascript中所有的变量，都可以作为一个boolean类型的变量去使用

0，null，undefined，“”都认为是false

&& 

第一种：当表达式全为真时，返回最后一个表达式的值

第二种：当表达式中，有一个为假时，返回第一个为假的表达式的值

<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs awk">        var a = <span class="hljs-string">&quot;abc&quot;</span>;<br>        var b = true;<br>        var d = false;<br>        var c = null;<br><br><span class="hljs-regexp">//</span> alert( a &amp;&amp; b );<span class="hljs-regexp">//</span>true<br><span class="hljs-regexp">//</span> alert( b &amp;&amp; a );<span class="hljs-regexp">//</span>abc<br><span class="hljs-regexp">//</span> alert( a &amp;&amp; d ); <span class="hljs-regexp">//</span> false<br><span class="hljs-regexp">//</span> alert( a &amp;&amp; c ); <span class="hljs-regexp">//</span> null<br></code></pre></td></tr></table></figure>

||

<figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs 1c"><span class="hljs-string">|| 或运算</span><br>     第一种情况：当表达式全为假时，返回最后一个表达式的值<br>     第二种情况：只要有一个表达式为真。就会把回第一个为真的表达式的值*/<br></code></pre></td></tr></table></figure>

<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-regexp">//</span> alert( d || c ); <span class="hljs-regexp">//</span> null<br><span class="hljs-regexp">//</span> alert( c|| d ); <span class="hljs-regexp">//</span>false<br><br><span class="hljs-regexp">//</span> alert( a || c ); <span class="hljs-regexp">//</span>abc<br><span class="hljs-regexp">//</span> alert( b || c ); <span class="hljs-regexp">//</span>true<br></code></pre></td></tr></table></figure>

！

#### 比较运算符

= 赋值号

==  等于（类型不一样，值一样也会判断为true）

=== 绝对等于(类型一样，值一样)

NAN与所有的数值都不相等，包括自己

只能通过isNaN(NaN)来判断这个数是否是NaN

#### 浮点数问题

console.log((1/3) === (1-2/3))这个的返回值是faulse

尽量避免使用浮点数进行运算，存在精度问题

null空

undefined未定义

#### 数组

快速入门数组

<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> arr = [<span class="hljs-literal">true</span>,<span class="hljs-number">1</span>]; <span class="hljs-comment">// 定义一个空数组</span></span><br><span class="language-javascript">        <span class="hljs-comment">// alert( arr.length ); // 0</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">        arr[<span class="hljs-number">0</span>] = <span class="hljs-number">12</span>;</span><br><span class="language-javascript">        <span class="hljs-comment">// alert( arr[0] );//12</span></span><br><span class="language-javascript">        <span class="hljs-comment">// alert( arr.length ); // 0</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">// javaScript语言中的数组，只要我们通过数组下标赋值，那么最大的下标值，就会自动的给数组做扩容操作。</span></span><br><span class="language-javascript">        <span class="hljs-comment">//其中没有进行赋值的元素是undefined</span></span><br><span class="language-javascript">        arr[<span class="hljs-number">2</span>] = <span class="hljs-string">&quot;abc&quot;</span>;</span><br><span class="language-javascript">        <span class="hljs-title function_">alert</span>(arr.<span class="hljs-property">length</span>); <span class="hljs-comment">//3</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">// alert(arr[1]);// undefined</span></span><br><span class="language-javascript">        <span class="hljs-comment">// 数组的遍历</span></span><br><span class="language-javascript">        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; arr.<span class="hljs-property">length</span>; i++)&#123;</span><br><span class="language-javascript">            <span class="hljs-title function_">alert</span>(arr[i]);</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript"></span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>





var arr=[1,2,4,'hello'];可以是不同类型的内容在一个数组中

console.log(arr[0])   在控制台显示数组的第一个元素，去数组下标，如果越界了，就会undifined

改变第一个元素的值 arr[0]=1

1.长度

arr.length

注意:假如给arr.length赋值，数组大小就会发生变化，如果赋值过小，元素就会丢失

2.indexOf

arr.indexOf(2)返回的是2这个数字在数组中的下标索引

字符串“1”和数字1是不同的

3.slice()截取array的一部分，返回一个新数组

arr.slice(1)把第一个元素去掉，然后界取后面的

4.arr.push(),和arr.pop的使用

![image-20220327171226523](https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209291641803.png)

arr.push是往最后加，arr.pop()是将数组最后面那个弹出

5.unshift(),shift() 头部

![image-20220327171637863](https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209291641804.png)

unshift:压入到头部

shift:弹出头部的一个元素

6.sort()

排序

![image-20220327171906070](https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209291641805.png)



9，连接符join

打印拼接数组，使用特定的字符串连接

<figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs axapta">arr.<span class="hljs-keyword">join</span>(<span class="hljs-string">&#x27;-&#x27;</span>)<br><span class="hljs-string">&#x27;1-2-4-a-b-hello&#x27;</span><br></code></pre></td></tr></table></figure>

10，多维数组

arr=[[1,2],[3,4],["4","5"]]

![image-20220327173426046](https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209291641806.png)

取值



#### 对象

对象是大括号，数组是中括号

<script>
    var person={
         name:"qinjiang",
         age:3,
         tags:['js','java']//数组
    }
</script>

<p>var 对象名={</p>
<p>属性名：属性值，</p>
<p>属性名：属性值</p>
<p>}</p>
<p>取对象的值</p>
<p>console.log(person.name)</p>
<p>1.对象赋值</p>
<p>person.name="qinjiang"</p>
<p>2.使用一个不存在的对象属性，不会报错</p>
<p>只会出现一个undefined</p>
<p>3，动态的删减属性,通过delete删除对象的属性</p>
<p>delete person.name<br>true<br>person.name<br>undefined</p>
<p>4，动态的添加，直接给新的属性添加值即可</p>
<p>person.haha="haha"<br>'haha'<br>person<br>{age: 3, tags: Array(2), haha: 'haha'}</p>
<p>5，判断属性值是否是在这个对象中  xxx in xxx!</p>
<p>'age' in person<br>true</p>
<p>'toString' in person<br>true</p>
<p>6.判断一个属性是否是这个对象自身拥有的</p>
<p>person.hasOwnProperty('toString')<br>false<br>person.hasOwnProperty('age')<br>true</p>
<p>toString这种是每一个对象都会有的属性，但age这种是自己加的</p>
<h4 id="流程控制"><a href="#流程控制" class="headerlink" title="流程控制"></a>流程控制</h4><p>while,for,dowhile循环与java c语言都一样</p>
<p>forEach遍历数组有所差别</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript">arr.<span class="hljs-title function_">forEach</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">value</span>)<br><br>&#123;<br><br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(value);<br><br>&#125;)<br>这是一个函数这种<br></code></pre></td></tr></table></figure>

<p>for循环遍历数组</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> num <span class="hljs-keyword">in</span> arr)<br><br>&#123;<br><br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arr[num]);<br><br>&#125;<br></code></pre></td></tr></table></figure>

<p>arr是数组，num是下标</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><br></code></pre></td></tr></table></figure>

<h4 id="3-5Map和Set"><a href="#3-5Map和Set" class="headerlink" title="3.5Map和Set"></a>3.5Map和Set</h4><p>Map使用</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> map=<span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>([[<span class="hljs-string">&#x27;tom&#x27;</span>,<span class="hljs-number">100</span>],[<span class="hljs-string">&#x27;jack&#x27;</span>,<span class="hljs-number">90</span>],[<span class="hljs-string">&#x27;haha&#x27;</span>,<span class="hljs-number">80</span>]])<br><br><span class="hljs-keyword">var</span> name= map.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;tom&#x27;</span>);<span class="hljs-comment">//返回值是100，通过key获得value</span><br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(name);<br>map.<span class="hljs-title function_">delete</span>(<span class="hljs-string">&quot;tom&quot;</span>);<span class="hljs-comment">//删除一个元素</span><br></code></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript">map.<span class="hljs-title function_">set</span>(<span class="hljs-string">&#x27;admin&#x27;</span>,<span class="hljs-number">123456</span>);  <span class="hljs-comment">//在map里新增一个元素</span><br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(name);<br></code></pre></td></tr></table></figure>

<h4 id="Set使用-无序不重复的集合"><a href="#Set使用-无序不重复的集合" class="headerlink" title="Set使用:无序不重复的集合"></a>Set使用:无序不重复的集合</h4><script>
var set=new Set([3,1,1,1,1]);
set.add(2);//添加某个元素
set.delete(1);//删除某个元素
console.log(set.has(3));//看是否有3在这个里面
</script>

<h4 id="3-6-iterator"><a href="#3-6-iterator" class="headerlink" title="3.6  iterator"></a>3.6  iterator</h4><p>遍历数组</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs JavaScript"><span class="hljs-keyword">var</span> arr=[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>];<br><br><span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> x <span class="hljs-keyword">of</span> arr)<br><br>&#123;<br><br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(x)<br><br>&#125;<br></code></pre></td></tr></table></figure>

<p>遍历map</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs JavaScript"><span class="hljs-keyword">var</span> map= <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>([[<span class="hljs-string">&quot;tom&quot;</span>,<span class="hljs-number">100</span>][<span class="hljs-string">&quot;jack&quot;</span>,<span class="hljs-number">90</span>]]);<br><br><span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> x <span class="hljs-keyword">of</span> map)<br><br>&#123;<br><br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(x)<br><br>&#125;<br></code></pre></td></tr></table></figure>

<p>遍历set</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Javascript"><span class="hljs-keyword">var</span> set=<span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>([<span class="hljs-number">3</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>]);<br><span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> x <span class="hljs-keyword">of</span> set)<br><br>&#123;<br><br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(x);<br><br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="4，函数"><a href="#4，函数" class="headerlink" title="4，函数"></a>4，函数</h3><p><strong>定义方式一</strong></p>
<p>绝对值函数</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//定义函数</span><br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">abs</span>(<span class="hljs-params">x</span>)<br><br>&#123;<br><br>  <span class="hljs-keyword">if</span>(x&gt;=<span class="hljs-number">0</span>)<br><br>  &#123;<br><br>​    <span class="hljs-keyword">return</span> x;<br><br>  &#125;<br><br>  <span class="hljs-keyword">else</span><br><br>  &#123;<br><br>​    <span class="hljs-keyword">return</span> -x;<br><br>  &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure>

<p>如果没有执行return，函数执行完也会返回结果，结果就是undefined</p>
<p><strong>有参函数</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">// 定义一个无参函数</span></span><br><span class="language-javascript">        <span class="hljs-keyword">function</span> <span class="hljs-title function_">fun</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">            <span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;无参函数fun()被调用了&quot;</span>);</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">        <span class="hljs-comment">// 函数调用===才会执行</span></span><br><span class="language-javascript">        <span class="hljs-comment">// fun();</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-keyword">function</span> <span class="hljs-title function_">fun2</span>(<span class="hljs-params">a ,b</span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;有参函数fun2()被调用了 a=&gt;&quot;</span> + a + <span class="hljs-string">&quot;,b=&gt;&quot;</span>+b);</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">// fun2(12,&quot;abc&quot;);</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">// 定义带有返回值的函数</span></span><br><span class="language-javascript">        <span class="hljs-keyword">function</span> <span class="hljs-title function_">sum</span>(<span class="hljs-params">num1,num2</span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-keyword">var</span> result = num1 + num2;</span><br><span class="language-javascript">            <span class="hljs-keyword">return</span> result;</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-title function_">alert</span>( <span class="hljs-title function_">sum</span>(<span class="hljs-number">100</span>,<span class="hljs-number">50</span>) );</span><br><span class="language-javascript"></span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p><strong>定义方式二</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> abs1 =<span class="hljs-keyword">function</span>(<span class="hljs-params">x</span>)<br><br>&#123;<br><br>  <span class="hljs-keyword">if</span>(x&gt;=<span class="hljs-number">0</span>)<br><br>  &#123;<br><br>​    <span class="hljs-keyword">return</span> x;<br><br>  &#125;<br><br>  <span class="hljs-keyword">else</span><br><br>  &#123;<br><br>​    <span class="hljs-keyword">return</span> -x;<br><br>  &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure>

<p>function(x){.....}这是一个匿名函数，通过abs1就可以调用函数</p>
<p>方式一和方式二等价</p>
<p>调用函数</p>
<p>abs1(10)   //10</p>
<p>abs1(-10)  //10</p>
<p>参数问题：javascript可以传任意个参数，也可以不传递参数</p>
<p><strong>js中函数不能进行重载，在js中重载会覆盖掉上一次的定义</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript"></span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-keyword">function</span> <span class="hljs-title function_">fun</span>(<span class="hljs-params">a,b</span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;有参函数fun(a,b)&quot;</span>);</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-keyword">function</span> <span class="hljs-title function_">fun</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;无参函数fun()&quot;</span>);</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-title function_">fun</span>(<span class="hljs-number">1</span>,<span class="hljs-string">&quot;ad&quot;</span>);</span><br><span class="language-javascript"></span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>





<p>可以手动抛出异常</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> abs2 = <span class="hljs-keyword">function</span>(<span class="hljs-params">x</span>)<br><br>&#123;<br><br>  <span class="hljs-keyword">if</span>(<span class="hljs-keyword">typeof</span> x!==<span class="hljs-string">&#x27;number&#x27;</span>)<br><br>  &#123;<br><br>​    <span class="hljs-keyword">throw</span> <span class="hljs-string">&#x27;not a number&#x27;</span>;<br><br>  &#125;<br><br>  <span class="hljs-keyword">if</span>(x&gt;=<span class="hljs-number">0</span>)<br><br>  &#123;<br><br>​    <span class="hljs-keyword">return</span> x;<br><br>  &#125;<br><br>  <span class="hljs-keyword">else</span><br><br>  &#123;<br><br>​    <span class="hljs-keyword">return</span> -x;<br><br>  &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure>







<p><strong>arguments</strong></p>
<p>字符串和数字相加的时候同样是字符串的拼接</p>
<p>这个东西叫隐形参数，就是在function函数中不需要定义，但却可以直接用来获取所有参数的</p>
<p>arguments可以获得传进来的所有参数，是一个数组</p>
<p>这个例子其实x只是第一个传进来的参数</p>
<p>包括第一个参数在内的其他参数都是在arguments数组中的</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> abs3=<span class="hljs-keyword">function</span>(<span class="hljs-params">x</span>)<br><br>&#123;<br><br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;x&gt;=&quot;</span>+x);<br><br>  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-variable language_">arguments</span>.<span class="hljs-property">length</span>;i++)<br><br>  &#123;<br><br>​    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">arguments</span>[i]);<br><br>  &#125;<br><br>  <span class="hljs-keyword">if</span>(x&gt;=<span class="hljs-number">0</span>)<br><br>  &#123;<br><br>​    <span class="hljs-keyword">return</span> x;<br><br>  &#125;<br><br>  <span class="hljs-keyword">if</span>(x&lt;=<span class="hljs-number">0</span>)<br><br>  &#123;<br><br>​    <span class="hljs-keyword">return</span> -x;<br><br>  &#125;<br><br><br><br>&#125;<br></code></pre></td></tr></table></figure>

<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209291641807.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20220328142826942"></p>
<p>问题：arguments包含所有的参数，我们有时候想用多余的参数来进行附加操作，需要排除己有操作</p>
<figure class="highlight qml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs qml"><span class="hljs-comment">// 需求：要求 编写 一个函数。用于计算所有参数相加的和并返回</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sum</span>(<span class="hljs-params">num1,num2</span>) </span>&#123;<br>    <span class="hljs-keyword">var</span> result = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-built_in">arguments</span>.length; i++) &#123;<br>        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span>(<span class="hljs-built_in">arguments</span>[i]) == <span class="hljs-string">&quot;number&quot;</span>) &#123;<span class="hljs-comment">//这一步操作删除了数组当中的所有的不是数字的类型的元素</span><br>            result += <span class="hljs-built_in">arguments</span>[i];<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> result;<br>&#125;<br><br>alert( sum(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-string">&quot;abc&quot;</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>,<span class="hljs-number">7</span>,<span class="hljs-number">8</span>,<span class="hljs-number">9</span>) );<br></code></pre></td></tr></table></figure>





<p><strong>rest关键字</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">aaa</span>(<span class="hljs-params">a,b,...rest</span>)<br><br>&#123;<br><br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;a&gt;=&quot;</span>+a);<br><br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;b&gt;=&quot;</span>+b);<br><br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(rest);<br><br>&#125;<br></code></pre></td></tr></table></figure>

<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209291641808.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20220328143517826"></p>
<p>第三个数组就是rest，就是没有被使用的参数</p>
<p>rest参数只能写在最后一个参数,前面要加...</p>
<h4 id="变量的作用域"><a href="#变量的作用域" class="headerlink" title="变量的作用域"></a>变量的作用域</h4><p>var定义的变量实际是由作用域的，在函数体中声明，则在函数体外是不可以使用的(非要实现后面可以研究闭包)</p>
<p>如果两个函数使用了相同的变量名，只要在函数内部，就不冲突</p>
<p>两个函数进行嵌套，内部函数可以访问外部函数的成员，反之则不行</p>
<p>假设javascript中函数查找变量从自身函数开始，由内向外查找，假设外部存在这个同名的函数变量，则内部函数就会频闭外部函数的变量。</p>
<p>提升变量的作用域，在函数的一开头就把所有的需要加的变量都加上去，便于代码维护，不要乱放</p>
<h5 id="全局变量"><a href="#全局变量" class="headerlink" title="全局变量"></a>全局变量</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> ab=<span class="hljs-number">1</span>;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">f</span>(<span class="hljs-params"></span>)<br><br>&#123;<br><br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(ab);<br><br>&#125;<br><br><span class="hljs-title function_">f</span>();<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(ab);<br></code></pre></td></tr></table></figure>



<h5 id="全局对象"><a href="#全局对象" class="headerlink" title="全局对象"></a>全局对象</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> x=<span class="hljs-string">&#x27;xxx&#x27;</span>;<br><br><span class="hljs-title function_">alert</span>(x);<br><br><span class="hljs-title function_">alert</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">x</span>);<span class="hljs-comment">//默认所有的全局变量，就会自动绑定在window对象下</span><br><br><span class="hljs-keyword">var</span> old_alert=<span class="hljs-variable language_">window</span>.<span class="hljs-property">alert</span>;<span class="hljs-comment">//alert是window对象下的一个方法</span><br><br><span class="hljs-title function_">old_alert</span>(x);<br><br><span class="hljs-variable language_">window</span>.<span class="hljs-property">alert</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>)&#123;<br><br><br><br>&#125;<br><br><span class="hljs-title function_">alert</span>(<span class="hljs-number">123</span>);<span class="hljs-comment">//发现alert()失效了</span><br><br><span class="hljs-variable language_">window</span>.<span class="hljs-property">alert</span>= old_alert;<br><br><span class="hljs-variable language_">window</span>.<span class="hljs-title function_">alert</span>(<span class="hljs-number">456</span>);<span class="hljs-comment">//发现alert()又恢复了</span><br></code></pre></td></tr></table></figure>

<p>javascript实际上只有一个全局作用域，任何变量（函数也可以视为变量），假设没有在函数作用范围内找到，就会向外查找，如果在全局作用域都没有找到，就会报错，refrenceerror</p>
<p><strong>规范</strong></p>
<p>由于我们所有的全局变量都会绑定到我们的window上，如果不同的js文件，使用了相同的全局变量，冲突，如何能够减少冲突</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//唯一的全局变量</span><br><br><span class="hljs-keyword">var</span> zzh =&#123;&#125;;<br><br><br><br><span class="hljs-comment">//定义全局变量</span><br><br>zzh.<span class="hljs-property">name</span>=<span class="hljs-string">&quot;zzh&quot;</span>;<br><br>zzh.<span class="hljs-property">add</span>= <span class="hljs-keyword">function</span>(<span class="hljs-params">a,b</span>)&#123;<br><br>  <span class="hljs-keyword">return</span> a+b;<br><br><span class="hljs-comment">//把自己的代码全部放入自己定义的唯一空间名字中，降低全局命名冲突的问题</span><br></code></pre></td></tr></table></figure>

<p><strong>局部作用域 let</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">a</span>(<span class="hljs-params"></span>)&#123;<br><br>  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">100</span>;i++)<br><br>  &#123;<br><br>​    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(i);<br><br>  &#125;<br><br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(i+<span class="hljs-number">1</span>);<br><br>&#125;<br><br><span class="hljs-title function_">a</span>()<br></code></pre></td></tr></table></figure>

<p>因为是let所以i只在for循环里好用，在外面就不好使，所以就输出到99，没有101</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">b</span>(<span class="hljs-params"></span>)&#123;<br><br>  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">100</span>;i++)<br><br>  &#123;<br><br>​    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(i);<br><br>  &#125;<br><br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(i+<span class="hljs-number">1</span>);<br><br>&#125;<br><br><span class="hljs-title function_">b</span>();<br></code></pre></td></tr></table></figure>

<p>用了var就可以输出到101了</p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209291641809.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20220328153504782"></p>
<p><strong>常量 const</strong></p>
<p>在es6之前，只有用全部大写字母命名的变量就是常量，建议不要修改这样的值</p>
<p>但也是可以进行修改的</p>
<p>在es6引入了常量关键字</p>
<figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs arcade">const <span class="hljs-literal">PI</span>=<span class="hljs-number">3.14</span>;<br><br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(<span class="hljs-literal">PI</span>);<br></code></pre></td></tr></table></figure>

<p>如果要改变PI的值的话就会报错</p>
<h3 id="5-面向对象编程"><a href="#5-面向对象编程" class="headerlink" title="5.面向对象编程"></a>5.面向对象编程</h3><p>Object形式的自定义对象</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;!<span class="hljs-variable constant_">DOCTYPE</span> html&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-comment">// 对象的定义：</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-comment">//     var 变量名 = new Object();   // 对象实例（空对象）</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-comment">//     变量名.属性名 = 值;         // 定义一个属性</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-comment">//     变量名.函数名 = function()&#123;&#125;  // 定义一个函数</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-keyword">var</span> obj = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>();</span></span><br><span class="language-javascript"><span class="language-xml">        obj.<span class="hljs-property">name</span> = <span class="hljs-string">&quot;华仔&quot;</span>;</span></span><br><span class="language-javascript"><span class="language-xml">        obj.<span class="hljs-property">age</span> = <span class="hljs-number">18</span>;</span></span><br><span class="language-javascript"><span class="language-xml">        obj.<span class="hljs-property">fun</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">            <span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;姓名：&quot;</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> + <span class="hljs-string">&quot; , 年龄：&quot;</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span>);</span></span><br><span class="language-javascript"><span class="language-xml">        &#125;</span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-comment">// 对象的访问：</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-comment">//     变量名.属性 / 函数名();</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-comment">// alert( obj.age );</span></span></span><br><span class="language-javascript"><span class="language-xml">        obj.<span class="hljs-title function_">fun</span>();</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></span><br></code></pre></td></tr></table></figure>

<p>方法就是把函数放在对象的里面，对象只有两个东西，属性和方法</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> zzh=&#123;<br><br>  <span class="hljs-attr">name</span>:<span class="hljs-string">&#x27;zzh&#x27;</span>,<br><br>  <span class="hljs-attr">birth</span>:<span class="hljs-number">2000</span>,<br><br>  <span class="hljs-attr">age</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br><br>​    <span class="hljs-comment">//今年-出生的年</span><br><br>​    <span class="hljs-keyword">var</span> now=<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().<span class="hljs-title function_">getFullYear</span>();   <span class="hljs-comment">//这就相当于调用Date()类中的getfullyear方法，这就是new一个date对象调用里面的方法</span><br><br>​    <span class="hljs-keyword">return</span> now-<span class="hljs-variable language_">this</span>.<span class="hljs-property">birth</span>;<br><br>  &#125;<br><br>&#125;<br><span class="hljs-comment">//属性调用</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(zzh.<span class="hljs-property">name</span>);<br><span class="hljs-comment">//方法调用，一定要带括号</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(zzh.<span class="hljs-title function_">age</span>());<br></code></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">getAge</span>(<span class="hljs-params"></span>)&#123;<br><br>  <span class="hljs-comment">//今年-出生的年</span><br><br>  <span class="hljs-keyword">var</span> now=<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().<span class="hljs-title function_">getFullYear</span>();<br><br>​    <span class="hljs-keyword">return</span> now-<span class="hljs-variable language_">this</span>.<span class="hljs-property">birth</span>;<br><br>&#125;<br>getAge.<span class="hljs-title function_">apply</span>(zzh1,[])<span class="hljs-comment">//this，指向了zzh1这个对象</span><br><br><br><span class="hljs-keyword">var</span> zzh1=&#123;<br><br>  <span class="hljs-attr">name</span>:<span class="hljs-string">&#x27;zzh&#x27;</span>,<br><br>  <span class="hljs-attr">birth</span>:<span class="hljs-number">2000</span>,<br><br>  <span class="hljs-attr">age</span>:getAge <span class="hljs-comment">//拉取外部的函数就不用加括号了</span><br><br>&#125;<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(zzh1.<span class="hljs-title function_">age</span>())<span class="hljs-comment">//但这里调用对象里的方法还是需要括号的</span><br></code></pre></td></tr></table></figure>

<p>Java中:this是无法指向的，是默认指向调用它的那个对象</p>
<p>javascript中:apply函数可以控制this的指向，但默认的话依旧是指向调用它的那个对象</p>
<h5 id="内部对象"><a href="#内部对象" class="headerlink" title="内部对象"></a>内部对象</h5><p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209291641810.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20220328183236841"></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs javascript">date的基本使用<br><span class="hljs-keyword">var</span> now=<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>();<br>输入 now.之后会出现所有的date对象的方法<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(now.<span class="hljs-title function_">getFullYear</span>());<span class="hljs-comment">//年</span><br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(now.<span class="hljs-title function_">getMonth</span>());<span class="hljs-comment">//月</span><br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(now.<span class="hljs-title function_">getDate</span>());<span class="hljs-comment">//日</span><br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(now.<span class="hljs-title function_">getDay</span>());<span class="hljs-comment">//星期几</span><br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(now.<span class="hljs-title function_">getHours</span>());<span class="hljs-comment">//时</span><br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(now.<span class="hljs-title function_">getMinutes</span>());<span class="hljs-comment">//分</span><br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(now.<span class="hljs-title function_">getSeconds</span>());<span class="hljs-comment">//秒</span><br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(now.<span class="hljs-title function_">getTime</span>());  <span class="hljs-comment">//时间戳,全世界统一</span><br></code></pre></td></tr></table></figure>

<h5 id="JSON对象"><a href="#JSON对象" class="headerlink" title="JSON对象"></a>JSON对象</h5><p>Json是什么</p>
<ul>
<li><p>JSON 是轻量级的文本数据交换格式</p>
</li>
<li><p>JSON 具有自我描述性，更易理解</p>
</li>
<li><p>JSON 独立于语言：JSON 使用 Javascript语法来描述数据对象，但是 JSON 仍然独立于语言和平台。JSON 解析器和 JSON 库支持许多不同的编程语言。 目前非常多的动态（PHP，JSP，.NET）编程语言都支持JSON。</p>
</li>
</ul>
<p>在javascript中一切皆为对象，任何js支持的类型都可以用json来表示；</p>
<p>格式：</p>
<p>对象都用{}</p>
<p>数组都用[]</p>
<p>所有的键值对  都是用key:value</p>
<p>JSON字符串和JS对象的转化</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> user =&#123;<br><br><span class="hljs-attr">name</span>:<span class="hljs-string">&quot;qinjiang&quot;</span>,<br><br><span class="hljs-attr">age</span>:<span class="hljs-number">3</span>,<br><br><span class="hljs-attr">sex</span>:<span class="hljs-string">&#x27;男&#x27;</span><br><br>&#125;<br><br><span class="hljs-comment">//将对象转化为json字符串  &#x27;&#123;&quot;name&quot;:&quot;qinjiang&quot;,&quot;age&quot;:3,&quot;sex&quot;:&quot;男&quot;&#125;&#x27;</span><br><br><span class="hljs-keyword">var</span> jsonUser=<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(user);<br><br><span class="hljs-comment">//json字符串转化为对象  参数为json字符串  &#x27;&#123;&quot;name&quot;:&quot;qinjiang&quot;,&quot;age&quot;:3,&quot;sex&quot;:&quot;男&quot;&#125;&#x27;</span><br><br><span class="hljs-keyword">var</span> obj=<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(<span class="hljs-string">&#x27;&#123;&quot;name&quot;:&quot;qinjiang&quot;,&quot;age&quot;:3,&quot;sex&quot;:&quot;男&quot;&#125;&#x27;</span>);<br></code></pre></td></tr></table></figure>

<h4 id=""><a href="#" class="headerlink" title=""></a></h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//原型对象</span><br><span class="hljs-keyword">var</span> student =&#123;<br><br>  <span class="hljs-attr">name</span>:<span class="hljs-string">&quot;qinjiang&quot;</span>,<br><br>  <span class="hljs-attr">age</span>:<span class="hljs-number">3</span>,<br><br>  <span class="hljs-attr">run</span>:<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br><br>​    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>+<span class="hljs-string">&quot;run....&quot;</span>)<br><br>  &#125;<br><br>&#125;;<br><br><br><br><span class="hljs-keyword">var</span> xiaoming=&#123;<br><br>  <span class="hljs-attr">name</span>:<span class="hljs-string">&quot;xiaoming&quot;</span><br><br>&#125;;<br><span class="hljs-comment">//小明的原型是student</span><br>xiaoming.<span class="hljs-property">__proto__</span>=student;<br></code></pre></td></tr></table></figure>

<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209291641811.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20220328191911538"></p>
<p><strong>class继承</strong></p>
<p>class关键字是在es6引入的</p>
<p>1.定义一个类，属性，方法</p>
<p>//定义一个学生的类</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span>&#123;<br><br><span class="hljs-title function_">constructor</span>(<span class="hljs-params">name</span>)&#123;<br><br>​      <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>=name;<br><br>&#125;<span class="hljs-comment">//这里就是一个构造器相当于给了一个类的一个成员变量</span><br><br><span class="hljs-title function_">hello</span>(<span class="hljs-params"></span>)&#123;<br><br>  <span class="hljs-title function_">allert</span>(<span class="hljs-string">&#x27;hello&#x27;</span>);<br><br>&#125;<br><br>&#125;<br><br><span class="hljs-keyword">var</span> xiaoming= <span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>(<span class="hljs-string">&quot;xiaoming&quot;</span>);<br><br><span class="hljs-keyword">var</span> xiaohong=<span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>(<span class="hljs-string">&quot;xiaohong&quot;</span>);<br></code></pre></td></tr></table></figure>

<p>2.继承</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//定义一个学生的类</span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span>&#123;<br><br><span class="hljs-title function_">constructor</span>(<span class="hljs-params">name</span>)&#123;<br><br>​      <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>=name;<br><br>&#125;<span class="hljs-comment">//这里就是一个构造器相当于给了一个类的一个成员变量</span><br><br><span class="hljs-title function_">hello</span>(<span class="hljs-params"></span>)&#123;<br><br>  <span class="hljs-title function_">allert</span>(<span class="hljs-string">&#x27;hello&#x27;</span>);<br><br>&#125;<br><br>&#125;<br><br><br><br><span class="hljs-keyword">class</span>  <span class="hljs-title class_">XiaoStudent</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Student</span>&#123;  <span class="hljs-comment">//这是一个继承的操作</span><br><br>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name,grade</span>)&#123;<br><br>​    <span class="hljs-variable language_">super</span>(name);<span class="hljs-comment">//继承父类的name</span><br><br>​    <span class="hljs-variable language_">this</span>.<span class="hljs-property">grade</span>=grade;<br><br>  &#125;<br><br>  <span class="hljs-title function_">myGrade</span>(<span class="hljs-params"></span>)&#123;<br><br>​    <span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;我是一名小学生&#x27;</span>);<br><br>  &#125;<br><br><br><br>&#125;<br><br><span class="hljs-keyword">var</span> xiaoming= <span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>(<span class="hljs-string">&quot;xiaoming&quot;</span>);<br><br><span class="hljs-keyword">var</span> xiaohong=<span class="hljs-keyword">new</span> <span class="hljs-title class_">XiaoStudent</span>(<span class="hljs-string">&quot;xiaohong&quot;</span>,<span class="hljs-number">1</span>);<br></code></pre></td></tr></table></figure>

<p>本质:查看对象原型，student就是xiaoxtudent的原型对象</p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209291641812.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20220328194812763"></p>
<h3 id="6-js中的事件"><a href="#6-js中的事件" class="headerlink" title="6.js中的事件"></a>6.js中的事件</h3><p>事件是电脑输入设备与页面进行交互的响应，我们称之为事件</p>
<p>常用的事件</p>
<p>onload  加载完成事件         页面加载完成之后，常用于做页面js代码初始化操作</p>
<p>onclick   单击事件        常用于按钮的点击反馈响应操作</p>
<p>onblur  失去焦点事件  常用于输入框失去焦点后验证其输入内容是否合法</p>
<p>onchange  内容发生改变事件  常用于下拉列表和输入框内容发生改变后操作</p>
<p>onsubmit  表单提交事件   常用于表单调教前，验证所有表单项是否合法</p>
<p>事件的注册又分为静态注册和动态注册两种：</p>
<p>事件的注册（绑定）就是告诉浏览器，当事件响应后要执行哪些操作代码</p>
<p>静态注册事件</p>
<p>通过html标签的事件属性直接赋值于事件响应后的代码，这种方式我们叫做静态注册</p>
<p>动态注册事件</p>
<p>先通过js代码得到标签的dom对像，再通过dom对象.事件名=functino(){}这种形式赋予事件响应后的代码，叫动态注册</p>
<p>动态注册基本步骤：</p>
<p>1.获取标签对象</p>
<p>2.标签对象.事件名=function(){}</p>
<p><strong>onload事件</strong></p>
<p>静态注册</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">// onload事件的方法</span></span><br><span class="language-javascript">        <span class="hljs-keyword">function</span> <span class="hljs-title function_">onloadFun</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;静态注册onload事件，所有代码&#x27;</span>);</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript"></span><br><span class="language-javascript"></span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-comment">&lt;!--静态注册onload事件</span><br><span class="hljs-comment">        onload事件是浏览器解析完页面之后就会自动触发的事件</span><br><span class="hljs-comment">       &lt;body onload=&quot;onloadFun();&quot;&gt;//静态注册的使用方法</span><br><span class="hljs-comment">--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span> <span class="hljs-attr">onload</span>=<span class="hljs-string">&quot;onloadFun();&quot;</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br><br></code></pre></td></tr></table></figure>

<p>动态注册</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript"></span><br><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-comment">// onload事件动态注册。是固定写法</span></span><br><span class="language-javascript"><span class="hljs-variable language_">window</span>.<span class="hljs-property">onload</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">    <span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;动态注册的onload事件&quot;</span>);</span><br><span class="language-javascript">&#125;</span><br><span class="language-javascript"></span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p><strong>onclick</strong></p>
<p>静态注册</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-keyword">function</span> <span class="hljs-title function_">onclickFun</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;静态注册onclick事件&quot;</span>);</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript"></span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--静态注册onClick事件--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;onclickFun();&quot;</span>&gt;</span>按钮1<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;btn01&quot;</span>&gt;</span>按钮2<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>





<p>动态注册</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">// 动态注册onclick事件</span></span><br><span class="language-javascript"><span class="hljs-variable language_">window</span>.<span class="hljs-property">onload</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">    <span class="hljs-comment">// 1 获取标签对象</span></span><br><span class="language-javascript">    <span class="hljs-comment">/*</span></span><br><span class="hljs-comment"><span class="language-javascript">    * document 是JavaScript语言提供的一个对象（文档）&lt;br/&gt;</span></span><br><span class="hljs-comment"><span class="language-javascript">    * get           获取</span></span><br><span class="hljs-comment"><span class="language-javascript">    * Element       元素（就是标签）</span></span><br><span class="hljs-comment"><span class="language-javascript">    * By            通过。。   由。。经。。。</span></span><br><span class="hljs-comment"><span class="language-javascript">    * Id            id属性</span></span><br><span class="hljs-comment"><span class="language-javascript">    *</span></span><br><span class="hljs-comment"><span class="language-javascript">    * getElementById通过id属性获取标签对象</span></span><br><span class="hljs-comment"><span class="language-javascript">    **/</span></span><br><span class="language-javascript">    <span class="hljs-keyword">var</span> btnObj = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;btn01&quot;</span>);</span><br><span class="language-javascript">    <span class="hljs-comment">// alert( btnObj );</span></span><br><span class="language-javascript">    <span class="hljs-comment">// 2 通过标签对象.事件名 = function()&#123;&#125;</span></span><br><span class="language-javascript">    btnObj.<span class="hljs-property">onclick</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">        <span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;动态注册的onclick事件&quot;</span>);</span><br><span class="language-javascript">    &#125;</span><br><span class="language-javascript">&#125;</span><br><span class="language-javascript"></span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;btn01&quot;</span>&gt;</span>按钮2<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p><strong>onblur</strong></p>
<p>静态动态代码在一起</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">// 静态注册失去焦点事件</span></span><br><span class="language-javascript">        <span class="hljs-keyword">function</span> <span class="hljs-title function_">onblurFun</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-comment">// console是控制台对象，是由JavaScript语言提供，专门用来向浏览器的控制器打印输出， 用于测试使用</span></span><br><span class="language-javascript">            <span class="hljs-comment">// log() 是打印的方法</span></span><br><span class="language-javascript">            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;静态注册失去焦点事件&quot;</span>);</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">// 动态注册 onblur事件</span></span><br><span class="language-javascript">        <span class="hljs-variable language_">window</span>.<span class="hljs-property">onload</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-comment">//1 获取标签对象</span></span><br><span class="language-javascript">           <span class="hljs-keyword">var</span> passwordObj = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;password&quot;</span>);</span><br><span class="language-javascript">           <span class="hljs-comment">// alert(passwordObj);</span></span><br><span class="language-javascript">            <span class="hljs-comment">//2 通过标签对象.事件名 = function()&#123;&#125;;</span></span><br><span class="language-javascript">            passwordObj.<span class="hljs-property">onblur</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;动态注册失去焦点事件&quot;</span>);</span><br><span class="language-javascript">            &#125;</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript"></span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    用户名:<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">onblur</span>=<span class="hljs-string">&quot;onblurFun();&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span><br>    密码:<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> &gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p><strong>onchange事件</strong></p>
<p>当你改变选项的时候</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-keyword">function</span> <span class="hljs-title function_">onchangeFun</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;女神已经改变了&quot;</span>);</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-variable language_">window</span>.<span class="hljs-property">onload</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-comment">//1 获取标签对象</span></span><br><span class="language-javascript">            <span class="hljs-keyword">var</span> selObj = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;sel01&quot;</span>);</span><br><span class="language-javascript">            <span class="hljs-comment">// alert( selObj );</span></span><br><span class="language-javascript">            <span class="hljs-comment">//2 通过标签对象.事件名 = function()&#123;&#125;</span></span><br><span class="language-javascript">            selObj.<span class="hljs-property">onchange</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">                <span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;男神已经改变了&quot;</span>);</span><br><span class="language-javascript">            &#125;</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript"></span><br><span class="language-javascript"></span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    请选择你心中的女神：<br>    <span class="hljs-comment">&lt;!--静态注册onchange事件--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">onchange</span>=<span class="hljs-string">&quot;onchangeFun();&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">option</span>&gt;</span>--女神--<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">option</span>&gt;</span>芳芳<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">option</span>&gt;</span>佳佳<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">option</span>&gt;</span>娘娘<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br><br>    请选择你心中的男神：<br>    <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;sel01&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">option</span>&gt;</span>--男神--<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">option</span>&gt;</span>国哥<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">option</span>&gt;</span>华仔<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">option</span>&gt;</span>富城<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p><strong>onsubmit事件</strong></p>
<p>return false可以阻止表单提交，阻止默认事件的发生比如a标签不让跳转，表单不让提交</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span> &gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">// 静态注册表单提交事务</span></span><br><span class="language-javascript">        <span class="hljs-keyword">function</span> <span class="hljs-title function_">onsubmitFun</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">            <span class="hljs-comment">// 要验证所有表单项是否合法，如果，有一个不合法就阻止表单提交</span></span><br><span class="language-javascript">            <span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;静态注册表单提交事件----发现不合法&quot;</span>);</span><br><span class="language-javascript"></span><br><span class="language-javascript">            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-variable language_">window</span>.<span class="hljs-property">onload</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-comment">//1 获取标签对象</span></span><br><span class="language-javascript">            <span class="hljs-keyword">var</span> formObj = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;form01&quot;</span>);</span><br><span class="language-javascript">            <span class="hljs-comment">//2 通过标签对象.事件名 = function()&#123;&#125;</span></span><br><span class="language-javascript">            formObj.<span class="hljs-property">onsubmit</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">                <span class="hljs-comment">// 要验证所有表单项是否合法，如果，有一个不合法就阻止表单提交</span></span><br><span class="language-javascript">                <span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;动态注册表单提交事件----发现不合法&quot;</span>);</span><br><span class="language-javascript"></span><br><span class="language-javascript">                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</span><br><span class="language-javascript">            &#125;</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript"></span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--return false 可以阻止 表单提交 --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;http://localhost:8080&quot;</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;get&quot;</span> <span class="hljs-attr">onsubmit</span>=<span class="hljs-string">&quot;return onsubmitFun();&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;静态注册&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;http://localhost:8080&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;form01&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;动态注册&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>







<h3 id="7-操作bom对象（重点）"><a href="#7-操作bom对象（重点）" class="headerlink" title="7.操作bom对象（重点）"></a>7.操作bom对象（重点）</h3><p><strong>浏览器介绍</strong></p>
<p>Javascript和浏览器的关系</p>
<p>Javascript诞生就是为了让他能够在浏览器中运行</p>
<p>BOM:浏览器对象模型</p>
<p>浏览器:IE 6~11</p>
<p>chrome</p>
<p>Safari</p>
<p>FireFox</p>
<p>Opera</p>
<p><strong>window</strong></p>
<p>window代表浏览器窗口</p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209291641813.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20220328203028759"></p>
<p>这个可以用来调整浏览器窗口试试。。。</p>
<p><strong>navigator</strong></p>
<p>navigator，封装了浏览器的信息</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs javascript">navigator.<span class="hljs-property">appName</span><br><span class="hljs-string">&#x27;Netscape&#x27;</span><br>navigator.<span class="hljs-property">appVersion</span><br><span class="hljs-string">&#x27;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/99.0.4844.74 Safari/537.36 Edg/99.0.1150.55&#x27;</span><br>navigator.<span class="hljs-property">userAgent</span><br><span class="hljs-string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/99.0.4844.74 Safari/537.36 Edg/99.0.1150.55&#x27;</span><br>navigator.<span class="hljs-property">platform</span><br><span class="hljs-string">&#x27;Win32&#x27;</span><br><br><br></code></pre></td></tr></table></figure>

<p>大多数时候，我们不会使用navigator对象，因为会被人为修改</p>
<p>不建议使用这些属性来判断和编写代码</p>
<p><strong>screen</strong></p>
<p>代表屏幕的尺寸  1536px  960px就是像素</p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209291641814.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20220328203954720"></p>
<p><strong>location</strong>（重要）</p>
<p>location代表当前页面的url信息</p>
<p>host: '<a target="_blank" rel="noopener" href="http://www.baidu.com&/#39;">www.baidu.com&#39;</a></p>
<p>href: '<a target="_blank" rel="noopener" href="https://www.baidu.com/?tn=88093251_61_hao_pg&#39;">https://www.baidu.com/?tn=88093251_61_hao_pg&#39;</a></p>
<p>protocol: 'https:'</p>
<p>reload: <em>ƒ reload()</em>  //重新加载，刷新网页在控制台输入location.reload()</p>
<p>//设置新的地址</p>
<p>location.assign('一个url');</p>
<p><strong>document</strong></p>
<p>document代表当前的页面，HTML  DOM文档文档树</p>
<p>document.title<br>'百度一下，你就知道'</p>
<p>document.title='狂神说'   //改网站的标题</p>
<p>获取具体的文档数节点</p>
<dl id="app">
     <dt>java</dt>>
     <dd>javase</dd>
     <dd>javaaee</dd>
</dl>

<script>
  var dl=document.getElementById('app');
</script>

<p>也能动态的增加节点，和删除节点</p>
<p>而且还可以获得cookie</p>
<p>document.cookie</p>
<p>服务器段可以设置cookie:httpOnly</p>
<p><strong>history</strong>（不建议使用）</p>
<p>history代表浏览器的历史记录</p>
<p>history.back()  //后退</p>
<p>history.forward()  //前进</p>
<h3 id="8-操作DOM"><a href="#8-操作DOM" class="headerlink" title="8.操作DOM"></a>8.操作DOM</h3><p><strong>把文档中的标签属性文本转换为对象来管理</strong></p>
<p>DOM：文档对象模型</p>
<p>浏览器网页就是一个Dom树型结构</p>
<p>第一点：document管理了所有的html文档内容</p>
<p>第二点：document它是一种树结构的文档，有层级关系</p>
<p>第三点：它让我们把所有的标签都对象化</p>
<p>第四点：我们可以通过document访问所有的标签对象</p>
<p>document主要方法介绍</p>
<p><strong>1.getElementById方法</strong></p>
<p>得到的对象就是dom对象</p>
<p>innerHTML属性是指起始标签和结束标签中的内容</p>
<p>这个例子是网上常见的两种就是因为用户名输入错误而报错的例子</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;!<span class="hljs-variable constant_">DOCTYPE</span> html&gt;<br>&lt;html lang=&quot;en&quot;&gt;<br>&lt;head&gt;<br>    &lt;meta charset=&quot;UTF-8&quot;&gt;<br>    &lt;title&gt;Title&lt;/title&gt;<br>    &lt;script type=&quot;text/javascript&quot; &gt;<br>        /*<br>        * 需求：当用户点击了较验按钮，要获取输出框中的内容。然后验证其是否合法。&lt;br/&gt;<br>        * 验证的规则是：必须由字母，数字。下划线组成。并且长度是5到12位。<br>        * */<br>        function onclickFun() &#123;<br>            // 1 当我们要操作一个标签的时候，一定要先获取这个标签对象。<br>            var usernameObj = document.getElementById(&quot;username&quot;);<br>            // [object HTMLInputElement] 它就是dom对象<br>            //获取数据框中的内容<br>            var usernameText = usernameObj.value;<br>            // 如何 验证 字符串，符合某个规则 ，需要使用正则表达式技术<br>            var patt = /^\w&#123;5,12&#125;$/;<br>            /*<br>            *  test()方法用于测试某个字符串，是不是匹配我的规则 ，<br>            *  匹配就返回true。不匹配就返回false.<br>            * */<br><br>            var usernameSpanObj = document.getElementById(&quot;usernameSpan&quot;);<br>            // innerHTML 表示起始标签和结束标签中的内容<br>            // innerHTML 这个属性可读，可写<br>            usernameSpanObj.innerHTML = &quot;国哥真可爱！&quot;;<br><br>            if (patt.test(usernameText)) &#123;<br>                // alert(&quot;用户名合法！&quot;);<br>                // usernameSpanObj.innerHTML = &quot;用户名合法！&quot;;<br>                usernameSpanObj.innerHTML = &quot;&lt;img src=\&quot;right.png\&quot; width=\&quot;18\&quot; height=\&quot;18\&quot;&gt;&quot;;<br>            &#125; else &#123;<br>                // alert(&quot;用户名不合法！&quot;);<br>                // usernameSpanObj.innerHTML = &quot;用户名不合法！&quot;;<br>                usernameSpanObj.innerHTML = &quot;&lt;img src=\&quot;wrong.png\&quot; width=\&quot;18\&quot; height=\&quot;18\&quot;&gt;&quot;;<br>            &#125;<br>        &#125;<br>    &lt;/script&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>    用户名：&lt;input type=&quot;text&quot; id=&quot;username&quot; value=&quot;wzg&quot;/&gt;<br>    &lt;span id=&quot;usernameSpan&quot; style=&quot;color:red;&quot;&gt;<br><br>    &lt;/span&gt;<br>    &lt;button onclick=&quot;onclickFun()&quot;&gt;较验&lt;/button&gt;<br>&lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>



<p><strong>正则表达式</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;!<span class="hljs-variable constant_">DOCTYPE</span> html&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-comment">// 表示要求字符串中，是否包含字母e</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-comment">// var patt = new RegExp(&quot;e&quot;);</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-comment">// var patt = /e/; // 也是正则表达式对象</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-comment">// 表示要求字符串中，是否包含字母a或b或c</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-comment">// var patt = /[abc]/;</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-comment">// 表示要求字符串，是否包含小写字母</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-comment">// var patt = /[a-z]/;</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-comment">// 表示要求字符串，是否包含任意大写字母</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-comment">// var patt = /[A-Z]/;</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-comment">// 表示要求字符串，是否包含任意数字</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-comment">// var patt = /[0-9]/;</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-comment">// 表示要求字符串，是否包含字母，数字，下划线</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-comment">// var patt = /\w/;</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-comment">// 表示要求 字符串中是否包含至少一个a</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-comment">// var patt = /a+/;</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-comment">// 表示要求 字符串中是否 *包含* 零个 或 多个a</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-comment">// var patt = /a*/;</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-comment">// 表示要求 字符串是否包含一个或零个a</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-comment">// var patt = /a?/;</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-comment">// 表示要求 字符串是否包含连续三个a</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-comment">// var patt = /a&#123;3&#125;/;</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-comment">// 表示要求 字符串是否包 至少3个连续的a，最多5个连续的a</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-comment">// var patt = /a&#123;3,5&#125;/;</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-comment">// 表示要求 字符串是否包 至少3个连续的a，</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-comment">// var patt = /a&#123;3,&#125;/;</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-comment">// 表示要求 字符串必须以a结尾</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-comment">// var patt = /a$/;</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-comment">// 表示要求 字符串必须以a打头</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-comment">// var patt = /^a/;</span></span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-comment">// 要求字符串中是否*包含* 至少3个连续的a</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-comment">// var patt = /a&#123;3,5&#125;/;</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-comment">// 要求字符串，从头到尾都必须完全匹配</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-comment">// var patt = /^a&#123;3,5&#125;$/;</span></span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-keyword">var</span> patt = <span class="hljs-regexp">/^\w&#123;5,12&#125;$/</span>;</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-keyword">var</span> str = <span class="hljs-string">&quot;wzg168[[[&quot;</span>;</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-title function_">alert</span>( patt.<span class="hljs-title function_">test</span>(str) );</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></span><br></code></pre></td></tr></table></figure>

<p><strong>2.getElementByName方法</strong></p>
<p>根据name属性来得到一个有很多对象的集合，就是有很多个标签的name为一样的，然后集合每一个元素都是dom对象</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;!<span class="hljs-variable constant_">DOCTYPE</span> html&gt;<br>&lt;html lang=&quot;en&quot;&gt;<br>&lt;head&gt;<br>    &lt;meta charset=&quot;UTF-8&quot;&gt;<br>    &lt;title&gt;Title&lt;/title&gt;<br>    &lt;script type=&quot;text/javascript&quot;&gt;<br>        // 全选<br>        function checkAll() &#123;<br>            // 让所有复选框都选中<br>            // document.getElementsByName();是根据 指定的name属性查询返回多个标签对象集合<br>            // 这个集合的操作跟数组 一样<br>            // 集合中每个元素都是dom对象<br>            // 这个集合中的元素顺序是他们在html页面中从上到下的顺序<br>            var hobbies = document.getElementsByName(&quot;hobby&quot;);<br>            // checked表示复选框的选中状态。如果选中是true，不选中是false<br>            // checked 这个属性可读，可写<br>            for (var i = 0; i &lt; hobbies.length; i++)&#123;<br>                hobbies[i].checked = true;<br>            &#125;<br>        &#125;<br>        //全不选<br>        function checkNo() &#123;<br><br>            var hobbies = document.getElementsByName(&quot;hobby&quot;);<br>            // checked表示复选框的选中状态。如果选中是true，不选中是false<br>            // checked 这个属性可读，可写<br>            //就是这个checked属性即使原本没有，也可以这样直接加上<br>            for (var i = 0; i &lt; hobbies.length; i++)&#123;<br>                hobbies[i].checked = false;<br>            &#125;<br>        &#125;<br>        // 反选<br>        function checkReverse() &#123;<br>            var hobbies = document.getElementsByName(&quot;hobby&quot;);<br><br>            for (var i = 0; i &lt; hobbies.length; i++) &#123;<br>                hobbies[i].checked = !hobbies[i].checked;<br><br>                // if (hobbies[i].checked) &#123;<br>                //     hobbies[i].checked = false;<br>                // &#125;else &#123;<br>                //     hobbies[i].checked = true;<br>                // &#125;<br>            &#125;<br><br><br>        &#125;<br><br>    &lt;/script&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>    兴趣爱好：<br>    &lt;input type=&quot;checkbox&quot; name=&quot;hobby&quot; value=&quot;cpp&quot; checked=&quot;checked&quot;&gt;C++<br>    &lt;input type=&quot;checkbox&quot; name=&quot;hobby&quot; value=&quot;java&quot;&gt;Java<br>    &lt;input type=&quot;checkbox&quot; name=&quot;hobby&quot; value=&quot;js&quot;&gt;JavaScript<br>    &lt;br/&gt;<br>    &lt;button onclick=&quot;checkAll()&quot;&gt;全选&lt;/button&gt;<br>    &lt;button onclick=&quot;checkNo()&quot;&gt;全不选&lt;/button&gt;<br>    &lt;button onclick=&quot;checkReverse()&quot;&gt;反选&lt;/button&gt;<br>&lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>



<p><strong>getElementsByTagName方法</strong></p>
<p>返回带有指定标签名的对象集合，集合中也是dom对象</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;!<span class="hljs-variable constant_">DOCTYPE</span> html&gt;<br>&lt;html lang=&quot;en&quot;&gt;<br>&lt;head&gt;<br>    &lt;meta charset=&quot;UTF-8&quot;&gt;<br>    &lt;title&gt;Title&lt;/title&gt;<br>    &lt;script type=&quot;text/javascript&quot;&gt;<br>        window.onload = function()&#123;<br>            // alert( document.getElementById(&quot;btn01&quot;) );<br>        &#125;<br><br><br>        // 全选<br>        function checkAll() &#123;<br>            alert( document.getElementById(&quot;btn01&quot;) );<br>            // document.getElementsByTagName(&quot;input&quot;);<br>            // 是按照指定标签名来进行查询并返回集合<br>            // 这个集合的操作跟数组 一样<br>            // 集合中都是dom对象<br>            // 集合中元素顺序 是他们在html页面中从上到下的顺序。<br>            var inputs = document.getElementsByTagName(&quot;input&quot;);<br><br>            for (var i = 0; i &lt; inputs.length; i++)&#123;<br>                inputs[i].checked = true;<br>            &#125;<br>        &#125;<br>    &lt;/script&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br><br>    &lt;!--as --&gt;<br>    兴趣爱好：<br>    &lt;input type=&quot;checkbox&quot; value=&quot;cpp&quot; checked=&quot;checked&quot;&gt;C++<br>    &lt;input type=&quot;checkbox&quot; value=&quot;java&quot;&gt;Java<br>    &lt;input type=&quot;checkbox&quot; value=&quot;js&quot;&gt;JavaScript<br>    &lt;br/&gt;<br>    &lt;button id=&quot;btn01&quot; onclick=&quot;checkAll()&quot;&gt;全选&lt;/button&gt;<br><br>&lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>

<p>三个方法的主意事项</p>
<p>必须在页面加载完成之后再调用这三个方法，否则可能得不到对应的标签对象，得到null，因为代码是从上到下进行的</p>
<p><strong>节点的常用属性和方法</strong></p>
<p>就是一个标签的dom对象的方法和属性</p>
<p><strong>方法：</strong>通过具体的元素节点调用getElementsByTagName() 方法，获取当前节点的指定标签名孩子节点</p>
<p>appendChild(oChildNode)方法，可以添加一个孩子结点，oChildNode是要添加的孩子节点</p>
<p><strong>属性：</strong></p>
<p>1.childnodes  获取当前节点的所有子结点</p>
<p>2.firstChild获取当前节点的第一个子结点</p>
<p>3lastChild获取当前节点的最后一个子结点</p>
<p>4.parentNode 获取当前节点的父节点</p>
<p>5.nextSibling获取当前节点的下一个兄弟结点</p>
<p>6.previousSibling 获取当前节点的上一个兄弟节点</p>
<p>7.className  用于获取或设置标签的class属性值</p>
<p>8.innerHTML表示获取或者设置其实标签和结束标签中的内容，这个不止是文本可能是图片超链接啊之类的</p>
<p>9.innerText表示获取或者设置起始标签和结束标签中的<strong>文本</strong></p>
<p>dom查询的练习</p>
<p>#phone是指id为phone</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;!<span class="hljs-variable constant_">DOCTYPE</span> html&gt;<br>&lt;html&gt;<br>&lt;head&gt;<br>&lt;meta charset=&quot;UTF-8&quot;&gt;<br>&lt;title&gt;dom查询&lt;/title&gt;<br>&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;style/css.css&quot; /&gt;<br>&lt;script type=&quot;text/javascript&quot;&gt;<br>   window.onload = function()&#123;<br>      //1.查找#bj节点<br>      document.getElementById(&quot;btn01&quot;).onclick = function () &#123;<br>         var bjObj = document.getElementById(&quot;bj&quot;);<br>         alert(bjObj.innerHTML);<br>      &#125;<br>      //2.查找所有li节点<br>      var btn02Ele = document.getElementById(&quot;btn02&quot;);<br>      btn02Ele.onclick = function()&#123;<br>         var lis = document.getElementsByTagName(&quot;li&quot;);<br>         alert(lis.length)<br>      &#125;;<br>      //3.查找name=gender的所有节点<br>      var btn03Ele = document.getElementById(&quot;btn03&quot;);<br>      btn03Ele.onclick = function()&#123;<br>         var genders = document.getElementsByName(&quot;gender&quot;);<br>         alert(genders.length)<br>      &#125;;<br>      //4.查找#city下所有li节点<br>      var btn04Ele = document.getElementById(&quot;btn04&quot;);<br>      btn04Ele.onclick = function()&#123;<br>         //1 获取id为city的节点<br>         //2 通过city节点.getElementsByTagName按标签名查子节点<br>         var lis = document.getElementById(&quot;city&quot;).getElementsByTagName(&quot;li&quot;);<br>         alert(lis.length)<br>      &#125;;<br>      //5.返回#city的所有子节点<br>      var btn05Ele = document.getElementById(&quot;btn05&quot;);<br>      btn05Ele.onclick = function()&#123;<br>         //1 获取id为city的节点<br>         //2 通过city获取所有子节点<br>         //3 空白字符也可以算作子结点，所以是9个<br>         alert(document.getElementById(&quot;city&quot;).childNodes.lengthc);<br>      &#125;;<br>      //6.返回#phone的第一个子节点<br>      var btn06Ele = document.getElementById(&quot;btn06&quot;);<br>      btn06Ele.onclick = function()&#123;<br>         // 查询id为phone的节点<br>         alert( document.getElementById(&quot;phone&quot;).firstChild.innerHTML );<br>      &#125;;<br>      //7.返回#bj的父节点<br>      var btn07Ele = document.getElementById(&quot;btn07&quot;);<br>      btn07Ele.onclick = function()&#123;<br>         //1 查询id为bj的节点<br>         var bjObj = document.getElementById(&quot;bj&quot;);<br>         //2 bj节点获取父节点<br>         alert( bjObj.parentNode.innerHTML );<br>      &#125;;<br>      //8.返回#android的前一个兄弟节点<br>      var btn08Ele = document.getElementById(&quot;btn08&quot;);<br>      btn08Ele.onclick = function()&#123;<br>         // 获取id为android的节点<br>         // 通过android节点获取前面兄弟节点<br>         alert( document.getElementById(&quot;android&quot;).previousSibling.innerHTML );<br>      &#125;;<br>      //9.读取#username的value属性值<br>      var btn09Ele = document.getElementById(&quot;btn09&quot;);<br>      btn09Ele.onclick = function()&#123;<br>         alert(document.getElementById(&quot;username&quot;).value);<br>      &#125;;<br>      //10.设置#username的value属性值<br>      var btn10Ele = document.getElementById(&quot;btn10&quot;);<br>      btn10Ele.onclick = function()&#123;<br>         document.getElementById(&quot;username&quot;).value = &quot;国哥你真牛逼&quot;;<br>      &#125;;<br>      //11.返回#bj的文本值<br>      var btn11Ele = document.getElementById(&quot;btn11&quot;);<br>      btn11Ele.onclick = function()&#123;<br>         alert(document.getElementById(&quot;city&quot;).innerHTML);<br>         // alert(document.getElementById(&quot;city&quot;).innerText);<br>      &#125;;<br>   &#125;;<br>&lt;/script&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>&lt;div id=&quot;total&quot;&gt;<br>   &lt;div class=&quot;inner&quot;&gt;<br>      &lt;p&gt;<br>         你喜欢哪个城市?<br>      &lt;/p&gt;<br><br>      &lt;ul id=&quot;city&quot;&gt;<br>         &lt;li id=&quot;bj&quot;&gt;北京&lt;/li&gt;<br>         &lt;li&gt;上海&lt;/li&gt;<br>         &lt;li&gt;东京&lt;/li&gt;<br>         &lt;li&gt;首尔&lt;/li&gt;<br>      &lt;/ul&gt;<br><br>      &lt;br&gt;<br>      &lt;br&gt;<br><br>      &lt;p&gt;<br>         你喜欢哪款单机游戏?<br>      &lt;/p&gt;<br><br>      &lt;ul id=&quot;game&quot;&gt;<br>         &lt;li id=&quot;rl&quot;&gt;红警&lt;/li&gt;<br>         &lt;li&gt;实况&lt;/li&gt;<br>         &lt;li&gt;极品飞车&lt;/li&gt;<br>         &lt;li&gt;魔兽&lt;/li&gt;<br>      &lt;/ul&gt;<br><br>      &lt;br /&gt;<br>      &lt;br /&gt;<br><br>      &lt;p&gt;<br>         你手机的操作系统是?<br>      &lt;/p&gt;<br><br>      &lt;ul id=&quot;phone&quot;&gt;&lt;li&gt;IOS&lt;/li&gt;&lt;li id=&quot;android&quot;&gt;Android&lt;/li&gt;&lt;li&gt;Windows Phone&lt;/li&gt;&lt;/ul&gt;<br>   &lt;/div&gt;<br><br>   &lt;div class=&quot;inner&quot;&gt;<br>      gender:<br>      &lt;input type=&quot;radio&quot; name=&quot;gender&quot; value=&quot;male&quot;/&gt;<br>      Male<br>      &lt;input type=&quot;radio&quot; name=&quot;gender&quot; value=&quot;female&quot;/&gt;<br>      Female<br>      &lt;br&gt;<br>      &lt;br&gt;<br>      name:<br>      &lt;input type=&quot;text&quot; name=&quot;name&quot; id=&quot;username&quot; value=&quot;abcde&quot;/&gt;<br>   &lt;/div&gt;<br>&lt;/div&gt;<br>&lt;div id=&quot;btnList&quot;&gt;<br>   &lt;div&gt;&lt;button id=&quot;btn01&quot;&gt;查找#bj节点&lt;/button&gt;&lt;/div&gt;<br>   &lt;div&gt;&lt;button id=&quot;btn02&quot;&gt;查找所有li节点&lt;/button&gt;&lt;/div&gt;<br>   &lt;div&gt;&lt;button id=&quot;btn03&quot;&gt;查找name=gender的所有节点&lt;/button&gt;&lt;/div&gt;<br>   &lt;div&gt;&lt;button id=&quot;btn04&quot;&gt;查找#city下所有li节点&lt;/button&gt;&lt;/div&gt;<br>   &lt;div&gt;&lt;button id=&quot;btn05&quot;&gt;返回#city的所有子节点&lt;/button&gt;&lt;/div&gt;<br>   &lt;div&gt;&lt;button id=&quot;btn06&quot;&gt;返回#phone的第一个子节点&lt;/button&gt;&lt;/div&gt;<br>   &lt;div&gt;&lt;button id=&quot;btn07&quot;&gt;返回#bj的父节点&lt;/button&gt;&lt;/div&gt;<br>   &lt;div&gt;&lt;button id=&quot;btn08&quot;&gt;返回#android的前一个兄弟节点&lt;/button&gt;&lt;/div&gt;<br>   &lt;div&gt;&lt;button id=&quot;btn09&quot;&gt;返回#username的value属性值&lt;/button&gt;&lt;/div&gt;<br>   &lt;div&gt;&lt;button id=&quot;btn10&quot;&gt;设置#username的value属性值&lt;/button&gt;&lt;/div&gt;<br>   &lt;div&gt;&lt;button id=&quot;btn11&quot;&gt;返回#bj的文本值&lt;/button&gt;&lt;/div&gt;<br>&lt;/div&gt;<br>&lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>

<p><strong>创建一个新的结点</strong></p>
<p>创建一个新结点，让它显示在页面中</p>
<p><strong>这个document.body要在文档加载之后去用，否则都不知道什么是body</strong></p>
<p><strong>文本也能封装成为一个节点，并且是一个正常标签结点的子结点</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs xml"><br><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-variable language_">window</span>.<span class="hljs-property">onload</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-comment">// 现在需要我们使用js代码来创建html标签，并显示在页面上</span></span><br><span class="language-javascript">            <span class="hljs-comment">// 标签的内容就是：&lt;div&gt;国哥，我爱你&lt;/div&gt;</span></span><br><span class="language-javascript">            <span class="hljs-keyword">var</span> divObj = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&quot;div&quot;</span>); <span class="hljs-comment">// 在内存中 &lt;div&gt;&lt;/div&gt;</span></span><br><span class="language-javascript"></span><br><span class="language-javascript"> </span><br><span class="language-javascript">            <span class="hljs-keyword">var</span> textNodeObj = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createTextNode</span>(<span class="hljs-string">&quot;国哥，我爱你&quot;</span>); <span class="hljs-comment">// 有一个文本节点对象 #国哥，我爱你</span></span><br><span class="language-javascript">    </span><br><span class="language-javascript">            divObj.<span class="hljs-title function_">appendChild</span>(textNodeObj); <span class="hljs-comment">// &lt;div&gt;国哥，我爱你&lt;/div&gt;</span></span><br><span class="language-javascript">    </span><br><span class="language-javascript">            <span class="hljs-comment">// divObj.innerHTML = &quot;国哥，我爱你&quot;; // &lt;div&gt;国哥，我爱你&lt;/div&gt;,但，还只是在内存中</span></span><br><span class="language-javascript">            <span class="hljs-comment">// 添加子元素</span></span><br><span class="language-javascript">            <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">appendChild</span>(divObj);<span class="hljs-comment">//让它显示在页面中</span></span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br><br><br></code></pre></td></tr></table></figure>







<p><strong>核心</strong></p>
<p>更新:更新Dom节点</p>
<p>遍历:得到Dom节点</p>
<p>删除节点：删除一个Dom节点</p>
<p>添加:添加一个新的节点</p>
<p>要操作一个Dom节点，就必须要获取这个Dom节点</p>
<p><strong>获得dom节点</strong></p>
<div id="father">
    <h1>标题一</h1>
    <p id="p1">p1</p>
    <p class="p2">p2</p>
</div>

<script>
​    var h1=document.getElementsByTagName('h1');
​    var p1=document.getElementById('p1');
​    var p2=document.getElementsByClassName('p2');
​    var father=document.getElementById('father');
​    var childrens =father.children;//获取父节点下的所有子节点
</script>

<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209291641815.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20220329083125115"></p>
<p><strong>更新节点</strong></p>
<div id="id1">
</div>

<script>
     var id1=document.getElementById('id1');
     id1.innerText='456';//修改文本的值
     id1.innerHTML='<strong>123</strong>';//可以解析html文本标签
     id1.style.color='red';//将id1的内容改为红色
     id1.style.fontsize='20px'//大小，以像素为单位的
    </script>




<p><strong>删除Dom节点</strong></p>
<p>删除节点的步骤:先获取父节点，再通过父节点删除自己</p>
<p>第一种方法</p>
<div id="father">
    <h1>标题一</h1>
    <p id="p1">p1</p>
    <p class="p2">p2</p>
</div>

<script>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> h1=<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementsByTagName</span>(<span class="hljs-string">&#x27;h1&#x27;</span>);<span class="hljs-comment">//这个地方是值特定的名字，唯一，比如body等都可以用这种TagName直接用标签名获取该Dom节点</span><br><span class="hljs-keyword">var</span> p1=<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;p1&#x27;</span>);<br><span class="hljs-keyword">var</span> p2=<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementsByClassName</span>(<span class="hljs-string">&#x27;p2&#x27;</span>);<br><span class="hljs-keyword">var</span> father=<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;father&#x27;</span>);<br><span class="hljs-keyword">var</span> childrens =father.<span class="hljs-property">children</span>;<span class="hljs-comment">//获取父节点下的所有子节点</span><br><span class="hljs-keyword">var</span> self =<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;p1&#x27;</span>);<span class="hljs-comment">//获取要删除的节点</span><br><span class="hljs-keyword">var</span> father =p1.<span class="hljs-property">parentElement</span>;<span class="hljs-comment">//获取要删除的节点的父节点</span><br>father.<span class="hljs-title function_">removeChild</span>(self);<span class="hljs-comment">//用父节点的方法来删除子节点</span><br></code></pre></td></tr></table></figure>
</script>

<p>第二种方法</p>
<p>//删除是一个动态的过程</p>
<p>father.removeChild(father.children[1])   //这是通过下标的方式来删除节点</p>
<p>注意:删除多个节点的时候，children是在时刻变化的，删除节点的时候一定要注意！</p>
<p><strong>追加存在的节点到父节点下</strong></p>
<p id="js">
    Javascript
</p>
<div id="list">
    <p id="se">JavaSE</p>
    <p id="ee">JavaEE</p>
    <p id="me">JavaME</p>
</div>

<script>
    var js=document.getElementById('js');//获取子节点
    var list=document.getElementById('list');//将js这个节点追加到list这个父节点下
    list.appendChild(js);
</script>




<p>前面一些代码的显示</p>
<p><img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209291641816.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20220329094147056"></p>
<p><strong>insert</strong></p>
<div id="list">

<pre><code class="hljs">&lt;p id=&quot;se&quot;&gt;JavaSE&lt;/p&gt;
&lt;p id=&quot;ee&quot;&gt;JavaEE&lt;/p&gt;
&lt;p id=&quot;me&quot;&gt;JavaME&lt;/p&gt;
</code></pre>
</div>

<script>
    var ee=document.getElementById('ee');
    var js=document.getElementById('js');
    var list=document.getElementById('list');
    //要包含的节点，insertBefore(newNode,targetNode)
    list.insertBefore(js,ee);//将js也插入到list下，并且放在ee的前面
</script>
<h3 id="操作表单"><a href="#操作表单" class="headerlink" title="操作表单"></a>操作表单</h3><p><strong>表单是什么 form   也是dom的节点</strong></p>
<p>文本框 text</p>
<p>下拉框select</p>
<p>单选框radio</p>
<p>多选框checkbox</p>
<p>隐藏域hidden</p>
<p>密码框password</p>
<p>表单的目的：提交信息</p>
<p><strong>我们是要获得表单的信息</strong></p>
<form action="post">//这里的action当成了method

<p>  <span>用户名</span> <input type="text" id="username"></p>
</form>



<script>

  var input_text=document.getElementById('username');

  //得到输入框的值

  input_text.value

  //得到之后自然也可以修改

  input_text.value='123';

</script>



<p><strong>单选框表单信息</strong></p>
<form action="post">
    <p>
    <span>用户名</span> <input type="text" id="username">
    </p>
    <p>
        <span>性别:</span>
        <input type="radio" name="sex" value="man" id="boy">男
        <input type="radio" name="sex" value="women" id="girl">女  
</form>

<script>
    var boy_radio=document.getElementById('boy');
    var girl_radio=document.getElementById('girl');
    boy_radio.value;
    girl_radio.value;//这种只能得到值，不能判断有没有被选中
    boy_radio.checked;
    girl_radio.checked;//检测这个单选按钮有没有被选中，选中就返回true
    girl_radio.checked=true;
</script>





<p><strong>提交表单</strong></p>
<!DOCTYPE html>
<html lang="en">
<head>
    <!--MD5工具类-->
    <script src="http://cdn.bootcss.com/blueimp-md5/2.10.0/js/md5.min.js"></script>
    <meta charset="UTF-8">
    <form action="#" method="post" onsubmit="return aaa()">
        <p>
        <span>用户名</span> <input type="text" name="username" id="username">
        </p>
        <p>
            <span>密码:</span> <input type="text"  name="password" id="password">
        </p>
        <!--绑定事件 onclick被点击时会调用-->
        <button type="submit" onclick="aaa()">提交</button>


<p>​    </form></p>
<script>
    function aaa()
    {
    var uname=document.getElemenById('username');
    var pwd=document.gerElemenById('password');
    console.log(uname.value);
    console.log(pwd.value);
    //md5算法
    pwd.value=md5(pwd.value);
    console.log(pwd.value);
    }
</script>
</head>
<body>

</body>
</html>



<h2 id="Javascript的一点小总结"><a href="#Javascript的一点小总结" class="headerlink" title="Javascript的一点小总结"></a>Javascript的一点小总结</h2><p>javascript有DOM，BOM和emascript</p>
<p>DOM是用来获取网页文档信息，主要使用document对象</p>
<p>BOM则是主要用来获取浏览器窗口信息，主要使用window对象，同时window对象是javascript的全局对象使用的时候可以省略，window对象下面还有什么navigator对象很多</p>
<p>emascript则是规定了Java script的语法结构，node中只保留了javascript的这一块</p>
<h1 id="node"><a href="#node" class="headerlink" title="node"></a>node</h1><h2 id="node与javascript的异同"><a href="#node与javascript的异同" class="headerlink" title="node与javascript的异同"></a>node与javascript的异同</h2><p>nodeJs和javascript的基础语法大致相同，不同在于他们的顶层对象不同。</p>
<p>  相同点：-- 基础语法</p>
<pre><code class="hljs">   1、ECMAScript
   2、语法
   3、内置对象、方法
</code></pre>
<p>  不同点：-- 顶层对象<br>      -- javascript ：window<br>      -- nodejs ： global</p>
<p> <strong>javascript</strong>中，用var定义的一个参数就属于全局变量，属于window下的；</p>
<p>   <strong>node</strong>中比较特殊：<br>         1、一个文件就是一个模块；<br>         2、每个模块都有自己的作用域。</p>
<p>   所以node中我们受用var来申明的变量，他并不是全局的，而是属于当前模块下的，外界是不能直接访问的。</p>
<p>node中没有window对象。window是浏览器的规范，并非js语言规范，所以在nodejs当然不能用。 不过nodejs有个类似的全局变量，叫golgal，当然了，它内部的内容和浏览器中的window很不一样就是了。</p>
<p>node中定义一个全局变量</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-variable language_">global</span>.<span class="hljs-property">a</span>=<span class="hljs-number">1</span>;<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a);<br></code></pre></td></tr></table></figure>



<h2 id="node基本"><a href="#node基本" class="headerlink" title="node基本"></a>node基本</h2><p>在vscode终端中进入到js文件的目录，然后输入npm init -y,会自动生成node的配置文件</p>
<h2 id="进程和线程"><a href="#进程和线程" class="headerlink" title="进程和线程"></a>进程和线程</h2><p>进程:-进程负责为程序的运行提供必备的环境</p>
<p>​           进程就相当于工厂中的车间</p>
<p>线程: 线程是计算机中最小的一个计算单位，线程负责执行保存到进程中的程序</p>
<p>​          线程就相当于工厂中的工人</p>
<p>单线程:js和浏览器是单线程的，单线程是一次只能执行一个任务 ，执行晚上一个任务才能执行下一个</p>
<p>多线程:多线程是一起执行很多任务</p>
<p>​           <img src="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209291641817.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="image-20220517163101344"></p>
<p>I/O进程相当于厨师炒菜，会很慢，是从磁盘中读取数据，这个是有瓶颈的很难提升其速度</p>
<p>传统服务器:是客户每发送一个请求，就创建一个线程，有几个请求就有几个线程，同时这个任务不结束，这个线程不能去干别的事，I/O又很慢就会有很多线程什么也不干就等着，同时还占了磁盘的内存，这个叫做进程堵塞</p>
<p>node服务器:单线程，只有一个线程，不管多少个请求就只有这一个进程</p>
<h2 id="任务密集型介绍"><a href="#任务密集型介绍" class="headerlink" title="任务密集型介绍"></a>任务密集型介绍</h2><p>CPU密集型（CPU-bound）<br>CPU密集型也叫计算密集型，指的是系统的硬盘、内存性能相对CPU要好很多，此时，系统运作大部分的状况是CPU Loading 100%，CPU要读/写I/O(硬盘/内存)，I/O在很短的时间就可以完成，而CPU还有许多运算要处理，CPU Loading很高</p>
<p>计算密集型任务的特点是要进行大量的计算，消耗CPU资源，比如计算圆周率、对视频进行高清解码等等，全靠CPU的运算能力。</p>
<p>计算密集型任务由于主要消耗CPU资源，因此，代码运行效率至关重要。Python这样的脚本语言运行效率很低，完全不适合计算密集型任务。对于计算密集型任务，最好用C语言编写。</p>
<p>IO密集型（I/O bound）<br>IO密集型指的是系统的CPU性能相对硬盘、内存要好很多，此时，系统运作，大部分的状况是CPU在等I/O (硬盘/内存) 的读/写操作，此时CPU Loading并不高。</p>
<p>IO密集型任务执行期间，99%的时间都花在IO上，花在CPU上的时间很少，因此，用运行速度极快的C语言替换用Python这样运行速度极低的脚本语言，完全无法提升运行效率。对于IO密集型任务，最合适的语言就是开发效率最高（代码量最少）的语言，脚本语言是首选，C语言最差</p>
<p>IO密集型，涉及到网络、磁盘IO的任务都是IO密集型任务，这类任务的特点是CPU消耗很少，任务的大部分时间都在等待IO操作完成（因为IO的速度远远低于CPU和内存的速度）。对于IO密集型任务，任务越多，CPU效率越高，但也有一个限度。常见的大部分任务都是IO密集型任务，比如Web应用。</p>
<h2 id="node-js中的response-writehead用法"><a href="#node-js中的response-writehead用法" class="headerlink" title="node.js中的response.writehead用法"></a>node.js中的response.writehead用法</h2><p>向请求的客户端发送响应头。 该函数在一个请求内最多只能调用一次，如果不调用，则会自动生成一个响应头。 因为实际开发中,我们需要返回对应的中文以及对应的的文本格式 所以我们需要设置对应的响应头,响应头决定了对应的返回数据的格式以及编码格式</p>
<p>接收参数：</p>
<ul>
<li>第一个是HTTP状态码，如200(请求成功），404（未找到）等。</li>
<li>第二个是告诉浏览器发送的数据类型</li>
<li>第三个就是具体发送的是什么数据</li>
</ul>
<p><strong>该格式可以识别HTML结构，编码格式是UTF-8</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs javascript">res.<span class="hljs-title function_">writeHead</span>(<span class="hljs-number">200</span>,&#123;‘<span class="hljs-title class_">Content</span>-<span class="hljs-title class_">Type</span>’:‘text/html;charset=<span class="hljs-title class_">UTF8</span>’&#125;);<br><br></code></pre></td></tr></table></figure>

<p><strong>该格式不可以识别HTML结构</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs javascript">res.<span class="hljs-title function_">writeHead</span>(<span class="hljs-number">200</span>,&#123;‘<span class="hljs-title class_">Content</span>-<span class="hljs-title class_">Type</span>’:‘text/plain;charset=<span class="hljs-title class_">UTF8</span>’&#125;);<br><br></code></pre></td></tr></table></figure>

<p><strong>该格式识别图片</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs javascript">res.<span class="hljs-title function_">writeHead</span>(<span class="hljs-number">200</span>,&#123;‘<span class="hljs-title class_">Content</span>-<span class="hljs-title class_">Type</span>’:‘image/jpg;charset=<span class="hljs-title class_">UTF8</span>’&#125;);<br><br></code></pre></td></tr></table></figure>

<p><strong>该格式识别样式</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs javascript">res.<span class="hljs-title function_">writeHead</span>(<span class="hljs-number">200</span>,&#123;‘<span class="hljs-title class_">Content</span>-<span class="hljs-title class_">Type</span>’:‘text/css;charset=<span class="hljs-title class_">UFT8</span>’&#125;);<br><br></code></pre></td></tr></table></figure>

<ul>
<li>最后一个告诉浏览器使用什么编码解析</li>
</ul>
<h2 id="node-js中的response-end的用法"><a href="#node-js中的response-end的用法" class="headerlink" title="node.js中的response.end的用法"></a>node.js中的response.end的用法</h2><p><strong>语法：</strong></p>
<p>response.end([data], [encoding])</p>
<p><strong>接收参数：</strong></p>
<p>data ： end()执行完毕后要输出的字符，如果指定了 data 的值，那就意味着在执行完 response.end() 之后，会接着执行一条 response.write(data , encoding);</p>
<p>encoding： 对应data的字符编码</p>
<p><strong>例子：</strong></p>
<p>代码如下:</p>
<p><a href="javascript:void(0);"><img src="https://common.cnblogs.com/images/copycode.gif" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="复制代码"></a></p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs lua">var http = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;http&#x27;</span>);<br>http.createServer(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(req, res)</span></span>&#123;<br>    res.writeHead(<span class="hljs-number">200</span>, &#123;<span class="hljs-string">&#x27;Content-type&#x27;</span> : <span class="hljs-string">&#x27;text/html&#x27;</span>&#125;);<br>    res.<span class="hljs-built_in">write</span>(<span class="hljs-string">&#x27;&lt;h1&gt;Node.js&lt;/h1&gt;&#x27;</span>);<br>    res.<span class="hljs-keyword">end</span>(<span class="hljs-string">&#x27;&lt;p&gt;Hello World&lt;/p&gt;&#x27;</span>);<br>&#125;).listen(<span class="hljs-number">3000</span>);<br></code></pre></td></tr></table></figure>

<p><a href="javascript:void(0);"><img src="https://common.cnblogs.com/images/copycode.gif" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="复制代码"></a></p>
<p><img src="https://images2015.cnblogs.com/blog/1076792/201706/1076792-20170612162831634-1279484299.png" srcset="https://zhao1129.oss-cn-qingdao.aliyuncs.com/img/202209301019837.jpeg" lazyload alt="img"></p>
<h3 id="模块化"><a href="#模块化" class="headerlink" title="模块化"></a>模块化</h3><p>模块化是指解决一个问题的时候，自顶向下逐层把系统划分为若干模块的过程，对于整个系统来说，模块是可组合，分解，更换的单元</p>
<p>遵守模块化的规则，把一个大文件拆成独立且相互依赖的多个小模块</p>
<p><strong>模块的分类</strong></p>
<p>内置模块：fs，path，http</p>
<p>自定义模块，每个用户创建的.js文件，就是自定义模块</p>
<p>第三方模块:由第三方开发出来的模块，并非官方提供的内置模块，也不是用户创建的自定义模块，使用前需要先下载</p>
<p>当使用require()方法加载其他模块的时候，会执行被加载模块中的代码</p>
<p>index.JS文件内容</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascirpt">const a=require(&quot;./hello.js&quot;)<br><br>console.log(a);<br></code></pre></td></tr></table></figure>

<p>hello.js的内容</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;123&quot;</span>)<br></code></pre></td></tr></table></figure>

<p><strong>nodejs中模块作用域</strong></p>
<p>在自定义模块中定义的变量方法等，只能在当前模块内被访问，这种模块级别的访问限制，叫做模块作用域，即使是导入模块也不能够访问</p>
<p><strong>模块作用域好处</strong></p>
<p>防止全局变量污染这个问题</p>
<p><strong>向外共享模块作用域中的成员</strong></p>
<p>1.moudule对象</p>
<p>在每个.js自定义模块中都有一个module对象，它里面存储了和当前模块有关的信息，</p>
<p><strong>module.exports对象</strong></p>
<p>在定义的模块中，可以使用module.exports对象，将模块内的成员分享出来，供外界使用</p>
<p>外界使用require方法导入自定义模块时，得到的就是module.exports所指向的对象</p>
<p>如何共享</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javascript">hello.<span class="hljs-property">php</span><br><span class="hljs-comment">//在一个自定义模块中默认情况下，module.exports=&#123;&#125;是一个空对象</span><br><br><span class="hljs-comment">//向module.exports对象上挂载username属性</span><br><br><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span>.<span class="hljs-property">uername</span>=<span class="hljs-string">&quot;张三&quot;</span><br><br><br><br><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span>.<span class="hljs-property">sayHello</span>=<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br><br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;helllp&quot;</span>);<br><br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript">index.<span class="hljs-property">js</span><br><span class="hljs-comment">//在外界使用require方法，导入一个自定义模块的时候，得到的成员</span><br><br><span class="hljs-comment">//就是那个模块中，通过module.exports指向那个对象</span><br><br><span class="hljs-keyword">const</span> m=<span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;./hello.js&quot;</span>)<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(m)<br></code></pre></td></tr></table></figure>

<p><strong>共享成员时候的注意点</strong></p>
<p>使用require()方法导入模块时，导入的结果，永远以module.exports指向的对象为准</p>
<p>module.exports.age=1这种是在原本指向的对象添加一个元素，module.exports={}这种是新建了一个对象覆盖原本的</p>
<p>改一下hello.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//在一个自定义模块中默认情况下，module.exports=&#123;&#125;是一个空对象</span><br><br><span class="hljs-comment">//向module.exports对象上挂载username属性</span><br><br><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span>.<span class="hljs-property">uername</span>=<span class="hljs-string">&quot;张三&quot;</span><br><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span>.<span class="hljs-property">sayHello</span>=<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;helllp&quot;</span>);<br>&#125;<br><span class="hljs-comment">//让module.exports指向一个全新的对象</span><br><br><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span>=&#123;<br><br>  <span class="hljs-attr">nickname</span>:<span class="hljs-string">&quot;小黑&quot;</span>,<br><br>  <span class="hljs-title function_">sayHi</span>(<span class="hljs-params"></span>)&#123;<br><br>​    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;Hi!&quot;</span>)<br><br>  &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure>

<p>结果为</p>
<p>{ nickname: '小黑', sayHi: [Function: sayHi] }</p>
<p><strong>exports对象</strong></p>
<p>由于module.exports单词写起来比较复杂，为了简化向外共享成员的代码，node提供了exports对象，默认情况下，exports和module.exports指向同一个对象<strong>，最终共享的结果，还是以module.exports指向的对象为准</strong></p>
<p><strong>exports和module.exports的使用误区</strong></p>
<p>时刻切记，require()模块时，得到的永远是module.exports指向的对象</p>
<p><strong>nodejs1中的模块化规范</strong></p>
<p>nodejs尊选了commonjs模块化规范，commonjs规范了模块的特性和各模块之间如何相互依赖</p>
<p>1.每个模块内部，module变量代表当前模块</p>
<p>2.module变量是一个对象，它的exports属性是对外接口</p>
<p>3。加载某个模块，其实是加载该模块的module.exports属性。require()方法用于加载模块</p>
<p><strong>nodejs的第三方模块就叫做包</strong></p>
<p><strong>npm的使用</strong></p>
<p>npm install 模块名  下载本地模块</p>
<p>npm uninstall 模块名  删除本地模块</p>
<p><strong>格式化时间的传统方法</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs javascript">hello.<span class="hljs-property">js</span><br><br><span class="hljs-comment">//定义格式化时间的方法</span><br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">dateFormat</span>(<span class="hljs-params">dtStr</span>)&#123;<br><br>  <span class="hljs-keyword">const</span> dt=<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(drStr)<br><br>  <span class="hljs-keyword">const</span> y=dt.<span class="hljs-title function_">getFullYear</span>();<br><br>  <span class="hljs-keyword">const</span> m=<span class="hljs-title function_">padZero</span>(dt.<span class="hljs-title function_">getMonth</span>()+<span class="hljs-number">1</span>)<br><br>  <span class="hljs-keyword">const</span> d=<span class="hljs-title function_">padZero</span>(dt.<span class="hljs-title function_">getDate</span>());<br><br>  <span class="hljs-keyword">const</span> hh=<span class="hljs-title function_">padZero</span>(dt.<span class="hljs-title function_">getHours</span>())<br><br>  <span class="hljs-keyword">const</span> mm=<span class="hljs-title function_">padZero</span>(dt.<span class="hljs-title function_">getMinutes</span>());<br><br>  <span class="hljs-keyword">const</span> ss=<span class="hljs-title function_">padZero</span>(dt.<span class="hljs-title function_">getSeconds</span>());<br><br><br><br>  <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">$&#123;y&#125;</span>-<span class="hljs-subst">$&#123;m&#125;</span>-<span class="hljs-subst">$&#123;d&#125;</span> <span class="hljs-subst">$&#123;hh&#125;</span>:<span class="hljs-subst">$&#123;mm&#125;</span>:<span class="hljs-subst">$&#123;ss&#125;</span>`</span><br><br>&#125;<br><br><br><br><span class="hljs-comment">//定义一个补零的函数</span><br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">padZero</span>(<span class="hljs-params">n</span>)&#123;<br><br>  <span class="hljs-keyword">return</span> n&gt;<span class="hljs-number">9</span>?<span class="hljs-attr">n</span>:<span class="hljs-string">&#x27;0&#x27;</span>+n<br><br>&#125;<br><br><br><br><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span>=&#123;<br><br>  dateFormat<br><br>&#125;<br></code></pre></td></tr></table></figure>

<p>index.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">TIME</span>=<span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;./hello.js&quot;</span>)<br><br><br><br><span class="hljs-comment">//调用方法，进行实践的格式化</span><br><br><span class="hljs-keyword">const</span> dt=<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>()<br><br><span class="hljs-comment">//console.log(dt)</span><br><br><span class="hljs-keyword">const</span> newDT=<span class="hljs-variable constant_">TIME</span>.<span class="hljs-title function_">dateFormat</span>(dt)<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(newDT)<br><br>### npm使用与包<br></code></pre></td></tr></table></figure>

<p><strong>格式化时间的高级做法</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//1.导入安装的包</span><br><br><span class="hljs-comment">//注意，导入的名称就是安装包的时候的名称</span><br><br><span class="hljs-keyword">const</span> moment=<span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;moment&#x27;</span>)<br><br><span class="hljs-keyword">const</span> dt=<span class="hljs-title function_">moment</span>().<span class="hljs-title function_">format</span>(<span class="hljs-string">&quot;YYYY-MM-DD HH:mm:ss&quot;</span>);<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(dt)<br></code></pre></td></tr></table></figure>

<p><strong>参照官方文件去使用第三方的包</strong></p>
<p><strong>安装指定版本的包</strong></p>
<p>默认情况下，使用npm install命令安装包的时候，会自动安装最新版本的包，如果需要安装指定版本的包，可以在包名之后，通过@符号指定具体的版本，例如:</p>
<p>npm i <a href="mailto:&#x6d;&#x6f;&#109;&#101;&#x6e;&#x74;&#x40;&#x32;&#46;&#50;&#x32;&#46;&#x32;">&#x6d;&#x6f;&#109;&#101;&#x6e;&#x74;&#x40;&#x32;&#46;&#50;&#x32;&#46;&#x32;</a></p>
<p><strong>package.json文件</strong></p>
<p>可以用来记录你都用到了哪些包，npm包管理工具提供了一个快捷命令，可以在执行命令时所处的目录中，快速创建packge.json这个包管理配置文件</p>
<p>npm init -y</p>
<p><strong>package.json文件的dependencies节点</strong></p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs json"> <span class="hljs-attr">&quot;dependencies&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br><br>  <span class="hljs-attr">&quot;express&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;^4.18.1&quot;</span><span class="hljs-punctuation">,</span><br><br>  <span class="hljs-attr">&quot;moment&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;^2.22.2&quot;</span><br><br> <span class="hljs-punctuation">&#125;</span><br><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure>

<p>刚建立package.json文件的时候是没有这个节点的，当安装包之后，这个节点就专门用来记录您使用npm install安装了哪些包</p>
<p><strong>一次性安装所有的包</strong></p>
<p>npm install 命令会一次性读取所有依赖包，根据package.json文件</p>
<p><strong>卸载包</strong></p>
<p>npm uninstall 包名</p>
<p><strong>devDependencies节点</strong></p>
<p>如果某些包只在项目开发阶段会用到，在项目上线之后不会用到，则建议把这些包记录到devDependencies节点中</p>
<p>与之对应的，如果某些包开发和项目上线之后都需要用到，则建议把这些包记录到dependencies节点中</p>
<p>npm i 包名 -D  这个命令是把包安装到devDependencies节点中</p>
<p><strong>nrm</strong></p>
<p>为了更方便的切换下包的镜像源，我们可以安装nrm这个小工具，利用nrm提供的终端命令，可以快速查看和切换下包的镜像源</p>
<p>//通过npm包管理器，将nrm安装为全局可用的工具</p>
<p>npm i nrm -g</p>
<p>//查看所有可用的镜像源</p>
<p>nrm ls</p>
<p>//将下包的镜像源切换为taobao镜像</p>
<p>nrm use taobao</p>
<p><strong>包的分类</strong></p>
<p><strong>项目包</strong></p>
<p>被安装到项目的node_modules目录中的包，就是项目包</p>
<p>项目包又分为两类：开发依赖包(devDependencies)和核心依赖包(dependencies)</p>
<p><strong>全局包</strong></p>
<p>再执行npm install命令的时候，如果提供了-g参数，则会把包安装为全局包</p>
<p>npm install 包名 -g                 npm uninstall 包名 -g</p>
<p>1.只有工具性质的包才有全局安装的必要性，因为他们提供了好用的终端命令</p>
<p>2.判断某个包是否需要全局安装后才能使用，可以参考官方提供的说明即可</p>
<p><strong>i5ting_toc的使用</strong></p>
<p>npm install -g i5ting_toc先安装</p>
<p>作用是将md文件转换为html文件</p>
<p>使用命令：i5ting_toc -f 文件路径 -o           -o的意思是命令执行结束之后直接在浏览器中打开这个html文件</p>
<p><strong>规范的包结构</strong></p>
<p>1.包必须以单独的目录存在</p>
<p>2.包的顶级目录下必须要包含package.json这个包管理配置文件</p>
<p>3.package.json中必须包含name，version，main这三个属性，分别包含包的名字，版本号，包的入口</p>
<h3 id="nodejs的http模块"><a href="#nodejs的http模块" class="headerlink" title="nodejs的http模块"></a>nodejs的http模块</h3><p>用来创建web服务器的模块，通过http模块提供的http.createServer()方法，就能方便的把一台普通的电脑，变成一台web服务器，对外提供web资源</p>
<p><strong>进一步理解http模块的作用</strong></p>
<p>服务器和普通电脑的区别，服务器上安装了web服务器软件例如IIS，Apache，通过安装这些服务器软件，就能把一台普通的电脑变成一台web服务器</p>
<p>在node.js中，我们不需要使用IIS，Apache等这些第三方服务器软件，因为我们可以基于node.js提供的http模块，通过几行简单的代码就可以轻松地手写一个服务器软件，从而对外提供web服务</p>
<p><strong>服务器相关的概念</strong></p>
<p>IP地址就是互联网上每台计算机的唯一地址，只有在知道对方ip地址的前提下，才能与对应的电脑之间进行数据通信</p>
<p>注意:</p>
<p>1.互联网中每台web服务器都有自己的ip地址，在windows终端中与您修改ping <a target="_blank" rel="noopener" href="http://www.baidu.com/">www.baidu.com</a> 命令，即可查看到百度服务器的ip地址</p>
<p>2.在开发期间，自己的电脑即是一台服务器，也是一个客户端，为了方便测试，可以在自己的浏览器中输入127.0.0.1这个IP地址，就能把自己的电脑当作一台服务器进行访问了</p>
<p><strong>域名和域名服务器</strong></p>
<p>ip地址和域名是一一对应的关系，这份对应关系存放在一种叫做域名服务器（DNS）的电脑中，使用者只需通过好记的域名访问对应的服务器即可，对应的转换工作由域名服务器实现，因此，域名服务器提供IP地址和域名之间的转换服务的服务器</p>
<p>注意：单纯使用ip地址，互联网中的电脑能够正常工作，但是有了域名的加持，能让互联网的世界变得更加方便</p>
<p>2.在开发测试期间，127.0.0.1对应的域名是localhost，他们都代表我们自己的这台电脑，在使用效果上没有任何区别</p>
<p><strong>端口号</strong></p>
<p>像是现实生活中的门牌号，通过门牌号可以把外卖准确的送到你手中</p>
<p>在一台电脑中，可以运行成百上千个web服务，每个web服务都对应一个唯一的端口号，客户端发送过来的网络请求，通过端口号，可以被准确地交给对应的web服务器进行处理</p>
<p>注意：每个端口号不能被多个web服务进行处理，只有80端口在被访问的时候是可以被省略的</p>
<p><strong>创建一个服务器</strong></p>
<p>菜鸟教程</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs nodejs">const http=require(&quot;http&quot;);<br><br>const &#123; listenerCount &#125; = require(&quot;process&quot;);<br><br>http.createServer(function(request,response)&#123;<br><br>  response.writeHead(200,&#123;&#x27;Content-type&#x27;:&#x27;text/plain&#x27;&#125;);<br><br>  response.end(&quot;hello world\n&quot;);<br><br>&#125;).listen(8888);<br><br>console.log(&quot;Server running at http://127.0.0.1:8888/&quot;);<br></code></pre></td></tr></table></figure>

<p>黑马视频</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//导入http模块</span><br><br><span class="hljs-keyword">const</span> http =<span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;http&quot;</span>)<br><br><span class="hljs-comment">//创建web服务器实例</span><br><br><span class="hljs-keyword">const</span> server=http.<span class="hljs-title function_">createServer</span>();<br><br><span class="hljs-comment">//为服务器实例绑定request事件，监听客户端的请求</span><br><br>server.<span class="hljs-title function_">on</span>(<span class="hljs-string">&quot;request&quot;</span>,<span class="hljs-keyword">function</span>(<span class="hljs-params">req,res</span>)&#123;<br><br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;someone visit the webserver&quot;</span>)<br><br>&#125;)<br><br><span class="hljs-comment">//启动服务器</span><br><br>server.<span class="hljs-title function_">listen</span>(<span class="hljs-number">8080</span>,<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br><br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;server running at http://127.0.0.1:8080&quot;</span>)<br><br>&#125;)<br></code></pre></td></tr></table></figure>

<p>req请求对象只要服务器收到了客户端的请求，就会调用通过server.on()为服务器绑定地request事件处理函数</p>
<p>如果想在事件处理函数中，访问与客户端有关的数据和属性，可以使用如下的方式</p>
<p>req请求对象的使用</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> http =<span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;http&quot;</span>)<br><br><br><br><span class="hljs-keyword">const</span> server=http.<span class="hljs-title function_">createServer</span>();<br><br><span class="hljs-comment">//req是请求对象，包含了与客户端相关的数据和属性</span><br><br>server.<span class="hljs-title function_">on</span>(<span class="hljs-string">&quot;request&quot;</span>,<span class="hljs-function">(<span class="hljs-params">req</span>)=&gt;</span>&#123;<br><br>  <span class="hljs-comment">//req.url是客户端请求的url地址</span><br><br>  <span class="hljs-keyword">const</span> url=req.<span class="hljs-property">url</span><br><br>  <span class="hljs-keyword">const</span> method=req.<span class="hljs-property">method</span><br><br>  <span class="hljs-keyword">const</span> str=<span class="hljs-string">`your request url is <span class="hljs-subst">$&#123;url&#125;</span> and request method is <span class="hljs-subst">$&#123;method&#125;</span>`</span><br><br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(str)<br><br>&#125;)<br><br>server.<span class="hljs-title function_">listen</span>(<span class="hljs-number">12</span>,<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br><br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;server running at http://127.0.0.1:12&quot;</span>)<br><br>&#125;)<br></code></pre></td></tr></table></figure>



<p>res响应对象：在服务器地request事件处理中，如果想访问与服务器相关的数据或属性，可以使用如下的方式：</p>
<p>当调用res.end()方法中，向客户端发送中文内容的时候，会出现乱码问题，此时，需要手动设置内容的编码格式</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> http =<span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;http&quot;</span>)<br><br><span class="hljs-keyword">const</span> server=http.<span class="hljs-title function_">createServer</span>();<br><br><span class="hljs-comment">//req是请求对象，包含了与客户端相关的数据和属性</span><br><br>server.<span class="hljs-title function_">on</span>(<span class="hljs-string">&quot;request&quot;</span>,<span class="hljs-function">(<span class="hljs-params">req,res</span>)=&gt;</span>&#123;<br><br>  <span class="hljs-comment">//req.url是客户端请求的url地址</span><br><br>  <span class="hljs-keyword">const</span> url=req.<span class="hljs-property">url</span><br><br>  <span class="hljs-keyword">const</span> method=req.<span class="hljs-property">method</span><br><br>  <span class="hljs-keyword">const</span> str=<span class="hljs-string">`your我我 request url is <span class="hljs-subst">$&#123;url&#125;</span> and request method is <span class="hljs-subst">$&#123;method&#125;</span>`</span><br><br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(str)<br><br>  <span class="hljs-comment">//使用res.setHeader()方式，设置Content-Type响应头，解决中文乱码的问题</span><br><br>  res.<span class="hljs-title function_">setHeader</span>(<span class="hljs-string">&quot;Content-Type&quot;</span>,<span class="hljs-string">&quot;text/html; charset=utf-8&quot;</span>)<br><br>  <span class="hljs-comment">//调用res.end()方法，向客户端响应一些内容,并结束这次请求的处理过长城</span><br><br>  res.<span class="hljs-title function_">end</span>(str)<br><br>&#125;)<br>server.<span class="hljs-title function_">listen</span>(<span class="hljs-number">12</span>,<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br><br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;server 我running at http://127.0.0.1:12&quot;</span>)<br><br>&#125;)<br></code></pre></td></tr></table></figure>



<p><strong>根据不同的url响应不同的html内容</strong></p>
<h3 id="异步编程"><a href="#异步编程" class="headerlink" title="异步编程"></a>异步编程</h3><p>在很多时候，我们在进程中使用单一线程从头到尾地执行程序，这种简单模式会导致性能和用户体验另人难以接受。<br> 比如程序向另外一台服务器发出请求，由于网络等外部原因，此种通信任务往往会耗费大量时间，进程如果在此期间仅仅只能等待网络或网络上其他机器的响应，将严重地降低了性能。程序不应该浪费等待的时间，而应该更加高效地利用，在等待的时间执行其他任务，回复到达后在继续执行第一个任务。<br> 如果程序调用某个方法，等待其执行全部处理后才能继续执行，我们称其为<strong>同步</strong>的。相反，在处理完成之前就返回调用方法则是<strong>异步</strong>的。<br> 我们在编程语言的流程中添加了异步控制的部分，这部分的编程可以称之为<strong>异步编程</strong>。</p>
<p><strong>JS单线程多个任务并发执行。</strong><br>JS执行异步任务时，不需要等待响应返回。可以继续执行其他任务，在响应返回时，会得到通知，执行回调或事件处理程序。JS并发执行的基础是：JS拥有一个基于事件循环的并发模型。</p>
<h3 id="回调函数"><a href="#回调函数" class="headerlink" title="回调函数"></a>回调函数</h3><p>回调函数一般作为函数的最后一个参数出现：</p>
<p>node.js中回调函数格式是约定俗成的，它有两个参数，<strong>第一个参数为err，第二个参数为data</strong>，顾名思义，err是错误信息，data则是返回的数据，示例如下:</p>
<p><strong>非阻塞代码示例</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> fs=<span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;fs&quot;</span>);<br><br>fs.<span class="hljs-title function_">readFile</span>(<span class="hljs-string">&#x27;input.txt&#x27;</span>,<span class="hljs-keyword">function</span>(<span class="hljs-params">err,data</span>)<br><br>&#123;<br><br>  <span class="hljs-keyword">if</span>(err) <span class="hljs-keyword">return</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(err);<br><br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data.<span class="hljs-title function_">toString</span>());<br><br>&#125;);<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;程序执行结束&quot;</span>);<br></code></pre></td></tr></table></figure>

<p><strong>阻塞代码实例</strong></p>
<figure class="highlight lasso"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs lasso"><span class="hljs-built_in">var</span> fs=<span class="hljs-keyword">require</span>(<span class="hljs-string">&quot;fs&quot;</span>);<br><br><span class="hljs-built_in">var</span> <span class="hljs-built_in">data</span>=fs.readFileSync(<span class="hljs-string">&quot;input.txt&quot;</span>);<br><br>console.<span class="hljs-keyword">log</span>(<span class="hljs-built_in">data</span>.toString());<br><br>console.<span class="hljs-keyword">log</span>(<span class="hljs-string">&quot;程序执行结束&quot;</span>);<br></code></pre></td></tr></table></figure>

<p>以上两个实例我们了解了阻塞与非阻塞调用的不同。第二个实例在文件读取完后才执行程序。 第一个实例我们不需要等待文件读取完，这样就可以在读取文件时同时执行接下来的代码，大大提高了程序的性能。</p>
<p>因此，阻塞是按顺序执行的，而非阻塞是不需要按顺序的，所以如果需要处理回调函数的参数，我们就需要写在回调函数内。</p>
<h3 id="nodejs的事件循环"><a href="#nodejs的事件循环" class="headerlink" title="nodejs的事件循环"></a>nodejs的事件循环</h3><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs arcade"><span class="hljs-keyword">var</span> events=require(<span class="hljs-string">&quot;events&quot;</span>);<br><br><span class="hljs-keyword">var</span> eventEmitter=<span class="hljs-keyword">new</span> events.EventEmitter();<br><br><br><br><span class="hljs-keyword">var</span> connectHandler=<span class="hljs-keyword">function</span> <span class="hljs-title function_">connected</span>(<span class="hljs-params"></span>)&#123;<br><br>  <span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(<span class="hljs-string">&quot;连接成功&quot;</span>);<br><br>  eventEmitter.emit(<span class="hljs-string">&quot;data_received&quot;</span>);<br><br>&#125;<br><br><br><br>eventEmitter.on(<span class="hljs-string">&quot;connection&quot;</span>,connectHandler);<br><br>eventEmitter.on(<span class="hljs-string">&quot;data_received&quot;</span>,<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br><br>  <span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(<span class="hljs-string">&quot;数据接收成功&quot;</span>);<br><br>&#125;);<br><br>eventEmitter.emit(<span class="hljs-string">&quot;connection&quot;</span>);<br></code></pre></td></tr></table></figure>

<h3 id="Node-js-EventEmitter类"><a href="#Node-js-EventEmitter类" class="headerlink" title="Node.js.EventEmitter类"></a>Node.js.EventEmitter类</h3><p>EventEmitter 的每个事件由一个事件名和若干个参数组成，事件名是一个字符串，通常表达一定的语义。对于每个事件，EventEmitter 支持 若干个事件监听器。</p>
<p>当事件触发时，注册到这个事件的事件监听器被依次调用，事件参数作为回调函数参数传递。</p>
<p>让我们以下面的例子解释这个过程：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//event.js 文件</span><br><span class="hljs-keyword">var</span> events = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;events&#x27;</span>); <br><span class="hljs-keyword">var</span> emitter = <span class="hljs-keyword">new</span> events.<span class="hljs-title class_">EventEmitter</span>(); <br>emitter.<span class="hljs-title function_">on</span>(<span class="hljs-string">&#x27;someEvent&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">arg1, arg2</span>) &#123; <br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;listener1&#x27;</span>, arg1, arg2); <br>&#125;); <br>emitter.<span class="hljs-title function_">on</span>(<span class="hljs-string">&#x27;someEvent&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">arg1, arg2</span>) &#123; <br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;listener2&#x27;</span>, arg1, arg2); <br>&#125;); <br>emitter.<span class="hljs-title function_">emit</span>(<span class="hljs-string">&#x27;someEvent&#x27;</span>, <span class="hljs-string">&#x27;arg1 参数&#x27;</span>, <span class="hljs-string">&#x27;arg2 参数&#x27;</span>); <br></code></pre></td></tr></table></figure>

<h3 id="Node-js-Buffer-缓冲区"><a href="#Node-js-Buffer-缓冲区" class="headerlink" title="Node.js Buffer(缓冲区)"></a>Node.js Buffer(缓冲区)</h3><h3 id="Node-js-Stream"><a href="#Node-js-Stream" class="headerlink" title="Node.js.Stream"></a>Node.js.Stream</h3><h3 id="从流中读取数据"><a href="#从流中读取数据" class="headerlink" title="从流中读取数据"></a>从流中读取数据</h3><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs arcade"><span class="hljs-keyword">var</span> fs = require(<span class="hljs-string">&quot;fs&quot;</span>);<br><span class="hljs-keyword">var</span> data = <span class="hljs-string">&#x27;&#x27;</span>;<br><br><span class="hljs-comment">// 创建可读流</span><br><span class="hljs-keyword">var</span> readerStream = fs.createReadStream(<span class="hljs-string">&#x27;input.txt&#x27;</span>);<br><br><span class="hljs-comment">// 设置编码为 utf8。</span><br>readerStream.setEncoding(<span class="hljs-string">&#x27;UTF8&#x27;</span>);<br><br><span class="hljs-comment">// 处理流事件 --&gt; data, end, and error</span><br>readerStream.on(<span class="hljs-string">&#x27;data&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">chunk</span>) &#123;<br>   data += chunk;<br>&#125;);<br><br>readerStream.on(<span class="hljs-string">&#x27;end&#x27;</span>,<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br>   <span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(data);<br>&#125;);<br><br>readerStream.on(<span class="hljs-string">&#x27;error&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">err</span>)&#123;<br>   <span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(err.stack);<br>&#125;);<br><br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(<span class="hljs-string">&quot;程序执行完毕&quot;</span>);<br></code></pre></td></tr></table></figure>

<h3 id="写入数据"><a href="#写入数据" class="headerlink" title="写入数据"></a>写入数据</h3><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs arcade"><span class="hljs-keyword">var</span> fs = require(<span class="hljs-string">&quot;fs&quot;</span>);<br><span class="hljs-keyword">var</span> data = <span class="hljs-string">&#x27;菜鸟教程官网地址：www.runoob.com&#x27;</span>;<br><br><span class="hljs-comment">// 创建一个可以写入的流，写入到文件 output.txt 中</span><br><span class="hljs-keyword">var</span> writerStream = fs.createWriteStream(<span class="hljs-string">&#x27;output.txt&#x27;</span>);<br><br><span class="hljs-comment">// 使用 utf8 编码写入数据</span><br>writerStream.write(data,<span class="hljs-string">&#x27;UTF8&#x27;</span>);<br><br><span class="hljs-comment">// 标记文件末尾</span><br>writerStream.end();<br><br><span class="hljs-comment">// 处理流事件 --&gt; finish、error</span><br>writerStream.on(<span class="hljs-string">&#x27;finish&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(<span class="hljs-string">&quot;写入完成。&quot;</span>);<br>&#125;);<br><br>writerStream.on(<span class="hljs-string">&#x27;error&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">err</span>)&#123;<br>   <span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(err.stack);<br>&#125;);<br><br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(<span class="hljs-string">&quot;程序执行完毕&quot;</span>);<br></code></pre></td></tr></table></figure>

<h3 id="管道流"><a href="#管道流" class="headerlink" title="管道流"></a>管道流</h3><p>将一个文件的内容读取到另一个文件当中</p>
<figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs arcade"><span class="hljs-keyword">var</span> fs = require(<span class="hljs-string">&quot;fs&quot;</span>);<br><br><span class="hljs-comment">// 创建一个可读流</span><br><span class="hljs-keyword">var</span> readerStream = fs.createReadStream(<span class="hljs-string">&#x27;input.txt&#x27;</span>);<br><br><span class="hljs-comment">// 创建一个可写流</span><br><span class="hljs-keyword">var</span> writerStream = fs.createWriteStream(<span class="hljs-string">&#x27;output.txt&#x27;</span>);<br><br><span class="hljs-comment">// 管道读写操作</span><br><span class="hljs-comment">// 读取 input.txt 文件内容，并将内容写入到 output.txt 文件中</span><br>readerStream.pipe(writerStream);<br><br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(<span class="hljs-string">&quot;程序执行完毕&quot;</span>);<br></code></pre></td></tr></table></figure>

<h3 id="nodejs-fs文件系统模块"><a href="#nodejs-fs文件系统模块" class="headerlink" title="nodejs   fs文件系统模块"></a>nodejs   fs文件系统模块</h3><p>fs模块是用来操作文件的模块</p>
<p>var fs=require("fs")</p>
<p>这个模块里的方法使用时多用回调函数</p>
<figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs arcade"><span class="hljs-keyword">var</span> fs = require(<span class="hljs-string">&quot;fs&quot;</span>);<br><br><span class="hljs-comment">// 异步读取</span><br>fs.readFile(<span class="hljs-string">&#x27;input.txt&#x27;</span>,<span class="hljs-string">&#x27;utf8&#x27;</span>,<span class="hljs-keyword">function</span> (<span class="hljs-params">err, data</span>) &#123;<br>   <span class="hljs-keyword">if</span> (err) &#123;<br>       <span class="hljs-keyword">return</span> <span class="hljs-built_in">console</span>.error(err);<br>   &#125;<br>   <span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(<span class="hljs-string">&quot;异步读取: &quot;</span> + data.toString());<br>&#125;);<br><br><span class="hljs-comment">// 同步读取</span><br><span class="hljs-keyword">var</span> data = fs.readFileSync(<span class="hljs-string">&#x27;input.txt&#x27;</span>);<br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(<span class="hljs-string">&quot;同步读取: &quot;</span> + data.toString());<br><br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(<span class="hljs-string">&quot;程序执行完毕。&quot;</span>);<br></code></pre></td></tr></table></figure>

<p><strong>1.fs.readFile()函数读取指定文件中的内容</strong></p>
<p>参数1：必选参数，表示文件的路径</p>
<p>参数3：必选参数，文件读取完成后，通过回调函数拿到读取结果</p>
<p>参数2：表世用什么编码格式来读取文件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> fs=<span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;fs&quot;</span>)<br>fs.<span class="hljs-title function_">readFile</span>(<span class="hljs-string">&#x27;input1.txt&#x27;</span>,<span class="hljs-string">&#x27;utf8&#x27;</span>,<span class="hljs-keyword">function</span> (<span class="hljs-params">err, data</span>) &#123;<br>    <span class="hljs-comment">//如果读取成功，则err的值为null</span><br>    <span class="hljs-comment">//如果读取失败，则err的值为错误对象，data的值为undefined</span><br>   <span class="hljs-keyword">if</span> (err) &#123;<br>       <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;文件读取失败&quot;</span>);<br>       <span class="hljs-keyword">return</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(err);<br>   &#125;<br>   <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;异步读取: &quot;</span> + data.<span class="hljs-title function_">toString</span>());<br>&#125;);<br></code></pre></td></tr></table></figure>

<p> <strong>2.fs.writeFile()函数向指定文件中写入内容</strong></p>
<p>1.可以创建不存在的文件，但不能创建不存在的路径</p>
<p>2.重复调用fs.writeFile()写入同一个文件，新写入的内容会覆盖之前的内容</p>
<p>参数1：必选参数，需要制定一个文件路径的字符串，表示文件的存放路径</p>
<p>参数2：必选参数，表示要写入的内容</p>
<p>参数3：可选参数，表示以什么格式写入文件内容，默认是utf8</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> fs=<span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;fs&quot;</span>)<br>fs.<span class="hljs-title function_">writeFile</span>(<span class="hljs-string">&quot;input1.txt&quot;</span>,<span class="hljs-string">&quot;hello node js&quot;</span>,<span class="hljs-keyword">function</span>(<span class="hljs-params">err</span>)&#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(err)<span class="hljs-comment">//如果写入文件成功，则err的值为null</span><br><span class="hljs-comment">//如果文件写入失败，则err的值为一个错误对象</span><br><span class="hljs-keyword">if</span>(err)<br>&#123;<br><span class="hljs-keyword">return</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;写入文件失败&quot;</span>+err.<span class="hljs-property">message</span>);<br><br>&#125;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;写入文件成功&quot;</span>)<br><br>&#125;)<br></code></pre></td></tr></table></figure>

<p><strong>3.联系，使用fs文件系统模块整体考试数据</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> fs =<span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;fs&quot;</span>)<br><br>fs.<span class="hljs-title function_">readFile</span>(<span class="hljs-string">&quot;input.txt&quot;</span>,<span class="hljs-string">&#x27;utf-8&#x27;</span>,<span class="hljs-keyword">function</span>(<span class="hljs-params">err,datastr</span>)<br><br><br><br>&#123;<br><br><span class="hljs-keyword">if</span>(err)<br><br>&#123;<br><br><br><br><span class="hljs-keyword">return</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;读取文件失败&quot;</span>+message);<br><br>&#125;<br><br><span class="hljs-comment">//先把成绩的数据，按照空格进行分割,形成一个数组</span><br><br><span class="hljs-keyword">const</span> arrOld=datastr.<span class="hljs-title function_">split</span>(<span class="hljs-string">&#x27; &#x27;</span>)<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arrOld)<br><br><span class="hljs-comment">//循环分割后的数组，进行字符串替换操作</span><br><br><span class="hljs-keyword">const</span> arrNew=[]<br><br>arrOld.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">item</span>=&gt;</span>&#123;<br><br>arrNew.<span class="hljs-title function_">push</span>(item.<span class="hljs-title function_">replace</span>(<span class="hljs-string">&quot;=&quot;</span>,<span class="hljs-string">&quot;: &quot;</span>))&#125;)<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arrNew)<br><br>    <span class="hljs-comment">//这是另一种foreach循环的写法</span><br>   <span class="hljs-comment">//arrOld.forEach(function(item)&#123;</span><br><span class="hljs-comment">//arrNew.push(item.replace(&quot;=&quot;,&quot;: &quot;))&#125;)</span><br><br><br><span class="hljs-comment">//吧数组中的每一项进行合并，得到一个新的字符串</span><br><br><span class="hljs-keyword">const</span> newStr=arrNew.<span class="hljs-title function_">join</span>(<span class="hljs-string">&quot;\r\n&quot;</span>)<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(newStr)<br><br>fs.<span class="hljs-title function_">writeFile</span>(<span class="hljs-string">&quot;input1.txt&quot;</span>,newStr,<span class="hljs-keyword">function</span>(<span class="hljs-params">err</span>)&#123;<br><br><span class="hljs-keyword">if</span>(err)<br><br>&#123;<br><br>  <span class="hljs-keyword">return</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;写入文件失败&quot;</span>+err.<span class="hljs-property">message</span>)<br><br>&#125;<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;成绩写入成功&quot;</span>)<br><br>&#125;)<br><br>&#125;<br></code></pre></td></tr></table></figure>

<p>)</p>
<p><strong>4.fs模块 路径动态拼接的问题</strong></p>
<p>当以./或者../开头的时候（相对路径）代码在运行的时候，会以执行node命令时所处的目录，动态拼接出被操作的文件的完整路径</p>
<p>用完整路径就可以解决这个问题（但这种解决方法移植性非常差，不利于维护）</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> fs =<span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;fs&quot;</span>)<br><br><span class="hljs-comment">//__dirname 表示当前文件所处的目录</span><br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(__dirname)<br></code></pre></td></tr></table></figure>

<p>用__dirname改写文件的路径</p>
<h3 id="nodejs-path路径模块"><a href="#nodejs-path路径模块" class="headerlink" title="nodejs  path路径模块"></a>nodejs  path路径模块</h3><p>path模块是由node.js官方提供的，用来处理路径的模块，它提供了一系列的方法和属性，用来满足用户对路径的处理需求</p>
<p><strong>1.path.join的使用方式</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> path=<span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;path&quot;</span>)<br><br><span class="hljs-keyword">const</span> pathStr=path.<span class="hljs-title function_">join</span>(<span class="hljs-string">&quot;/a&quot;</span>,<span class="hljs-string">&quot;/b/c&quot;</span>,<span class="hljs-string">&quot;../&quot;</span>,<span class="hljs-string">&quot;./d&quot;</span>,<span class="hljs-string">&quot;e&quot;</span>)<br>../会抵消前面的路静<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(pathStr)<br>输出:\a\b\d\e<br></code></pre></td></tr></table></figure>

<p><strong>2.path.basename()的使用方式</strong></p>
<p>第一个是必选参数，表示文件的路径的一个字符串</p>
<p>第二个是可选参数，表示文件的扩展名</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> path=<span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;path&quot;</span>)<br><br><span class="hljs-keyword">const</span> fpath=<span class="hljs-string">&quot;/a/b/c/index.html&quot;</span><br><br><span class="hljs-keyword">const</span> fullName=path.<span class="hljs-title function_">basename</span>(fpath)<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(fullName)<br></code></pre></td></tr></table></figure>

<p>不想要后缀名，只想要文件名</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> path=<span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;path&quot;</span>)<br><br><span class="hljs-keyword">const</span> fpath=<span class="hljs-string">&quot;/a/b/c/index.html&quot;</span><br><br><span class="hljs-keyword">const</span> fullName=path.<span class="hljs-title function_">basename</span>(fpath)<br><br><span class="hljs-keyword">const</span> <span class="hljs-title class_">Name</span>=path.<span class="hljs-title function_">basename</span>(fpath,<span class="hljs-string">&quot;.html&quot;</span>)<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(fullName)<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Name</span>)<br></code></pre></td></tr></table></figure>

<p><strong>3.path.extname()</strong></p>
<p>第一个参数是存放文件的路径</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> path=<span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;path&quot;</span>)<br><br><span class="hljs-keyword">const</span> fpath=<span class="hljs-string">&quot;/a/b/c/index.html&quot;</span><br><br><span class="hljs-keyword">const</span> fext=path.<span class="hljs-title function_">extname</span>(fpath)<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(fext)<br></code></pre></td></tr></table></figure>

<h3 id="EXPRESS"><a href="#EXPRESS" class="headerlink" title="EXPRESS"></a>EXPRESS</h3><p><strong>什么是express</strong></p>
<p>express是基于nodejs平台，快速开放极简的web开发框架，express的作用给和nodejs内置的http模块类似，是专门用来创建web服务器的</p>
<p>express能做什么</p>
<p>两种常见服务器分为：web网站服务器：专门对外提供web网站资源的服务器</p>
<p>API接口服务器：专门对外提供API接口的服务器</p>
<p>使用express，我们可以方便快捷的创建web网站的服务器和API接口的服务器</p>
<p><strong>基本使用</strong></p>
<p>监听getpost请求处理参数</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//1.导入express</span><br><br><span class="hljs-keyword">const</span> express=<span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;express&quot;</span>)<br><br><span class="hljs-comment">//2.创建web服务器</span><br><br><span class="hljs-keyword">const</span> app=<span class="hljs-title function_">express</span>()<br><br><span class="hljs-comment">//4.监听客户端的getpost请求，并向客户端相应具体内容</span><br><br>app.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;/user&#x27;</span>,<span class="hljs-function">(<span class="hljs-params">req,res</span>)=&gt;</span>&#123;<br><br>  <span class="hljs-comment">//调用express提供的res.send()方法，向客户端响应一个JSON对象</span><br><br>  res.<span class="hljs-title function_">send</span>(&#123;<span class="hljs-attr">name</span>:<span class="hljs-string">&#x27;zs&#x27;</span>,<span class="hljs-attr">age</span>:<span class="hljs-number">20</span>,<span class="hljs-attr">gender</span>:<span class="hljs-string">&quot;男&quot;</span>&#125;)<br><br>&#125;)<br><br>app.<span class="hljs-title function_">post</span>(<span class="hljs-string">&#x27;/user&#x27;</span>,<span class="hljs-function">(<span class="hljs-params">req,res</span>)=&gt;</span>&#123;<br><br>  <span class="hljs-comment">//调用express提供的res.send()方法，向客户端相应一个文本字符串</span><br><br>  res.<span class="hljs-title function_">send</span>(<span class="hljs-string">&#x27;请求成功&#x27;</span>)<br><br>&#125;)<br><br>app.<span class="hljs-title function_">listen</span>(<span class="hljs-number">8080</span>,<span class="hljs-function">()=&gt;</span>&#123;<br><br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;service running at http://127.0.0.1:8080&quot;</span>)<br><br>&#125;)<br></code></pre></td></tr></table></figure>

<p><strong>获取url中携带的查询参数</strong></p>
<p>通过req.query对象，可以访问到客户端通过查询字符串的形式，发送到服务器的数据</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//1.导入express</span><br><br><span class="hljs-keyword">const</span> express=<span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;express&quot;</span>)<br><br><span class="hljs-comment">//2.创建web服务器</span><br><br><span class="hljs-keyword">const</span> app=<span class="hljs-title function_">express</span>()<br><br><span class="hljs-comment">//4.监听客户端的getpost请求，并向客户端相应具体内容</span><br><br>app.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;/user&#x27;</span>,<span class="hljs-function">(<span class="hljs-params">req,res</span>)=&gt;</span>&#123;<br><br>  <span class="hljs-comment">//调用express提供的res.send()方法，向客户端响应一个JSON对象</span><br><br>  res.<span class="hljs-title function_">send</span>(&#123;<span class="hljs-attr">name</span>:<span class="hljs-string">&#x27;zs&#x27;</span>,<span class="hljs-attr">age</span>:<span class="hljs-number">20</span>,<span class="hljs-attr">gender</span>:<span class="hljs-string">&quot;男&quot;</span>&#125;)<br><br>&#125;)<br><br>app.<span class="hljs-title function_">post</span>(<span class="hljs-string">&#x27;/user&#x27;</span>,<span class="hljs-function">(<span class="hljs-params">req,res</span>)=&gt;</span>&#123;<br><br>  <span class="hljs-comment">//调用express提供的res.send()方法，向客户端相应一个文本字符串</span><br><br>  res.<span class="hljs-title function_">send</span>(<span class="hljs-string">&#x27;请求成功&#x27;</span>)<br><br>&#125;)<br><br>app.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;/&#x27;</span>,<span class="hljs-function">(<span class="hljs-params">res,req</span>)=&gt;</span>&#123;<br><br>  <span class="hljs-comment">//通过req.query可以获取客户端发送过来的查询参数</span><br><br>  <span class="hljs-comment">//注意，默认情况下req.query是一个空对象</span><br><br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(req.<span class="hljs-property">query</span>)<br><br>&#125;)<br><br>app.<span class="hljs-title function_">listen</span>(<span class="hljs-number">8080</span>,<span class="hljs-function">()=&gt;</span>&#123;<br><br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;service running at http://127.0.0.1:8080&quot;</span>)<br><br>&#125;)<br></code></pre></td></tr></table></figure>

<p><strong>express.static()</strong></p>
<p>express提供了一个非常好用的函数，叫做express.static通过它，我们可以非常方便的创建一个静态资源服务器，可以规定访问一个目录下的所有文件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> express=<span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;express&#x27;</span>)<br><br><span class="hljs-keyword">const</span> app=<span class="hljs-title function_">express</span>();<br><br><span class="hljs-comment">//在这里调用express.static()方法，快速的对外提供静态资源</span><br><br>app.<span class="hljs-title function_">use</span>(express.<span class="hljs-title function_">static</span>(<span class="hljs-string">&#x27;./1&#x27;</span>))<br><br>app.<span class="hljs-title function_">listen</span>(<span class="hljs-number">8080</span>,<span class="hljs-function">()=&gt;</span>&#123;<br><br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;serving running at http://127.0.0.1:8080&quot;</span>)<br><br>&#125;)<br></code></pre></td></tr></table></figure>

<p><strong>托管多个静态资源的目录</strong></p>
<p>多次调用express.static()函数</p>
<p>app.use(express.static('./1'))</p>
<p>app.use(express.static('./2'))</p>
<p>访问静态资源文件的时候，express.static()函数会根据目录的添加顺序查找所需的文件</p>
<p><strong>挂载路径前缀</strong></p>
<p>如果希望在托管的静态资源访问路径之前，挂载路径前缀，则可以使用如下的方式</p>
<p>app.use('/1',express.static('./1'))</p>
<p>现在就可以通过带有/1前缀地址来访问1目录中的文件了</p>
<p><strong>nodemon</strong></p>
<p>在编写调试nodejs项目中，如果修改了项目的代码，则需要频繁的手动close掉，然后再重新启动，非常繁琐</p>
<p>现在，当代码被修改后，nodemon会自动帮我们重启项目，极大方便了开发和调试</p>
<p>安装nodemon</p>
<p>npm install -g nodemon</p>
<p>使用nodemon</p>
<p>nodemon+文件名</p>
<p>然后每次修改文件之后则会自动运行</p>
<h3 id="Express-路由"><a href="#Express-路由" class="headerlink" title="Express 路由"></a>Express 路由</h3><p><strong>1.什么是路由</strong></p>
<p>广义上来说，路由就是映射关系</p>
<p>在express中，路由就是客户端的请求与服务器处理函数之间的映射关系</p>
<p>express中的路由分3部分组成，分别是请求的类型，请求的url地址，以及对应的处理函数。格式</p>
<p>app.METHOD(PATH,HANDLER)</p>
<p>一个根据url不同返回不同的页面</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs javascript">app.<span class="hljs-title function_">post</span>(<span class="hljs-string">&#x27;/user&#x27;</span>,<span class="hljs-function">(<span class="hljs-params">req,res</span>)=&gt;</span>&#123;<br><br>  <span class="hljs-comment">//调用express提供的res.send()方法，向客户端相应一个文本字符串</span><br><br>  res.<span class="hljs-title function_">send</span>(<span class="hljs-string">&#x27;请求成功&#x27;</span>)<br><br>&#125;)<br><br>app.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;/&#x27;</span>,<span class="hljs-function">(<span class="hljs-params">res,req</span>)=&gt;</span>&#123;<br><br>  <span class="hljs-comment">//通过req.query可以获取客户端发送过来的查询参数</span><br><br>  <span class="hljs-comment">//注意，默认情况下req.query是一个空对象</span><br><br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(req.<span class="hljs-property">query</span>)<br><br>&#125;)<br></code></pre></td></tr></table></figure>

<p><strong>2.路由的匹配过程</strong></p>
<p>每当一个请求达到服务器之后，需要先经过路由的匹配，只有匹配成功之后，才会调用对应的处理函数，在匹配时，会按照路由的顺序进行匹配，如果请求类型和请求的url同时匹配成功，则express会将这次请求，转交给对应的functon函数进行处理</p>
<p><strong>3.最简单的用法</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//挂载路由</span><br>app.<span class="hljs-title function_">post</span>(<span class="hljs-string">&#x27;/user&#x27;</span>,<span class="hljs-function">(<span class="hljs-params">req,res</span>)=&gt;</span>&#123;<br><br>  <span class="hljs-comment">//调用express提供的res.send()方法，向客户端相应一个文本字符串</span><br><br>  res.<span class="hljs-title function_">send</span>(<span class="hljs-string">&#x27;请求成功&#x27;</span>)<br><br>&#125;)<br><br>app.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;/&#x27;</span>,<span class="hljs-function">(<span class="hljs-params">res,req</span>)=&gt;</span>&#123;<br><br>  <span class="hljs-comment">//通过req.query可以获取客户端发送过来的查询参数</span><br><br>  <span class="hljs-comment">//注意，默认情况下req.query是一个空对象</span><br><br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(req.<span class="hljs-property">query</span>)<br><br>&#125;)<br></code></pre></td></tr></table></figure>

<p><strong>模块化路由</strong></p>
<p>方便对路由进行模块化的管理，express不建议将路由直接挂载到app上，而是推荐将路由抽离为单独的模块</p>
<p>将路由抽离为单独模块步骤如下：</p>
<p>1.创建路由模块对应的.js文件</p>
<p>2.调用express.Router()函数创建路由对象</p>
<p>3.向路由对象上挂载具体的路由</p>
<p>4.使用module.exports向外共享路由对象</p>
<p>5.使用app.use()函数注册路由模块</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> express= <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;express&#x27;</span>)<br><br><span class="hljs-keyword">const</span> app=<span class="hljs-title function_">express</span>()<br><br><span class="hljs-comment">//导入路由模块</span><br><br><span class="hljs-keyword">const</span> router=<span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;./hello.js&#x27;</span>)<br><br><span class="hljs-comment">//注册路由模块</span><br><br>app.<span class="hljs-title function_">use</span>(router)<br><br>app.<span class="hljs-title function_">listen</span>(<span class="hljs-number">8080</span>,<span class="hljs-function">()=&gt;</span>&#123;<br><br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;http://127.0.0.1:8080&quot;</span>)<br><br>&#125;)<br></code></pre></td></tr></table></figure>

<p>//注意：app.use()函数的作用，就是来注册全局中间件</p>
<p><strong>为路由模块添加前缀</strong></p>
<p>类似于托管静态资源时，为静态资源统一挂载访问前缀一样，路由模块添加前缀的方式也非常简单：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">userRouter</span>=<span class="hljs-keyword">require</span>(<span class="hljs-string">&#x27;./router/user.js&#x27;</span>)<br><br><span class="hljs-comment">//使用app.use()注册路由模块，并添加统一的访问前缀   /api</span><br><br>app.<span class="hljs-keyword">use</span>(<span class="hljs-string">&#x27;/api&#x27;</span>,userRouter)<br></code></pre></td></tr></table></figure>

<p><strong>express中间件</strong></p>
<p>中间件（Middleware）,特指业务流程中的中间处理环节</p>
<p><strong>express中间件的调用流程</strong></p>
<p>当一个请求到达express服务之后，可以连续调用多个中间件，从而对这次请求进行预处理</p>
<p><strong>express中间件的格式</strong></p>
<p>express的中间件，本质上就是一个function处理函数，express中间件的格式如下</p>
<p>如果函数中包含next形参，则这个函数是一个中间件函数，这个next形参也是一个函数，可以被调用</p>
<p><strong>next函数的作用</strong></p>
<p>next函数是实现多个中间件连续调用的关键，他表示把流转关系转交给下一个中间件或路由</p>
<p><strong>定义中间件函数</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> express=<span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;express&quot;</span>)<br><br><span class="hljs-keyword">const</span> app=<span class="hljs-title function_">express</span>()<br><br><span class="hljs-comment">//定义一个最简单的中间件</span><br><br><span class="hljs-keyword">const</span> mw=<span class="hljs-keyword">function</span>(<span class="hljs-params">req,res,next</span>)&#123;<br><br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;这是最简单的中间件函数&quot;</span>)<br><br>  <span class="hljs-comment">//吧流转关系，转交给下一个中间件或路由</span><br><br>&#125;<br><br><br><br>app.<span class="hljs-title function_">listen</span>(<span class="hljs-number">8080</span>,<span class="hljs-function">()=&gt;</span>&#123;<br><br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;service running at http://127.0.0.1&quot;</span>)<br><br>&#125;)<br></code></pre></td></tr></table></figure>

<p><strong>全局生效的中间件</strong></p>
<p>客户端发起的任何请求，到达服务器之后，都会触发的中间件，叫做全局生效的中间件</p>
<p>通过调用app.use(中间件函数)，即可定义一个全局生效的中间件，示例代码如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> express=<span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;express&quot;</span>)<br><br><span class="hljs-keyword">const</span> app=<span class="hljs-title function_">express</span>()<br><br><span class="hljs-comment">//定义一个最简单的中间件</span><br><br><span class="hljs-keyword">const</span> mw=<span class="hljs-keyword">function</span>(<span class="hljs-params">req,res,next</span>)&#123;<br><br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;这是最简单的中间件函数&quot;</span>)<br><br>  <span class="hljs-comment">//吧流转关系，转交给下一个中间件或路由</span><br><br>&#125;<br><br><span class="hljs-comment">//将mw注册为全局生效的中间件,无论访问什么url都先要经过这个中间件，输出这句话</span><br><br>app.<span class="hljs-title function_">use</span>(mw)<br><br><br><br>app.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;/&#x27;</span>,<span class="hljs-function">(<span class="hljs-params">req,res</span>)=&gt;</span>&#123;<br><br>  res.<span class="hljs-title function_">send</span>(<span class="hljs-string">&quot;home page&quot;</span>)<br><br>&#125;)<br><br>app.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;/user&#x27;</span>,<span class="hljs-function">(<span class="hljs-params">req,res</span>)=&gt;</span>&#123;<br><br>  res.<span class="hljs-title function_">send</span>(<span class="hljs-string">&quot;user page&quot;</span>)<br><br>&#125;)<br><br>app.<span class="hljs-title function_">listen</span>(<span class="hljs-number">8080</span>,<span class="hljs-function">()=&gt;</span>&#123;<br><br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;service running at http://127.0.0.1&quot;</span>)<br><br>&#125;)<br></code></pre></td></tr></table></figure>

<p><strong>定义全局中间件的简化形式</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//app.use((req,res,next)=&gt;&#123;</span><br><br><span class="hljs-comment">//console.log(&quot;这是最简单的中间件函数&quot;)</span><br><br><span class="hljs-comment">//next()</span><br><br><span class="hljs-comment">//&#125;)</span><br></code></pre></td></tr></table></figure>

<p><strong>中间件的作用</strong></p>
<p>多个中间件之间，是可以共享一份req和res，基于这样的特性，我们可以在上游的中间件中，统一为req或res对象添加自定义个属性或方法，供下游的中间件或路由进行使用</p>
<p>路由和多个中间件之间都是共享同一份res和req的</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//在中间件中定义的req.startTime可以在下游路由或者后面的中间件中被访问</span><br><span class="hljs-keyword">const</span> express=<span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;express&quot;</span>)<br><br><span class="hljs-keyword">const</span> app=<span class="hljs-title function_">express</span>()<br><br><span class="hljs-comment">//定义一个最简单的中间件</span><br><br><span class="hljs-keyword">const</span> mw=<span class="hljs-keyword">function</span>(<span class="hljs-params">req,res,next</span>)&#123;<br><br>  <span class="hljs-comment">//获取请求到达服务器的时间</span><br><br> <span class="hljs-keyword">const</span> time=<span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>()<br><br><span class="hljs-comment">//为req对象挂载自定义属性，从而把时间共享给后面的所有路由</span><br><br>req.<span class="hljs-property">startTime</span>=time<br><br>&#125;<br><br><span class="hljs-comment">//将mw注册为全局生效的中间件,无论访问什么url都先要经过这个中间件，输出这句话</span><br><br>app.<span class="hljs-title function_">use</span>(mw)<br><br><br><br>app.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;/&#x27;</span>,<span class="hljs-function">(<span class="hljs-params">req,res</span>)=&gt;</span>&#123;<br><br>  res.<span class="hljs-title function_">send</span>(<span class="hljs-string">&quot;home page&quot;</span>+req.<span class="hljs-property">startTime</span>)<br><br>&#125;)<br><br>app.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;/user&#x27;</span>,<span class="hljs-function">(<span class="hljs-params">req,res</span>)=&gt;</span>&#123;<br><br>  res.<span class="hljs-title function_">send</span>(<span class="hljs-string">&quot;user page&quot;</span>+req.<span class="hljs-property">startTime</span>)<br><br>&#125;)<br><br>app.<span class="hljs-title function_">listen</span>(<span class="hljs-number">8080</span>,<span class="hljs-function">()=&gt;</span>&#123;<br><br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;service running at http://127.0.0.1&quot;</span>)<br><br>&#125;)<br></code></pre></td></tr></table></figure>

<p><strong>定义多个全局中间件</strong></p>
<p>可以使用app.use()连续定义多个全局中间件，客户端请求到达服务器之后，会按照中间件的定义的先后顺序依次进行调用，实例代码如下</p>
<p><strong>局部生效的中间件</strong></p>
<p>不适用app.use()定义的中间件，就叫做局部生效的中间件，示例代码如下</p>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>javascript</div>
      <div>http://example.com/2022/09/29/javascript学习/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>Author</div>
          <div>John Doe</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>Posted on</div>
          <div>September 29, 2022</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>Licensed under</div>
          <div>
            
              
              
                <a target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - Attribution">
                    <i class="iconfont icon-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2022/09/29/git%E4%BD%BF%E7%94%A8%E5%92%8Cgithub/" title="git和github">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">git和github</span>
                        <span class="visible-mobile">Previous</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2022/09/29/jdbc/" title="jdbc">
                        <span class="hidden-mobile">jdbc</span>
                        <span class="visible-mobile">Next</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;Table of Contents</p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">Search</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">Keyword</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    
      <script  src="/js/img-lazyload.js" ></script>
    
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">Blog works best with JavaScript enabled</div>
  </noscript>
<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"model":{"jsonPath":"/live2dw/assets/koharu.model.json"},"display":{"position":"left","width":150,"height":300},"mobile":{"show":true},"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>
</html>
